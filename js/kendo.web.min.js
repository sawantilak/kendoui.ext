!function(a,b,c){function d(){}function e(a,b){if(b)return"'"+a.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var c=a.charAt(0),d=a.substring(1);return"="===c?"+("+d+")+":":"===c?"+e("+d+")+":";"+a+";o+="}function f(a,b,c){return a+="",b=b||2,c=b-a.length,c?gb[b].substring(0,c)+a:a}function g(b){var c,d=J.browser,e="rtl"==b.css("direction");if(b.parent().hasClass("k-animation-container")){var f=b.parent(".k-animation-container"),g=f[0].style;f.is(":hidden")&&f.show(),c=K.test(g.width)||K.test(g.height),c||f.css({width:b.outerWidth(),height:b.outerHeight()})}else{var h=b.css(A.support.transitions.css+"box-shadow")||b.css("box-shadow"),i=h?h.match(M)||[0,0,0,0,0]:[0,0,0,0,0],j=H.max(+i[3],+(i[4]||0)),k=-i[1]+j,l=+i[1]+j,m=+i[2]+j,n=b[0].style.width,o=b[0].style.height,p=K.test(n),q=K.test(o);d.opera&&(k=l=m=5),c=p||q,p||(n=b.outerWidth()),q||(o=b.outerHeight()),b.wrap(a("<div/>").addClass("k-animation-container").css({width:n,height:o,marginLeft:k*(e?1:-1),paddingLeft:k,paddingRight:l,paddingBottom:m})),c&&b.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return d.msie&&H.floor(d.version)<=7&&(b.css({zoom:1}),b.children(".k-menu").width(b.width())),b.parent()}function h(a){var b=1,c=arguments.length;for(b=1;c>b;b++)i(a,arguments[b]);return a}function i(a,b){var c,d,e,f,g=A.data.ObservableArray,h=A.data.DataSource;for(c in b)d=b[c],e=typeof d,e===R&&null!==d&&d.constructor!==Array&&d.constructor!==g&&d.constructor!==h?d instanceof Date?a[c]=new Date(d.getTime()):(f=a[c],a[c]=typeof f===R?f||{}:{},i(a[c],d)):e!==U&&(a[c]=d);return a}function j(a,b,d){for(var e in b)if(b.hasOwnProperty(e)&&b[e].test(a))return e;return d!==c?d:a}function k(b,c){var d,e={};return document.defaultView&&document.defaultView.getComputedStyle?(d=document.defaultView.getComputedStyle(b,""),c&&a.each(c,function(a,b){e[b]=d.getPropertyValue(b)})):(d=b.currentStyle,c&&a.each(c,function(a,b){e[b]=d[b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})]})),A.size(e)||(e=d),e}function l(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&"toJSON"!=b&&c++;return c}function m(a,b,c){b||(b="offset");var d=a[b](),e=J.mobileOS;if(J.touch&&e.ios&&e.flatVersion<410){var f="offset"==b?d:a.offset(),g=d.left==f.left&&d.top==f.top;if(g)return{top:d.top-window.scrollY,left:d.left-window.scrollX}}return A.support.pointers&&!c&&(d.top-=window.pageYOffset-document.documentElement.scrollTop,d.left-=window.pageXOffset-document.documentElement.scrollLeft),d}function n(a){var b={};return C("string"==typeof a?a.split(" "):a,function(a){b[a]=this}),b}function o(a){return new A.effects.Element(a)}function p(a,b,c,d){return typeof a===P&&(G(b)&&(d=b,b=400,c=!1),G(c)&&(d=c,c=!1),typeof b===T&&(c=b,b=400),a={effects:a,duration:b,reverse:c,complete:d}),B({effects:{},duration:400,reverse:!1,init:F,teardown:F,hide:!1},a,{completeCallback:a.complete,complete:F})}function q(b,c,d,e,f){for(var g,h=0,i=b.length;i>h;h++)g=a(b[h]),g.queue(function(){ib.promise(g,p(c,d,e,f))});return b}function r(a,b,c,d,e,f){return ib.transitionPromise(a,b,p(c,d,e,f))}function s(a,b,c,d){return b&&(b=b.split(" "),C(b,function(b,c){a.toggleClass(c,d)})),a}function t(a){return(""+a).replace(jb,"&amp;").replace(kb,"&lt;").replace(lb,"&gt;")}function u(a,d){var e;return 0===d.indexOf("data")&&(d=d.substring(4),d=d.charAt(0).toLowerCase()+d.substring(1)),d=d.replace(tb,"-$1"),e=a.getAttribute("data-"+A.ns+d),null===e?e=c:"null"===e?e=null:"true"===e?e=!0:"false"===e?e=!1:N.test(e)?e=parseFloat(e):rb.test(e)&&!sb.test(e)&&(e=b("("+e+")")),e}function v(b,d){var e,f,g={};for(e in d)f=u(b,e),f!==c&&(qb.test(e)&&(f=A.template(a("#"+f).html())),g[e]=f);return g}function w(a,b){var c=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&x(a)}function x(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")||a.expr.filters.hidden(this)}).length}function y(a,b){return new y.fn.init(a,b)}var z,A=window.kendo=window.kendo||{},B=a.extend,C=a.each,D=a.proxy,E=a.isArray,F=a.noop,G=a.isFunction,H=Math,I=window.JSON||{},J={},K=/%/,L=/\{(\d+)(:[^\}]+)?\}/g,M=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,N=/^(\+|-?)\d+(\.?)\d*$/,O="function",P="string",Q="number",R="object",S="null",T="boolean",U="undefined",V={},W={},X=[].slice,Y=window.Globalize;A.version="2013.2.716",d.extend=function(a){var b,c,d=function(){},e=this,f=a&&a.init?a.init:function(){e.apply(this,arguments)};d.prototype=e.prototype,c=f.fn=f.prototype=new d;for(b in a)c[b]=typeof a[b]!==R||a[b]instanceof Array||null===a[b]?a[b]:B(!0,{},d.prototype[b],a[b]);return c.constructor=f,f.extend=e.extend,f};var Z=function(){this._defaultPrevented=!0},$=function(){return this._defaultPrevented===!0},_=d.extend({init:function(){this._events={}},bind:function(a,b,d){var e,f,g,h,i,j=this,k=typeof a===P?[a]:a,l=typeof b===O;if(b===c){for(e in a)j.bind(e,a[e]);return j}for(e=0,f=k.length;f>e;e++)a=k[e],h=l?b:b[a],h&&(d&&(g=h,h=function(){j.unbind(a,h),g.apply(j,arguments)}),i=j._events[a]=j._events[a]||[],i.push(h));return j},one:function(a,b){return this.bind(a,b,!0)},first:function(a,b){var c,d,e,f,g=this,h=typeof a===P?[a]:a,i=typeof b===O;for(c=0,d=h.length;d>c;c++)a=h[c],e=i?b:b[a],e&&(f=g._events[a]=g._events[a]||[],f.unshift(e));return g},trigger:function(a,b){var c,d,e=this,f=e._events[a];if(f){for(b=b||{},b.sender=e,b._defaultPrevented=!1,b.preventDefault=Z,b.isDefaultPrevented=$,f=f.slice(),c=0,d=f.length;d>c;c++)f[c].call(e,b);return b._defaultPrevented===!0}return!1},unbind:function(a,b){var d,e=this,f=e._events[a];if(a===c)e._events={};else if(f)if(b)for(d=f.length-1;d>=0;d--)f[d]===b&&f.splice(d,1);else e._events[a]=[];return e}}),ab=/^\w+/,bb=/\$\{([^}]*)\}/g,cb=/\\\}/g,db=/__CURLY__/g,eb=/\\#/g,fb=/__SHARP__/g,gb=["","0","00","000","0000"];z={paramName:"data",useWithBlock:!0,render:function(a,b){var c,d,e="";for(c=0,d=b.length;d>c;c++)e+=a(b[c]);return e},compile:function(b,c){var d,f,g,h=B({},this,c),i=h.paramName,j=i.match(ab)[0],k=h.useWithBlock,l="var o,e=kendo.htmlEncode;";if(G(b))return 2===b.length?function(c){return b(a,{data:c}).join("")}:b;for(l+=k?"with("+i+"){":"",l+="o=",f=b.replace(cb,"__CURLY__").replace(bb,"#=e($1)#").replace(db,"}").replace(eb,"__SHARP__").split("#"),g=0;g<f.length;g++)l+=e(f[g],0===g%2);l+=k?";}":";",l+="return o;",l=l.replace(fb,"#");try{return d=new Function(j,l),d._slotCount=Math.floor(f.length/2),d}catch(m){throw new Error(A.format("Invalid template:'{0}' Generated code:'{1}'",b,l))}}},function(){function a(a){return g.lastIndex=0,g.test(a)?'"'+a.replace(g,function(a){var b=h[a];return typeof b===P?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(f,g){var h,j,k,l,m,n,o=c,p=g[f];if(p&&typeof p===R&&typeof p.toJSON===O&&(p=p.toJSON(f)),typeof e===O&&(p=e.call(g,f,p)),n=typeof p,n===P)return a(p);if(n===Q)return isFinite(p)?String(p):S;if(n===T||n===S)return String(p);if(n===R){if(!p)return S;if(c+=d,m=[],"[object Array]"===i.apply(p)){for(l=p.length,h=0;l>h;h++)m[h]=b(h,p)||S;return k=0===m.length?"[]":c?"[\n"+c+m.join(",\n"+c)+"\n"+o+"]":"["+m.join(",")+"]",c=o,k}if(e&&typeof e===R)for(l=e.length,h=0;l>h;h++)typeof e[h]===P&&(j=e[h],k=b(j,p),k&&m.push(a(j)+(c?": ":":")+k));else for(j in p)Object.hasOwnProperty.call(p,j)&&(k=b(j,p),k&&m.push(a(j)+(c?": ":":")+k));return k=0===m.length?"{}":c?"{\n"+c+m.join(",\n"+c)+"\n"+o+"}":"{"+m.join(",")+"}",c=o,k}}var c,d,e,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i={}.toString;typeof Date.prototype.toJSON!==O&&(Date.prototype.toJSON=function(){var a=this;return isFinite(a.valueOf())?f(a.getUTCFullYear(),4)+"-"+f(a.getUTCMonth()+1)+"-"+f(a.getUTCDate())+"T"+f(a.getUTCHours())+":"+f(a.getUTCMinutes())+":"+f(a.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof I.stringify!==O&&(I.stringify=function(a,f,g){var h;if(c="",d="",typeof g===Q)for(h=0;g>h;h+=1)d+=" ";else typeof g===P&&(d=g);if(e=f,f&&typeof f!==O&&(typeof f!==R||typeof f.length!==Q))throw new Error("JSON.stringify");return b("",{"":a})})}(),function(){function a(a){if(a){if(a.numberFormat)return a;if(typeof a===P){var b=A.cultures;return b[a]||b[a.split("-")[0]]||null}return null}return null}function b(b){return b&&(b=a(b)),b||A.cultures.current}function d(a){a.groupSizes=a.groupSize,a.percent.groupSizes=a.percent.groupSize,a.currency.groupSizes=a.currency.groupSize}function e(a,d,e){e=b(e);var g=e.calendars.standard,i=g.days,j=g.months;return d=g.patterns[d]||d,d.replace(h,function(b){var d;return"d"===b?d=a.getDate():"dd"===b?d=f(a.getDate()):"ddd"===b?d=i.namesAbbr[a.getDay()]:"dddd"===b?d=i.names[a.getDay()]:"M"===b?d=a.getMonth()+1:"MM"===b?d=f(a.getMonth()+1):"MMM"===b?d=j.namesAbbr[a.getMonth()]:"MMMM"===b?d=j.names[a.getMonth()]:"yy"===b?d=f(a.getFullYear()%100):"yyyy"===b?d=f(a.getFullYear(),4):"h"===b?d=a.getHours()%12||12:"hh"===b?d=f(a.getHours()%12||12):"H"===b?d=a.getHours():"HH"===b?d=f(a.getHours()):"m"===b?d=a.getMinutes():"mm"===b?d=f(a.getMinutes()):"s"===b?d=a.getSeconds():"ss"===b?d=f(a.getSeconds()):"f"===b?d=H.floor(a.getMilliseconds()/100):"ff"===b?d=H.floor(a.getMilliseconds()/10):"fff"===b?d=a.getMilliseconds():"tt"===b&&(d=a.getHours()<12?g.AM[0]:g.PM[0]),d!==c?d:b.slice(1,b.length-1)})}function g(a,d,e){e=b(e);var f,g,h,r,s,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=e.numberFormat,N=M.groupSize[0],O=M[n],P=M[m],Q=M.decimals,R=M.pattern[0],S=[],T=0>a,U=l,V=l,W=-1;if(a===c)return l;if(!isFinite(a))return a;if(!d)return e.name.length?a.toLocaleString():a.toString();if(s=i.exec(d)){if(d=s[1].toLowerCase(),g="c"===d,h="p"===d,(g||h)&&(M=g?M.currency:M.percent,N=M.groupSize[0],O=M[n],P=M[m],Q=M.decimals,f=M.symbol,R=M.pattern[T?0:1]),r=s[2],r&&(Q=+r),"e"===d)return r?a.toExponential(Q):a.toExponential();if(h&&(a*=100),a=t(a,Q),a=a.split(m),u=a[0],v=a[1],T&&(u=u.substring(1)),V=u,w=u.length,w>=N)for(V=l,y=0;w>y;y++)y>0&&0===(w-y)%N&&(V+=O),V+=u.charAt(y);if(v&&(V+=P+v),"n"===d&&!T)return V;for(a=l,y=0,z=R.length;z>y;y++)A=R.charAt(y),a+="n"===A?V:"$"===A||"%"===A?f:A;return a}if(T&&(a=-a),(d.indexOf("'")>-1||d.indexOf('"')>-1||d.indexOf("\\")>-1)&&(d=d.replace(j,function(a){var b=a.charAt(0).replace("\\",""),c=a.slice(1).replace(b,"");return S.push(c),q})),d=d.split(";"),T&&d[1])d=d[1],C=!0;else if(0===a){if(d=d[2]||d[0],-1==d.indexOf(o)&&-1==d.indexOf(p))return d}else d=d[0];if(I=d.indexOf("%"),J=d.indexOf("$"),h=-1!=I,g=-1!=J,h&&(a*=100),g&&"\\"===d[J-1]&&(d=d.split("\\").join(""),g=!1),(g||h)&&(M=g?M.currency:M.percent,N=M.groupSize[0],O=M[n],P=M[m],Q=M.decimals,f=M.symbol),B=d.indexOf(n)>-1,B&&(d=d.replace(k,l)),D=d.indexOf(m),z=d.length,-1!=D?(v=a.toString().split("e"),v=v[1]?t(a,Math.abs(v[1])):v[0],v=v.split(m)[1]||l,F=d.lastIndexOf(p)-D,E=d.lastIndexOf(o)-D,G=F>-1,H=E>-1,y=v.length,G||H||(d=d.substring(0,D)+d.substring(D+1),z=d.length,D=-1,y=0),G&&F>E?y=F:E>F&&(H&&y>E?y=E:G&&F>y&&(y=F)),y>-1&&(a=t(a,y))):a=t(a),E=d.indexOf(o),K=F=d.indexOf(p),W=-1==E&&-1!=F?F:-1!=E&&-1==F?E:E>F?F:E,E=d.lastIndexOf(o),F=d.lastIndexOf(p),L=-1==E&&-1!=F?F:-1!=E&&-1==F?E:E>F?E:F,W==z&&(L=W),-1!=W){if(V=a.toString().split(m),u=V[0],v=V[1]||l,w=u.length,x=v.length,B)if(w===N&&D-K>w)u=O+u;else if(w>N){for(V=l,y=0;w>y;y++)y>0&&0===(w-y)%N&&(V+=O),V+=u.charAt(y);u=V}for(a=d.substring(0,W),T&&!C&&(a+="-"),y=W;z>y;y++){if(A=d.charAt(y),-1==D){if(w>L-y){a+=u;break}}else if(-1!=F&&y>F&&(U=l),w>=D-y&&D-y>-1&&(a+=u,y=D),D===y){a+=(v?P:l)+v,y+=L-D+1;continue}A===p?(a+=A,U=A):A===o&&(a+=U)}if(L>=W&&(a+=d.substring(L+1)),g||h){for(V=l,y=0,z=a.length;z>y;y++)A=a.charAt(y),V+="$"===A||"%"===A?f:A;a=V}if(z=S.length)for(y=0;z>y;y++)a=a.replace(q,S[y])}return a}var h=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,i=/^(n|c|p|e)(\d*)$/i,j=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,k=/\,/g,l="",m=".",n=",",o="#",p="0",q="??",r="en-US",s={}.toString;A.cultures={"en-US":{name:r,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}}},A.culture=function(b){var e,f=A.cultures;return b===c?f.current:(e=a(b)||f[r],e.calendar=e.calendars.standard,f.current=e,Y&&d(e.numberFormat),void 0)},A.findCulture=a,A.getCulture=b,A.culture(r);var t=function(a,b){var c=Math.pow(10,b||0);return(Math.round(a*c)/c).toFixed(b)},u=function(a,b,d){if(b){if("[object Date]"===s.call(a))return e(a,b,d);if(typeof a===Q)return g(a,b,d)}return a!==c?a:""};Y&&(u=D(Y.format,Y)),A.format=function(a){var b=arguments;return a.replace(L,function(a,c,d){var e=b[parseInt(c,10)+1];return u(e,d?d.substring(1):"")})},A._extractFormat=function(a){return"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1)),a},A._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}},A._round=t,A.toString=u}(),function(){function b(a,b,c){return!(a>=b&&c>=a)}function d(a){return a.charAt(0)}function e(b){return a.map(b,d)}function f(a,b){b||23!==a.getHours()||a.setHours(a.getHours()+2)}function g(a){for(var b=0,c=a.length,d=[];c>b;b++)d[b]=(a[b]+"").toLowerCase();return d}function h(a){var b,c={};for(b in a)c[b]=g(a[b]);return c}function i(a,d,g){if(!a)return null;var i,j,k,n,o,q,r,s,t,u,v,w,x=function(a){for(var b=0;d[J]===a;)b++,J++;return b>0&&(J-=1),b},y=function(b){var c=p[b]||new RegExp("^\\d{1,"+b+"}"),d=a.substr(K,b).match(c);return d?(d=d[0],K+=d.length,parseInt(d,10)):null},z=function(b,c){for(var d,e,f,g=0,h=b.length;h>g;g++)if(d=b[g],e=d.length,f=a.substr(K,e),c&&(f=f.toLowerCase()),f==d)return K+=e,g+1;return null},A=function(){var b=!1;return a.charAt(K)===d[J]&&(K++,b=!0),b},B=g.calendars.standard,C=null,D=null,E=null,F=null,G=null,H=null,I=null,J=0,K=0,L=!1,M=new Date,N=B.twoDigitYearMax||2029,O=M.getFullYear();for(d||(d="d"),n=B.patterns[d],n&&(d=n),d=d.split(""),k=d.length;k>J;J++)if(i=d[J],L)"'"===i?L=!1:A();else if("d"===i){if(j=x("d"),B._lowerDays||(B._lowerDays=h(B.days)),E=3>j?y(2):z(B._lowerDays[3==j?"namesAbbr":"names"],!0),null===E||b(E,1,31))return null}else if("M"===i){if(j=x("M"),B._lowerMonths||(B._lowerMonths=h(B.months)),D=3>j?y(2):z(B._lowerMonths[3==j?"namesAbbr":"names"],!0),null===D||b(D,1,12))return null;D-=1}else if("y"===i){if(j=x("y"),C=y(j),null===C)return null;2==j&&("string"==typeof N&&(N=O+parseInt(N,10)),C=O-O%100+C,C>N&&(C-=100))}else if("h"===i){if(x("h"),F=y(2),12==F&&(F=0),null===F||b(F,0,11))return null}else if("H"===i){if(x("H"),F=y(2),null===F||b(F,0,23))return null}else if("m"===i){if(x("m"),G=y(2),null===G||b(G,0,59))return null}else if("s"===i){if(x("s"),H=y(2),null===H||b(H,0,59))return null}else if("f"===i){if(j=x("f"),I=y(j),null!==I&&j>3&&(I=parseInt(I.toString().substring(0,3),10)),null===I||b(I,0,999))return null}else if("t"===i){if(j=x("t"),t=B.AM,u=B.PM,1===j&&(t=e(t),u=e(u)),o=z(u),!o&&!z(t))return null}else if("z"===i){if(q=!0,j=x("z"),"Z"===a.substr(K,1)){if(!r)return null;A();continue}if(s=a.substr(K,6).match(j>2?m:l),!s)return null;if(s=s[0],K=s.length,s=s.split(":"),v=parseInt(s[0],10),b(v,-12,13))return null;if(j>2&&(w=parseInt(s[1],10),isNaN(w)||b(w,0,59)))return null}else if("T"===i)r=A();else if("'"===i)L=!0,A();else if(!A())return null;return null===C&&(C=O),o&&12>F&&(F+=12),null===E&&(E=1),q?(v&&(F+=-v),w&&(G+=-w),a=new Date(Date.UTC(C,D,E,F,G,H,I))):(a=new Date(C,D,E,F,G,H,I),f(a,F)),100>C&&a.setFullYear(C),a.getDate()!==E&&q===c?null:a}var j=/\u00A0/g,k=/[eE][\-+]?[0-9]+/,l=/[+|\-]\d{1,2}/,m=/[+|\-]\d{1,2}:\d{2}/,n=/^\/Date\((.*?)\)\/$/,o=["G","g","d","F","D","y","m","T","t"],p={2:/^\d{1,2}/,4:/^\d{4}/},q={}.toString;A.parseDate=function(a,b,c){if("[object Date]"===q.call(a))return a;var d,e,f=0,g=null;if(a&&0===a.indexOf("/D")&&(g=n.exec(a)))return new Date(parseInt(g[1],10));if(c=A.getCulture(c),!b){for(b=[],e=c.calendar.patterns,d=o.length;d>f;f++)b[f]=e[o[f]];f=0,b.push("yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd")}for(b=E(b)?b:[b],d=b.length;d>f;f++)if(g=i(a,b[f],c))return g;return g},A.parseInt=function(a,b){var c=A.parseFloat(a,b);return c&&(c=0|c),c},A.parseFloat=function(a,b,c){if(!a&&0!==a)return null;if(typeof a===Q)return a;a=a.toString(),b=A.getCulture(b);var d,e,f=b.numberFormat,g=f.percent,h=f.currency,i=h.symbol,l=g.symbol,m=a.indexOf("-");return k.test(a)?(a=parseFloat(a),isNaN(a)&&(a=null),a):m>0?null:(m=m>-1,a.indexOf(i)>-1||c&&c.toLowerCase().indexOf("c")>-1?(f=h,d=f.pattern[0].replace("$",i).split("n"),a.indexOf(d[0])>-1&&a.indexOf(d[1])>-1&&(a=a.replace(d[0],"").replace(d[1],""),m=!0)):a.indexOf(l)>-1&&(e=!0,f=g,i=l),a=a.replace("-","").replace(i,"").replace(j," ").split(f[","].replace(j," ")).join("").replace(f["."],"."),a=parseFloat(a),isNaN(a)?a=null:m&&(a*=-1),a&&e&&(a/=100),a)},Y&&(A.parseDate=function(a,b,c){return"[object Date]"===q.call(a)?a:Y.parseDate(a,b,c)},A.parseFloat=function(a,b){return typeof a===Q?a:a===c||null===a?null:(a=Y.parseFloat(a,b),isNaN(a)?null:a)})}(),function(){function b(a){var b=!1,c=[],d={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var e in d)if(d.hasOwnProperty(e)&&(c=a.match(d[e]))){b={},b[e]=!0,b[c[1].toLowerCase()]=!0,b.version=parseInt(document.documentMode||c[2],10);break}return b}J.scrollbar=function(){var a,b=document.createElement("div");return b.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",b.innerHTML="&nbsp;",document.body.appendChild(b),a=b.offsetWidth-b.scrollWidth,document.body.removeChild(b),a},J.isRtl=function(b){return a(b).closest(".k-rtl").length>0};var d=document.createElement("table");try{d.innerHTML="<tr><td></td></tr>",J.tbodyInnerHtml=!0}catch(e){J.tbodyInnerHtml=!1}J.touch="ontouchstart"in window,J.pointers=navigator.msPointerEnabled;var f=J.transitions=!1,g=J.transforms=!1,h="HTMLElement"in window?HTMLElement.prototype:[];J.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,C(["Moz","webkit","O","ms"],function(){var a=this.toString(),b=typeof d.style[a+"Transition"]===P;if(b||typeof d.style[a+"Transform"]===P){var c=a.toLowerCase();return g={css:"ms"!=c?"-"+c+"-":"",prefix:a,event:"o"===c||"webkit"===c?c:""},b&&(f=g,f.event=f.event?f.event+"TransitionEnd":"transitionend"),!1}}),J.transforms=g,J.transitions=f,J.devicePixelRatio=window.devicePixelRatio===c?1:window.devicePixelRatio;try{J.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,J.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight,J.zoomLevel=function(){return J.touch?document.documentElement.clientWidth/window.innerWidth:J.pointers?(top||window).outerWidth/(top||window).innerWidth:1}}catch(e){J.screenWidth=window.screen.availWidth,J.screenHeight=window.screen.availHeight,J.zoomLevel=function(){return 1}}J.detectOS=function(a){var b,c=!1,d=[],e=!/mobile safari/i.test(a),f={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},g={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},h={tablet:/playbook|ipad|fire/i},i={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var k in f)if(f.hasOwnProperty(k)&&(d=a.match(f[k]))){if("windows"==k&&"plugins"in navigator)return!1;c={},c.device=k,c.tablet=j(k,h,!1),c.browser=j(a,i,"default"),c.name=j(k,g),c[c.name]=!0,c.majorVersion=d[2],c.minorVersion=d[3].replace("_","."),b=c.minorVersion.replace(".","").substr(0,2),c.flatVersion=c.majorVersion+b+new Array(3-(b.length<3?b.length:2)).join("0"),c.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||typeof window.PhoneGap!==U||typeof window.cordova!==U,c.android&&(J.devicePixelRatio<1.5&&c.flatVersion<400||e)&&(J.screenWidth>800||J.screenHeight>800)&&(c.tablet=k);break}return c};var i=J.mobileOS=J.detectOS(navigator.userAgent);J.wpDevicePixelRatio=i.wp?screen.width/320:0,J.kineticScrollNeeded=i&&(J.touch||J.pointers),J.hasNativeScrolling=!1,(i.ios&&i.majorVersion>4||i.android&&i.majorVersion>2||i.wp)&&(J.hasNativeScrolling=i),J.mouseAndTouchPresent=J.touch&&!(J.mobileOS.ios||J.mobileOS.android),J.browser=b(navigator.userAgent),J.cssBorderSpacing="undefined"!=typeof document.documentElement.style.borderSpacing&&!(J.browser.msie&&J.browser.version<8),function(b){var c,d=parseInt(b.version,10);b.msie?c="ie":b.mozilla?c="ff":b.safari?c="safari":b.webkit?c="webkit":b.opera&&(c="opera"),c&&a(document.documentElement).addClass("k-"+c+" k-"+c+d)}(J.browser),J.eventCapture=document.documentElement.addEventListener,J.placeholder="placeholder"in document.createElement("input"),J.stableSort=function(){var a=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===a[0]&&1===a[1]&&2===a[2]&&3===a[3]&&4===a[4]&&5===a[5]&&6===a[6]&&7===a[7]&&8===a[8]&&9===a[9]&&10===a[10]&&11===a[11]&&12===a[12]}(),J.matchesSelector=h.webkitMatchesSelector||h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector||h.matchesSelector||function(b){for(var c=document.querySelectorAll?(this.parentNode||document).querySelectorAll(b)||[]:a(b),d=c.length;d--;)if(c[d]==this)return!0;return!1},J.pushState=window.history&&window.history.pushState;var k=document.documentMode;J.hashChange="onhashchange"in window&&!(J.browser.msie&&(!k||8>=k))}();var hb={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},ib={};a.extend(ib,{Element:function(b){this.element=a(b)},promise:function(a,b){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.hide&&a.data("olddisplay",a.css("display")).hide(),b.init&&b.init(),b.completeCallback&&b.completeCallback(a),a.dequeue()},transitionPromise:function(a,b,c){var d=A.wrap(a);return d.append(b),a.hide(),b.show(),c.completeCallback&&c.completeCallback(a),a}}),"kendoAnimate"in a.fn||B(a.fn,{kendoStop:function(a,b){return this.stop(a,b)},kendoAnimate:function(a,b,c,d){return q(this,a,b,c,d)},kendoAnimateTo:function(a,b,c,d,e){return r(this,a,b,c,d,e)},kendoAddClass:function(a,b){return A.toggleClass(this,a,b,!0)},kendoRemoveClass:function(a,b){return A.toggleClass(this,a,b,!1)},kendoToggleClass:function(a,b,c){return A.toggleClass(this,a,b,c)}});var jb=/&/g,kb=/</g,lb=/>/g,mb=function(a){return a.target};J.touch&&(mb=function(a){var b="originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null;return b?document.elementFromPoint(b[0].clientX,b[0].clientY):a.target},C(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(b,c){a.fn[c]=function(a){return this.bind(c,a)}})),J.touch?J.mobileOS?(J.mousedown="touchstart",J.mouseup="touchend",J.mousemove="touchmove",J.mousecancel="touchcancel",J.click="touchend",J.resize="orientationchange"):(J.mousedown="mousedown touchstart",J.mouseup="mouseup touchend",J.mousemove="mousemove touchmove",J.mousecancel="mouseleave touchcancel",J.click="click",J.resize="resize"):J.pointers?(J.mousemove="MSPointerMove",J.mousedown="MSPointerDown",J.mouseup="MSPointerUp",J.mousecancel="MSPointerCancel",J.click="MSPointerUp",J.resize="orientationchange resize"):(J.mousemove="mousemove",J.mousedown="mousedown",J.mouseup="mouseup",J.mousecancel="mouseleave",J.click="click",J.resize="resize");var nb=function(a,b){var c,d,e,f,g=b||"d",h=1;for(d=0,e=a.length;e>d;d++)f=a[d],""!==f&&(c=f.indexOf("["),0!==c&&(-1==c?f="."+f:(h++,f="."+f.substring(0,c)+" || {})"+f.substring(c))),h++,g+=f+(e-1>d?" || {})":")"));return new Array(h).join("(")+g},ob=/^([a-z]+:)?\/\//i;B(A,{ui:A.ui||{},fx:A.fx||o,effects:A.effects||ib,mobile:A.mobile||{},data:A.data||{},dataviz:A.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:A.support||J,animate:A.animate||q,ns:"",attr:function(a){return"data-"+A.ns+a},wrap:g,deepExtend:h,getComputedStyles:k,size:l,getOffset:A.getOffset||m,parseEffects:A.parseEffects||n,toggleClass:A.toggleClass||s,directions:A.directions||hb,Observable:_,Class:d,Template:z,template:D(z.compile,z),render:D(z.render,z),stringify:D(I.stringify,I),eventTarget:mb,htmlEncode:t,isLocalUrl:function(a){return a&&!ob.test(a)},expr:function(a,b,c){return a=a||"",typeof b==P&&(c=b,b=!1),c=c||"d",a&&"["!==a.charAt(0)&&(a="."+a),a=b?nb(a.split("."),c):c+a},getter:function(a,b){return V[a]=V[a]||new Function("d","return "+A.expr(a,b))},setter:function(a){return W[a]=W[a]||new Function("d,value",A.expr(a)+"=value")},accessor:function(a){return{get:A.getter(a),set:A.setter(a)}},guid:function(){var a,b,c="";for(a=0;32>a;a++)b=0|16*H.random(),(8==a||12==a||16==a||20==a)&&(c+="-"),c+=(12==a?4:16==a?8|3&b:b).toString(16);return c},roleSelector:function(a){return a.replace(/(\S+)/g,"["+A.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(a){return/^(label|input|textarea|select)$/i.test(a.target.tagName)},logToConsole:function(a){var b=window.console;"undefined"!=typeof b&&b.log&&b.log(a)}});var pb=_.extend({init:function(a,b){var c=this;c.element=A.jQuery(a).handler(c),_.fn.init.call(c),b=c.options=B(!0,{},c.options,b),c.element.attr(A.attr("role"))||c.element.attr(A.attr("role"),(b.name||"").toLowerCase()),c.element.data("kendo"+b.prefix+b.name,c),c.bind(c.events,b)},events:[],options:{prefix:""},_tabindex:function(a){a=a||this.wrapper;var b=this.element,c="tabindex",d=a.attr(c)||b.attr(c);b.removeAttr(c),a.attr(c,isNaN(d)?0:d)},setOptions:function(b){for(var c,d=this,e=0,f=d.events.length;f>e;e++)c=d.events[e],d.options[c]&&b[c]&&d.unbind(c,d.options[c]);a.extend(d.options,b),d.bind(d.events,b)},destroy:function(){var a=this;a.element.removeData("kendo"+a.options.prefix+a.options.name),a.element.removeData("handler"),a.unbind()}});A.notify=F;var qb=/template$/i,rb=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,sb=/^\{(\d+)(:[^\}]+)?\}/,tb=/([A-Z])/g;A.initWidget=function(b,d,e){var f,g,h,i,j,k,l,m;if(e?e.roles&&(e=e.roles):e=A.ui.roles,b=b.nodeType?b:b[0],k=b.getAttribute("data-"+A.ns+"role"),k&&(h=-1===k.indexOf(".")?e[k]:A.getter(k)(window))){for(m=u(b,"dataSource"),d=a.extend({},v(b,h.fn.options),d),m&&(d.dataSource=typeof m===P?A.getter(m)(window):m),i=0,j=h.fn.events.length;j>i;i++)g=h.fn.events[i],l=u(b,g),l!==c&&(d[g]=A.getter(l)(window));return f=a(b).data("kendo"+h.fn.options.prefix+h.fn.options.name),f?f.setOptions(d):f=new h(b,d),f}},A.rolesFromNamespaces=function(a){var b,c,d=[];for(a[0]||(a=[A.ui,A.dataviz.ui]),b=0,c=a.length;c>b;b++)d[b]=a[b].roles;return B.apply(null,[{}].concat(d.reverse()))},A.init=function(b){var c=A.rolesFromNamespaces(X.call(arguments,1));a(b).find("[data-"+A.ns+"role]").andSelf().each(function(){A.initWidget(this,{},c)})},A.destroy=function(b){a(b).find("[data-"+A.ns+"role]").andSelf().each(function(){var b=a(this),c=A.widgetInstance(b,A.ui)||A.widgetInstance(b,A.mobile.ui)||A.widgetInstance(b,A.dataviz.ui);c&&c.destroy()})},A.parseOptions=v,B(A.ui,{Widget:pb,roles:{},progress:function(b,c){var d,e,f,g,h=b.find(".k-loading-mask"),i=A.support,j=i.browser;c?h.length||(d=i.isRtl(b),e=d?"right":"left",g=b.scrollLeft(),f=j.webkit?d?b[0].scrollWidth-b.width()-2*g:0:0,h=a("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",b.scrollTop()).css(e,Math.abs(g)+f).prependTo(b)):h&&h.remove()},plugin:function(b,d,e){var f,g=b.fn.options.name;d=d||A.ui,e=e||"",d[g]=b,d.roles[g.toLowerCase()]=b,f="getKendo"+e+g,g="kendo"+e+g,a.fn[g]=function(d){var e,f=this;return typeof d===P?(e=X.call(arguments,1),this.each(function(){var b,h,i=a.data(this,g);if(!i)throw new Error(A.format("Cannot call method '{0}' of {1} before it is initialized",d,g));if(b=i[d],typeof b!==O)throw new Error(A.format("Cannot find method '{0}' of {1}",d,g));return h=b.apply(i,e),h!==c?(f=h,!1):void 0})):this.each(function(){new b(this,d)}),f},a.fn[f]=function(){return this.data(g)}}});var ub={bind:function(){return this}},vb=pb.extend({init:function(a,b){pb.fn.init.call(this,a,b),this.element.autoApplyNS(),this.wrapper=this.element},destroy:function(){pb.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var a=this.element.closest(A.roleSelector("view splitview modalview drawer"));return A.widgetInstance(a,A.mobile.ui)},container:function(){var a=this.element.closest(A.roleSelector("view layout modalview drawer"));return A.widgetInstance(a,A.mobile.ui)||ub}});B(A.mobile,{init:function(a){A.init(a,A.mobile.ui,A.ui,A.dataviz.ui)},ui:{Widget:vb,roles:{},plugin:function(a){A.ui.plugin(a,A.mobile.ui,"Mobile")}}}),A.touchScroller=function(b,c){return a(b).map(function(b,d){return d=a(d),J.kineticScrollNeeded&&A.mobile.ui.Scroller&&!d.data("kendoMobileScroller")?(d.kendoMobileScroller(c),d.data("kendoMobileScroller")):!1})[0]},A.preventDefault=function(a){a.preventDefault()},A.widgetInstance=function(a,b){var c=b.roles[a.data(A.ns+"role")];return c?a.data("kendo"+c.fn.options.prefix+c.fn.options.name):void 0},A.onResize=function(b){var c=b;return J.mobileOS.android&&(c=function(){setTimeout(b,200)}),a(window).on(J.resize,c),c},A.unbindResize=function(b){a(window).off(J.resize,b)},A.attrValue=function(a,b){return a.data(A.ns+b)},A.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},a.extend(a.expr[":"],{focusable:function(b){var c=a.attr(b,"tabindex");return w(b,!isNaN(c)&&c>-1)}});var wb=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],xb="label, input, [data-rel=external]",yb={setupMouseMute:function(){var b=0,c=wb.length,d=document.documentElement;if(!yb.mouseTrap&&J.eventCapture){yb.mouseTrap=!0,yb.bustClick=!1,yb.captureMouse=!1;
for(var e=function(b){yb.captureMouse&&("click"===b.type?yb.bustClick&&!a(b.target).is(xb)&&(b.preventDefault(),b.stopPropagation()):b.stopPropagation())};c>b;b++)d.addEventListener(wb[b],e,!0)}},muteMouse:function(a){yb.captureMouse=!0,a.data.bustClick&&(yb.bustClick=!0),clearTimeout(yb.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(yb.mouseTrapTimeoutID),yb.mouseTrapTimeoutID=setTimeout(function(){yb.captureMouse=!1,yb.bustClick=!1},400)}},zb={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};J.touch&&(J.mobileOS.ios||J.mobileOS.android)&&(zb={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}),J.pointers&&(zb={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"},a.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(b,c){a.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,e=this,f=b.relatedTarget,g=b.handleObj;return(!f||f!==e&&!a.contains(e,f))&&(b.type=g.origType,d=g.handler.apply(this,arguments),b.type=c),d}}}));var Ab=function(a){return zb[a]||a},Bb=/([^ ]+)/g;A.applyEventMap=function(a,b){return a=a.replace(Bb,Ab),b&&(a=a.replace(Bb,"$1."+b)),a};var Cb=a.fn.on;B(!0,y,a),y.fn=y.prototype=new a,y.fn.constructor=y,y.fn.init=function(b,c){return c&&c instanceof a&&!(c instanceof y)&&(c=y(c)),a.fn.init.call(this,b,c,Db)},y.fn.init.prototype=y.fn;var Db=y(document);B(y.fn,{handler:function(a){return this.data("handler",a),this},autoApplyNS:function(a){return this.data("kendoNS",a||A.guid()),this},on:function(){var a=this,b=a.data("kendoNS");if(1===arguments.length)return Cb.call(a,arguments[0]);var c=a,d=X.call(arguments);typeof d[d.length-1]===U&&d.pop();var e=d[d.length-1],f=A.applyEventMap(d[0],b);if(J.mouseAndTouchPresent&&f.search(/mouse|click/)>-1&&this[0]!==document.documentElement){yb.setupMouseMute();var g=2===d.length?null:d[1],h=f.indexOf("click")>-1&&f.indexOf("touchend")>-1;Cb.call(this,{touchstart:yb.muteMouse,touchend:yb.unMuteMouse},g,{bustClick:h})}return typeof e===P&&(c=a.data("handler"),e=c[e],d[d.length-1]=function(a){e.call(c,a)}),d[0]=f,Cb.apply(a,d),a},kendoDestroy:function(a){return a=a||this.data("kendoNS"),a&&this.off("."+a),this}}),A.jQuery=y,A.eventMap=zb,A.timezone=function(){function a(a,b){var c,d,e,f=b[3],g=b[4],h=b[5],i=b[8];return i||(b[8]=i={}),i[a]?i[a]:(isNaN(g)?0===g.indexOf("last")?(c=new Date(Date.UTC(a,j[f]+1,1,h[0]-24,h[1],h[2],0)),d=k[g.substr(4,3)],e=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+d-e-(d>e?7:0))):g.indexOf(">=")>=0&&(c=new Date(Date.UTC(a,j[f],g.substr(5),h[0],h[1],h[2],0)),d=k[g.substr(0,3)],e=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+d-e+(e>d?7:0))):c=new Date(Date.UTC(a,j[f],g,h[0],h[1],h[2],0)),i[a]=c)}function b(b,c,d){if(c=c[d],!c){var e=d.split(":"),f=0;return e.length>1&&(f=60*e[0]+Number(e[1])),[-1e6,"max","-","Jan",1,[0,0,0],f,"-"]}var g=new Date(b).getUTCFullYear();return c=jQuery.grep(c,function(a){var b=a[0],c=a[1];return g>=b&&(c>=g||b==g&&"only"==c||"max"==c)}),c.push(b),c.sort(function(b,c){return"number"!=typeof b&&(b=Number(a(g,b))),"number"!=typeof c&&(c=Number(a(g,c))),b-c}),c[jQuery.inArray(b,c)-1]}function c(a,b,c){if(b=b[c],!b)throw new Error('Timezone "'+c+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var d=b.length-1;d>=0;d--){var e=b[d][3];if(e&&a>e)break}var f=b[d+1];if(!f)throw new Error('Timezone "'+c+'" not found on '+a+".");return f}function d(a,d,e,f){typeof a!=Q&&(a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));var g=c(a,d,f);return{zone:g,rule:b(a,e,g[1])}}function e(a,b){if("Etc/UTC"==b||"Etc/GMT"==b)return 0;var c=d(a,this.zones,this.rules,b),e=c.zone,f=c.rule;return f?e[0]-f[6]:e[0]}function f(a,b){var c=d(a,this.zones,this.rules,b),e=c.zone,f=c.rule,g=e[2];return g.indexOf("/")>=0?g.split("/")[f&&f[6]?1:0]:g.indexOf("%s")>=0?g.replace("%s",f&&"-"!=f[7]?f[7]:""):g}function g(a,b,c){typeof b==P&&(b=this.offset(a,b)),typeof c==P&&(c=this.offset(a,c));var d=a.getTimezoneOffset();a=new Date(a.getTime()+6e4*(b-c));var e=a.getTimezoneOffset();return new Date(a.getTime()+6e4*(e-d))}function h(a,b){return this.convert(a,a.getTimezoneOffset(),b)}function i(a,b){return this.convert(a,b,a.getTimezoneOffset())}var j={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},k={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:e,convert:g,apply:h,remove:i,abbr:f}}(),A.date=function(){function a(a,b){return 0===b&&23===a.getHours()?(a.setHours(a.getHours()+2),!0):!1}function b(b,c,d){var e=b.getHours();d=d||1,c=(c-b.getDay()+7*d)%7,b.setDate(b.getDate()+c),a(b,e)}function c(a,c,d){return a=new Date(a),b(a,c,d),a}function d(a){return new Date(a.getFullYear(),a.getMonth(),1)}function e(a){var b=new Date(a.getFullYear(),a.getMonth()+1,0),c=d(a),e=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return e&&b.setHours(c.getHours()+e/60),b}function f(b){return b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0),a(b,0),b}function g(a){return 60*a.getHours()*n+a.getMinutes()*n+1e3*a.getSeconds()+a.getMilliseconds()}function h(a,b,c){var d,e=g(b),f=g(c);return a&&e!=f?(b>=c&&(c+=o),d=g(a),e>d&&(d+=o),e>f&&(f+=o),d>=e&&f>=d):!0}function i(a,b,c){var d,e=b.getTime(),f=c.getTime();return e>=f&&(f+=o),d=a.getTime(),d>=e&&f>=d}function j(b,c){var d=b.getHours();return b=new Date(b),k(b,c*o),a(b,d),b}function k(a,b,c){var d,e=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(d=a.getTimezoneOffset()-e,a.setTime(a.getTime()+d*n))}function l(){return f(new Date)}function m(a){return f(a).getTime()==l().getTime()}var n=6e4,o=864e5;return{adjustDST:a,dayOfWeek:c,setDayOfWeek:b,getDate:f,isInDateRange:i,isInTimeRange:h,isToday:m,nextDay:function(a){return j(a,1)},previousDay:function(a){return j(a,-1)},MS_PER_DAY:o,MS_PER_MINUTE:n,setTime:k,addDays:j,today:l,firstDayOfMonth:d,lastDayOfMonth:e,getMilliseconds:g}}(),A.stripWhitespace=function(a){for(var b=document.createNodeIterator(a,NodeFilter.SHOW_TEXT,function(b){return b.parentNode==a?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);b.nextNode();)b.referenceNode&&!b.referenceNode.textContent.trim()&&b.referenceNode.parentNode.removeChild(b.referenceNode)}}(jQuery,eval),"undefined"==typeof kendo_module&&(kendo_module=function(){}),function(a){var b=window.kendo,c=b.support,d=window.location,e=window.history,f=50,g=/^#*/,h=window.document,i=b.Observable.extend({start:function(a){var b=this;if(a=a||{},b.bind(["change"],a),!b._started){if(b._started=!0,b._pushStateRequested=!!a.pushState,b._pushState=c.pushState&&b._pushStateRequested,b.root=a.root||"/",b._interval=0,b._normalizeUrl())return!0;b.current=b._currentLocation(),b.locations=[b.current],b._listenToLocationChange()}},stop:function(){a(window).unbind(".kendo"),this.unbind("change"),clearInterval(this._interval),this._started=!1},change:function(a){this.bind("change",a)},navigate:function(a,b){var c=this;return"#:back"===a?(e.back(),void 0):(a=a.replace(g,""),c.current!==a&&c.current!==decodeURIComponent(a)&&(b||!c.trigger("change",{url:a}))&&(c._pushState?(e.pushState({},h.title,c._makePushStateUrl(a)),c.current=a):d.hash=c.current=a,c.locations.push(c.current)),void 0)},_normalizeUrl:function(){var a,b=this,f=b.root==d.pathname,i=b._pushStateRequested&&!c.pushState&&!f,j=b._pushState&&f&&d.hash;return i?(d.replace(b.root+"#"+b._stripRoot(d.pathname)),!0):j?(a=b._makePushStateUrl(d.hash.replace(g,"")),e.replaceState({},h.title,a),!1):!1},_listenToLocationChange:function(){var b=this,d=a.proxy(b._checkUrl,b);this._pushState?a(window).bind("popstate.kendo",d):c.hashChange?a(window).bind("hashchange.kendo",d):b._interval=setInterval(d,f)},_checkUrl:function(){var a=this,b=a._currentLocation().replace(g,""),c=b===a.locations[a.locations.length-2];if(a.current!==b&&a.current!==decodeURIComponent(b)){if(a.trigger("change",{url:b}))return c?e.forward():e.back(),void 0;a.current=b,c?a.locations.pop():a.locations.push(b)}},_stripRoot:function(a){var b=this;return 0===a.indexOf(b.root)?a.substr(b.root.length).replace(/\/\//g,"/"):a},_makePushStateUrl:function(a){var b=this,c=new RegExp("^"+b.root,"i");return c.test(a)||(a=(b.root+a).replace(/\/\//g,"/")),d.protocol+"//"+d.host+a},_currentLocation:function(){var a,b=this;return b._pushState?(a=d.pathname,d.search&&(a+=d.search),b._stripRoot(a)):d.hash.replace(g,"")}});b.history=new i}(window.kendo.jQuery),function(){function a(a,b){return b?a:"([^/]+)"}function b(b){return new RegExp("^"+b.replace(l,"\\$&").replace(i,"(?:$1)?").replace(j,a).replace(k,"(.*?)")+"$")}var c=window.kendo,d=c.history,e=c.Observable,f="init",g="routeMissing",h="change",i=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,k=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g,m=c.Class.extend({init:function(a,c){a instanceof RegExp||(a=b(a)),this.route=a,this._callback=c},callback:function(a){for(var b=this.route.exec(a).slice(1),c=0,d=b.length;d>c;c++)"undefined"!=typeof b[c]&&(b[c]=decodeURIComponent(b[c]));this._callback.apply(null,b)},worksWith:function(a){return this.route.test(a)?(this.callback(a),!0):!1}}),n=e.extend({init:function(a){e.fn.init.call(this),this.routes=[],this.pushState=a?a.pushState:!1,a&&a.root&&(this.root=a.root),this.bind([f,g,h],a)},destroy:function(){d.unbind("change",this._urlChangedProxy),this.unbind()},start:function(){var a=this,b=function(b){a._urlChanged(b)};d.start({change:b,pushState:a.pushState,root:a.root});var c={url:d.current||"/"};a.trigger(f,c)||a._urlChanged(c),this._urlChangedProxy=b},route:function(a,b){this.routes.push(new m(a,b))},navigate:function(a,b){c.history.navigate(a,b)},_urlChanged:function(a){var b=a.url;if(b||(b="/"),this.trigger(h,{url:a.url}))return a.preventDefault(),void 0;for(var c,d=0,e=this.routes,f=e.length;f>d;d++)if(c=e[d],c.worksWith(b))return;this.trigger(g,{url:b})&&a.preventDefault()}});c.Router=n}(),function(a){var b=window.kendo,c=b.Observable,d="SCRIPT",e="init",f="show",g="hide",h=c.extend({init:function(a,b){var d=this;b=b||{},c.fn.init.call(d),d.content=a,d.tagName=b.tagName||"div",d.model=b.model,d._wrap=b.wrap!==!1,d.bind([e,f,g],b)},render:function(c){var d=this,g=!d.element;return g&&(d.element=d._createElement()),c&&a(c).append(d.element),g&&(b.bind(d.element,d.model),d.trigger(e)),c&&d.trigger(f),d.element},hide:function(){this.element.detach(),this.trigger(g)},destroy:function(){var a=this.element;a&&(b.unbind(a),b.destroy(a),a.remove())},_createElement:function(){var b,c,e=this;return c=a(document.getElementById(e.content)||e.content),b=a("<"+e.tagName+" />").append(c[0].tagName===d?c.html():c),e._wrap||(b=b.contents()),b}}),i=h.extend({init:function(a,b){h.fn.init.call(this,a,b),this.regions={}},showIn:function(a,b){var c=this.regions[a];c&&c.hide(),b.render(this.render().find(a),c),this.regions[a]=b}});b.Layout=i,b.View=h}(window.kendo.jQuery),function(a,b){function c(a){return parseInt(a,10)}function d(a,b){return c(a.css(b))}function e(a){var b=a.effects;return"zoom"===b&&(b="zoom:in fade:in"),"fade"===b&&(b="fade:in"),"slide"===b&&(b="tile:left"),/^slide:(.+)$/.test(b)&&(b="tile:"+RegExp.$1),"overlay"===b&&(b="slideIn:left"),/^overlay:(.+)$/.test(b)&&(b="slideIn:"+RegExp.$1),a.effects=n.parseEffects(b),a}function f(a){var b=[];for(var c in a)b.push(c);return b}function g(a){for(var b in a)-1!=F.indexOf(b)&&-1==G.indexOf(b)&&delete a[b];return a}function h(a,b){var c,d,e,f,g=[],h={};for(d in b)c=d.toLowerCase(),f=u&&-1!=F.indexOf(c),!s.hasHW3D&&f&&-1==G.indexOf(c)?delete b[d]:(e=b[d],f?g.push(d+"("+e+")"):h[d]=e);return g.length&&(h[X]=g.join(" ")),h}function i(a,b){if(u){var d=a.css(X);if(d==M)return"scale"==b?1:0;var e=d.match(new RegExp(b+"\\s*\\(([\\d\\w\\.]+)")),f=0;return e?f=c(e[1]):(e=d.match(z)||[0,0,0,0,0],b=b.toLowerCase(),B.test(b)?f=parseFloat(e[3]/e[2]):"translatey"==b?f=parseFloat(e[4]/e[2]):"scale"==b?f=parseFloat(e[2]):"rotate"==b&&(f=parseFloat(Math.atan2(e[2],e[1])))),f}return parseFloat(a.css(b))}function j(a){return a.charAt(0).toUpperCase()+a.substring(1)}function k(a,b){var c=db.extend(b),d=c.prototype.directions;o[j(a)]=c,o.Element.prototype[a]=function(a,b,d,e){return new c(this.element,a,b,d,e)},p(d,function(b,d){o.Element.prototype[a+j(d)]=function(a,b,e){return new c(this.element,d,a,b,e)}})}function l(a,b,c){k(a,{directions:fb,restore:[b],startValue:function(a){return this._startValue=a,this},endValue:function(a){return this._endValue=a,this},shouldHide:function(){return"out"===this._direction?!this._reverse:this._reverse},_end:function(){return this._endValue||c},_start:function(){return this._startValue||1},prepare:function(a,c){var d=this,e=d.element.data(b),f=d.shouldHide(),g=isNaN(e)||""===e?d._start():e;a[b]=c[b]=d._end(),f?a[b]=g:c[b]=g}})}function m(a,b){var c=n.directions[b].vertical,d=a[c?P:O]()/2+"px";return hb[b].replace("$size",d)}var n=window.kendo,o=n.effects,p=a.each,q=a.extend,r=a.proxy,s=n.support,t=s.browser,u=s.transforms,v=s.transitions,w={scale:0,scalex:0,scaley:0,scale3d:0},x={translate:0,translatex:0,translatey:0,translate3d:0},y="undefined"!=typeof document.documentElement.style.zoom&&!u,z=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,A=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,B=/translatex?$/i,C=/(zoom|fade|expand)(\w+)/,D=/(zoom|fade|expand)/,E=/[xy]$/i,F=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],G=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],H={rotate:"deg",scale:"",skew:"px",translate:"px"},I=u.css,J=Math.round,K="",L="px",M="none",N="auto",O="width",P="height",Q="hidden",R="origin",S="abortId",T="overflow",U="translate",V="completeCallback",W=I+"transition",X=I+"transform",Y=I+"backface-visibility",Z=I+"perspective",$="1500px",_="perspective("+$+")",ab={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(n.directions=ab,q(a.fn,{kendoStop:function(a,b){return v?o.stopQueue(this,a||!1,b||!1):this.stop(a,b)}}),u&&!v){p(G,function(b,c){a.fn[c]=function(b){if("undefined"==typeof b)return i(this,c);var d=a(this)[0],e=c+"("+b+H[c.replace(E,"")]+")";return-1==d.style.cssText.indexOf(X)?a(this).css(X,e):d.style.cssText=d.style.cssText.replace(new RegExp(c+"\\(.*?\\)","i"),e),this},a.fx.step[c]=function(b){a(b.elem)[c](b.now)}});var bb=a.fx.prototype.cur;a.fx.prototype.cur=function(){return-1!=G.indexOf(this.prop)?parseFloat(a(this.elem)[this.prop]()):bb.apply(this,arguments)}}n.toggleClass=function(a,b,c,d){return b&&(b=b.split(" "),v&&(c=q({exclusive:"all",duration:400,ease:"ease-out"},c),a.css(W,c.exclusive+" "+c.duration+"ms "+c.ease),setTimeout(function(){a.css(W,"").css(P)},c.duration)),p(b,function(b,c){a.toggleClass(c,d)})),a},n.parseEffects=function(a,b){var c={};return"string"==typeof a?p(a.split(" "),function(a,d){var e=!D.test(d),f=d.replace(C,function(a,b,c){return b+":"+c.toLowerCase()}),g=f.split(":"),h=g[1],i={};g.length>1&&(i.direction=b&&e?ab[h].reverse:h),c[g[0]]=i}):p(a,function(a){var d=this.direction;d&&b&&!D.test(a)&&(this.direction=ab[d].reverse),c[a]=this}),c},v&&q(o,{transition:function(b,c,d){var e,g,i=0,j=b.data("keys")||[];d=q({duration:200,ease:"ease-out",complete:null,exclusive:"all"},d);var k=!1,l=function(){k||(k=!0,g&&(clearTimeout(g),g=null),b.removeData(S).dequeue().css(W,"").css(W),d.complete.call(b))};d.duration=a.fx?a.fx.speeds[d.duration]||d.duration:d.duration,e=h(b,c),a.merge(j,f(e)),b.data("keys",a.unique(j)).height(),b.css(W,d.exclusive+" "+d.duration+"ms "+d.ease).css(W),b.css(e).css(X),v.event&&(b.one(v.event,l),0!==d.duration&&(i=500)),g=setTimeout(l,d.duration+i),b.data(S,g),b.data(V,l)},stopQueue:function(a,b,c){var d,e=a.data("keys"),f=!c&&e,g=a.data(V);return f&&(d=n.getComputedStyles(a[0],e)),g&&g(),f&&a.css(d),a.removeData("keys").stop(b)}});var cb=n.Class.extend({init:function(a,b){var c=this;c.element=a,c.effects=[],c.options=b,c.restore=[]},run:function(b){var c,d,e,f,i,j,k=this,l=b.length,m=k.element,n=k.options,p=a.Deferred(),r={},s={};for(k.effects=b,p.then(a.proxy(k,"complete")),m.data("animating",!0),d=0;l>d;d++)for(c=b[d],c.setReverse(n.reverse),c.setOptions(n),k.addRestoreProperties(c.restore),c.prepare(r,s),i=c.children(),e=0,j=i.length;j>e;e++)i[e].duration(n.duration).run();for(var t in n.effects)q(s,n.effects[t].properties);for(m.is(":visible")||q(r,{display:m.data("olddisplay")||"block"}),u&&!n.reset&&(f=m.data("targetTransform"),f&&(r=q(f,r))),r=h(m,r),u&&!v&&(r=g(r)),m.css(r).css(X),d=0;l>d;d++)b[d].setup();return n.init&&n.init(),m.data("targetTransform",s),o.animate(m,s,q({},n,{complete:p.resolve})),p.promise()},stop:function(){a(this.element).kendoStop(!0,!0)},addRestoreProperties:function(a){for(var b,c=this.element,d=0,e=a.length;e>d;d++)b=a[d],this.restore.push(b),c.data(b)||c.data(b,c.css(b))},restoreCallback:function(){for(var a=this.element,b=0,c=this.restore.length;c>b;b++){var d=this.restore[b];a.css(d,a.data(d))}},complete:function(){var b=this,c=0,d=b.element,e=b.options,f=b.effects,g=f.length;for(d.removeData("animating").dequeue(),e.hide&&d.data("olddisplay",d.css("display")).hide(),this.restoreCallback(),y&&!u&&setTimeout(a.proxy(this,"restoreCallback"),0);g>c;c++)f[c].teardown();e.completeCallback&&e.completeCallback(d)}});o.promise=function(a,b){var c,d,e=[],f=new cb(a,b),g=n.parseEffects(b.effects);b.effects=g;for(var h in g)c=o[j(h)],c&&(d=new c(a,g[h].direction),e.push(d));e[0]?f.run(e):(a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.init&&b.init(),a.dequeue(),f.complete())},o.transitionPromise=function(a,b,c){return o.animateTo(a,b,c),a},q(o,{animate:function(c,e,f){var h=f.transition!==!1;delete f.transition,v&&"transition"in o&&h?o.transition(c,e,f):u?c.animate(g(e),{queue:!1,show:!1,hide:!1,duration:f.duration,complete:f.complete}):c.each(function(){var c=a(this),g={};p(F,function(a,f){var h,i=e?e[f]+" ":null;if(i){var j=e;if(f in w&&e[f]!==b)h=i.match(A),u&&q(j,{scale:+h[0]});else if(f in x&&e[f]!==b){var k=c.css("position"),l="absolute"==k||"fixed"==k;c.data(U)||(l?c.data(U,{top:d(c,"top")||0,left:d(c,"left")||0,bottom:d(c,"bottom"),right:d(c,"right")}):c.data(U,{top:d(c,"marginTop")||0,left:d(c,"marginLeft")||0}));var m=c.data(U);if(h=i.match(A)){var n=f==U+"y"?0:+h[1],o=f==U+"y"?+h[1]:+h[2];l?(isNaN(m.right)?isNaN(n)||q(j,{left:m.left+n}):isNaN(n)||q(j,{right:m.right-n}),isNaN(m.bottom)?isNaN(o)||q(j,{top:m.top+o}):isNaN(o)||q(j,{bottom:m.bottom-o})):(isNaN(n)||q(j,{marginLeft:m.left+n}),isNaN(o)||q(j,{marginTop:m.top+o}))}}!u&&"scale"!=f&&f in j&&delete j[f],j&&q(g,j)}}),t.msie&&delete g.scale,c.animate(g,{queue:!1,show:!1,hide:!1,duration:f.duration,complete:f.complete})})},animateTo:function(b,c,d){function f(a){c[0].style.cssText="",b[0].style.cssText="",s.mobileOS.android||i.css(T,h),d.completeCallback&&d.completeCallback.call(b,a)}var g,h,i=b.parents().filter(c.parents()).first();d=e(d),s.mobileOS.android||(h=i.css(T),i.css(T,"hidden")),a.each(d.effects,function(a,b){g=g||b.direction}),d.complete=t.msie?function(){setTimeout(f,0)}:f,d.previous=d.reverse?c:b,d.reset=!0,(d.reverse?b:c).each(function(){a(this).kendoAnimate(q(!0,{},d)),d.complete=null,d.previous=null})}});var db=n.Class.extend({init:function(a,b){var c=this;c.element=a,c._direction=b,c.options={},c._additionalEffects=[],c.restore||(c.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(a){return this._additionalEffects.push(a),this},direction:function(a){return this._direction=a,this},duration:function(a){return this._duration=a,this},compositeRun:function(){var a=this,b=new cb(a.element,{reverse:a._reverse,duration:a._duration}),c=a._additionalEffects.concat([a]);return b.run(c)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var b,c,d=this,e=d.element,f=0,i=d.restore,j=i.length,k=a.Deferred(),l={},m={},n=d.children(),p=n.length;for(k.then(a.proxy(d,"_complete")),e.data("animating",!0),f=0;j>f;f++)b=i[f],e.data(b)||e.data(b,e.css(b));for(f=0;p>f;f++)n[f].duration(d._duration).run();return d.prepare(l,m),e.is(":visible")||q(l,{display:e.data("olddisplay")||"block"}),u&&(c=e.data("targetTransform"),c&&(l=q(c,l))),l=h(e,l),u&&!v&&(l=g(l)),e.css(l).css(X),d.setup(),e.data("targetTransform",m),o.animate(e,m,{duration:d._duration,complete:k.resolve}),k.promise()},stop:function(){var b=0,c=this.children(),d=c.length;for(b=0;d>b;b++)c[b].stop();return a(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var a=this.element,b=0,c=this.restore.length;c>b;b++){var d=this.restore[b];a.css(d,a.data(d))}},_complete:function(){var b=this,c=b.element;c.removeData("animating").dequeue(),b.restoreCallback(),b.shouldHide()&&c.data("olddisplay",c.css("display")).hide(),y&&!u&&setTimeout(a.proxy(b,"restoreCallback"),0),b.teardown()},setOptions:function(a){q(!0,this.options,a)},children:function(){return[]},shouldHide:a.noop,setup:a.noop,prepare:a.noop,teardown:a.noop,directions:[],setReverse:function(a){return this._reverse=a,this}}),eb=["left","right","up","down"],fb=["in","out"];k("slideIn",{directions:eb,prepare:function(a,b){var c,d=this,e=d.element,f=ab[d._direction],g=-f.modifier*(f.vertical?e.outerHeight():e.outerWidth()),h=g/(d.options&&d.options.divisor||1)+L,i="0px";d._reverse&&(c=a,a=b,b=c),u?(a[f.transition]=h,b[f.transition]=i):(a[f.property]=h,b[f.property]=i)}}),k("tile",{directions:eb,init:function(a,b,c){db.prototype.init.call(this,a,b),this.options={previous:c}},children:function(){var a=this,b=a._reverse,c=a.options.previous,d=a._direction,e=[n.fx(a.element).slideIn(d).setReverse(b)];return c&&e.push(n.fx(c).slideIn(ab[d].reverse).setReverse(!b)),e}}),l("fade","opacity",0),l("zoom","scale",.01),k("slideMargin",{prepare:function(a,b){var c,d=this,e=d.element,f=d.options,g=e.data(R),h=f.offset,i=d._reverse;i||null!==g||e.data(R,parseFloat(e.css("margin-"+f.axis))),c=e.data(R)||0,b["margin-"+f.axis]=i?c:c+h}}),k("slideTo",{prepare:function(a,b){var c=this,d=c.element,e=c.options,f=e.offset.split(","),g=c._reverse;u?(b.translatex=g?0:f[0],b.translatey=g?0:f[1]):(b.left=g?0:f[0],b.top=g?0:f[1]),d.css("left")}}),k("expand",{directions:["horizontal","vertical"],restore:[T],prepare:function(a,c){var d=this,e=d.element,f=d.options,g=d._reverse,h="vertical"===d._direction?P:O,i=e[0].style[h],j=e.data(h),k=parseFloat(j||i),l=J(e.css(h,N)[h]());a.overflow=Q,k=f&&f.reset?l||k:k||l,c[h]=(g?0:k)+L,a[h]=(g?k:0)+L,j===b&&e.data(h,i)},shouldHide:function(){return this._reverse},teardown:function(){var a=this,b=a.element,c="vertical"===a._direction?P:O,d=b.data(c);(d==N||d===K)&&setTimeout(function(){b.css(c,N).css(c)},0)}});var gb={position:"absolute",marginLeft:0,marginTop:0,scale:1};k("transfer",{init:function(a,b){this.element=a,this.options={target:b},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(a,b){var c,d=this,e=d.element,f=d.options,g=d._reverse,h=f.target,j=i(e,"scale"),k=h.offset(),l=h.outerHeight()/e.outerHeight();q(a,gb),b.scale=1,e.css(X,"scale(1)").css(X),c=e.offset(),e.css(X,"scale("+j+")");var m=0,n=0,o=k.left-c.left,p=k.top-c.top,r=m+e.outerWidth(),s=n,t=o+h.outerWidth(),u=p,v=(p-n)/(o-m),w=(u-s)/(t-r),x=(n-s-v*m+w*r)/(w-v),y=n+v*(x-m);a.top=c.top,a.left=c.left,a.transformOrigin=x+L+" "+y+L,g?a.scale=l:b.scale=l}});var hb={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},ib={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};k("turningPage",{directions:eb,init:function(a,b,c){db.prototype.init.call(this,a,b),this._container=c},prepare:function(a,b){var c=this,d=c._reverse,e=d?ab[c._direction].reverse:c._direction,f=ib[e];a.zIndex=1,c._clipInHalf&&(a.clip=m(c._container,n.directions[e].reverse)),a[Y]=Q,b[X]=_+(d?f.start:f.end),a[X]=_+(d?f.end:f.start)},setup:function(){this._container.append(this.element)},face:function(a){return this._face=a,this},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},clipInHalf:function(a){return this._clipInHalf=a,this},temporary:function(){return this.element.addClass("temp-page"),this}}),k("staticPage",{directions:eb,init:function(a,b,c){db.prototype.init.call(this,a,b),this._container=c},restore:["clip"],prepare:function(a,b){var c=this,d=c._reverse?ab[c._direction].reverse:c._direction;a.clip=m(c._container,d),a.opacity=.999,b.opacity=1},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},face:function(a){return this._face=a,this}}),k("pageturn",{directions:["horizontal","vertical"],init:function(a,b,c,d){db.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var a,b=this,c=b.options,d="horizontal"===b._direction?"left":"top",e=n.directions[d].reverse,f=b._reverse,g=c.face.clone(!0).removeAttr("id"),h=c.back.clone(!0).removeAttr("id"),i=b.element;return f&&(a=d,d=e,e=a),[n.fx(c.face).staticPage(d,i).face(!0).setReverse(f),n.fx(c.back).staticPage(e,i).setReverse(f),n.fx(g).turningPage(d,i).face(!0).clipInHalf(!0).temporary().setReverse(f),n.fx(h).turningPage(e,i).clipInHalf(!0).temporary().setReverse(f)]},prepare:function(a,b){a[Z]=$,a.transformStyle="preserve-3d",a.opacity=.999,b.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),k("flip",{directions:["horizontal","vertical"],init:function(a,b,c,d){db.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var a,b=this,c=b.options,d="horizontal"===b._direction?"left":"top",e=n.directions[d].reverse,f=b._reverse,g=b.element;return f&&(a=d,d=e,e=a),[n.fx(c.face).turningPage(d,g).face(!0).setReverse(f),n.fx(c.back).turningPage(e,g).setReverse(f)]},prepare:function(a){a[Z]=$,a.transformStyle="preserve-3d"}});var jb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},kb=n.Class.extend({init:function(){var a=this;a._tickProxy=r(a._tick,a),a._started=!1},tick:a.noop,done:a.noop,onEnd:a.noop,onCancel:a.noop,start:function(){this.done()||(this._started=!0,jb(this._tickProxy))},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var a=this;a._started&&(a.tick(),a.done()?(a._started=!1,a.onEnd()):jb(a._tickProxy))}}),lb=kb.extend({init:function(a){var b=this;q(b,a),kb.fn.init.call(b)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,Date.now()-this.startDate)},moveTo:function(a){var b=this,c=b.movable;b.initial=c[b.axis],b.delta=a.location-b.initial,b.duration=a.duration||300,b.tick=b._easeProxy(a.ease),b.startDate=Date.now(),b.start()},_easeProxy:function(a){var b=this;return function(){b.movable.moveAxis(b.axis,a(b.timePassed(),b.initial,b.delta,b.duration))}}});q(lb,{easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeOutBack:function(a,b,c,d,e){return e=1.70158,c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}}),o.animationFrame=function(a){jb.call(window,a)},o.Animation=kb,o.Transition=lb,o.createEffect=k}(window.kendo.jQuery),function(a,b){function c(e){var g,h,i,j,k,l,m,n,o=[],p=e.logic||"and",q=e.filters;for(g=0,h=q.length;h>g;g++)e=q[g],i=e.field,m=e.value,l=e.operator,e.filters?e=c(e):(n=e.ignoreCase,i=i.replace(/\./g,"/"),e=f[l],e&&m!==b&&(j=a.type(m),"string"===j?(k="'{1}'",m=m.replace(/'/g,"''"),n===!0&&(i="tolower("+i+")")):k="date"===j?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",e.length>3?"substringof"!==e?k="{0}({2},"+k+")":(k="{0}("+k+",{2})","doesnotcontain"===l&&(k+=" eq false")):k="{2} {0} "+k,e=d.format(k,e,m,i))),o.push(e);return e=o.join(" "+p+" "),o.length>1&&(e="("+e+")"),e}var d=window.kendo,e=a.extend,f={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},g={pageSize:a.noop,page:a.noop,filter:function(a,b){b&&(a.$filter=c(b))},sort:function(b,c){var d=a.map(c,function(a){var b=a.field.replace(/\./g,"/");return"desc"===a.dir&&(b+=" desc"),b}).join(",");d&&(b.$orderby=d)},skip:function(a,b){b&&(a.$skip=b)},take:function(a,b){b&&(a.$top=b)}},h={read:{dataType:"jsonp"}};e(!0,d.data,{schemas:{odata:{type:"json",data:function(a){return a.d.results||[a.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(a,b){var c,e,f,i;if(a=a||{},b=b||"read",i=(this.options||h)[b],i=i?i.dataType:"json","read"===b){c={$inlinecount:"allpages"},"json"!=i&&(c.$format="json");for(f in a)g[f]?g[f](c,a[f]):c[f]=a[f]}else{if("json"!==i)throw new Error("Only json dataType can be used for "+b+" operation.");if("destroy"!==b){for(f in a)e=a[f],"number"==typeof e&&(a[f]=e+"");c=d.stringify(a)}}return c}}}})}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.isArray,e=a.isPlainObject,f=a.map,g=a.each,h=a.extend,i=c.getter,j=c.Class,k=j.extend({init:function(a){var b=this,i=a.total,j=a.model,k=a.parse,l=a.errors,m=a.serialize,n=a.data;if(j){if(e(j)){j.fields&&g(j.fields,function(a,c){c=e(c)&&c.field?h(c,{field:b.getter(c.field)}):{field:b.getter(c)},j.fields[a]=c});var o=j.id;if(o){var p={};p[b.xpathToMember(o,!0)]={field:b.getter(o)},j.fields=h(p,j.fields),j.id=b.xpathToMember(o)}j=c.data.Model.define(j)}b.model=j}if(i&&("string"==typeof i?(i=b.getter(i),b.total=function(a){return parseInt(i(a),10)}):"function"==typeof i&&(b.total=i)),l&&("string"==typeof l?(l=b.getter(l),b.errors=function(a){return l(a)||null}):"function"==typeof l&&(b.errors=l)),n&&("string"==typeof n?(n=b.xpathToMember(n),b.data=function(a){var c,e=b.evaluate(a,n);return e=d(e)?e:[e],b.model&&j.fields?(c=new b.model,f(e,function(a){if(a){var b,d={};for(b in j.fields)d[b]=c._parse(b,j.fields[b].field(a));return d}})):e}):"function"==typeof n&&(b.data=n)),"function"==typeof k){var q=b.parse;b.parse=function(a){var c=k.call(b,a);return q.call(b,c)}}"function"==typeof m&&(b.serialize=m)},total:function(a){return this.data(a).length},errors:function(a){return a?a.errors:null},serialize:function(a){return a},parseDOM:function(a){var c,e,f,g,h,i,j,k={},l=a.attributes,m=l.length;for(j=0;m>j;j++)i=l[j],k["@"+i.nodeName]=i.nodeValue;for(e=a.firstChild;e;e=e.nextSibling)f=e.nodeType,3===f||4===f?k["#text"]=e.nodeValue:1===f&&(c=this.parseDOM(e),g=e.nodeName,h=k[g],d(h)?h.push(c):h=h!==b?[h,c]:c,k[g]=h);return k},evaluate:function(a,b){for(var c,e,f,g,h,i=b.split(".");c=i.shift();)if(a=a[c],d(a)){for(e=[],b=i.join("."),h=0,f=a.length;f>h;h++)g=this.evaluate(a[h],b),g=d(g)?g:[g],e.push.apply(e,g);return e}return a},parse:function(b){var c,d,e={};return c=b.documentElement||a.parseXML(b).documentElement,d=this.parseDOM(c),e[c.nodeName]=d,e},xpathToMember:function(a,b){return a?(a=a.replace(/^\//,"").replace(/\//g,"."),a.indexOf("@")>=0?a.replace(/\.?(@.*)/,b?"$1":'["$1"]'):a.indexOf("text()")>=0?a.replace(/(\.?text\(\))/,b?"#text":'["#text"]'):a):""
},getter:function(a){return i(this.xpathToMember(a),!0)}});a.extend(!0,c.data,{XmlDataReader:k,readers:{xml:k}})}(window.kendo.jQuery),kendo_module({id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]}),function(a,b){function c(a,b,c,d){return function(e){var f,g={};for(f in e)g[f]=e[f];g.field=d?c+"."+e.field:c,a.trigger(b,g),b==bb&&a._notifyChange&&a._notifyChange(g)}}function d(b,c){if(b===c)return!0;var e,f=a.type(b),g=a.type(c);if(f!==g)return!1;if("date"===f)return b.getTime()===c.getTime();if("object"!==f&&"array"!==f)return!1;for(e in b)if(!d(b[e],c[e]))return!1;return!0}function e(a,b){var c,d;for(d in a){if(c=a[d],N(c)&&c.field&&c.field===b)return c;if(c===b)return c}return null}function f(a){this.data=a||[]}function g(a,c){if(a){var d=typeof a===X?{field:a,dir:c}:a,e=P(d)?d:d!==b?[d]:[];return Q(e,function(a){return!!a.dir})}}function h(a){var b,c,d,e,f=a.filters;if(f)for(b=0,c=f.length;c>b;b++)d=f[b],e=d.operator,e&&typeof e===X&&(d.operator=Hb[e.toLowerCase()]||e),h(d)}function i(a){return a&&!O(a)?((P(a)||!a.filters)&&(a={logic:"and",filters:P(a)?a:[a]}),h(a),a):void 0}function j(a){return P(a)?a:[a]}function k(a,c){var d=typeof a===X?{field:a,dir:c}:a,e=P(d)?d:d!==b?[d]:[];return J(e,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates}})}function l(a,b){return a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b}function m(a,b,c,d,e){b=b||[];var f,g,h,i=b.length;for(f=0;i>f;f++){g=b[f],h=g.aggregate;var j=g.field;a[j]=a[j]||{},a[j][h]=Ib[h.toLowerCase()](a[j][h],c,U.accessor(j),d,e)}}function n(a){var b,c=a.length,d=new Array(c);for(b=0;c>b;b++)d[b]=a[b].toJSON();return d}function o(a,b){b=b||{};var c=new f(a),d=b.aggregate,e=b.filter;return e&&(c=c.filter(e)),c.aggregate(d)}function p(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;j>i;i++){f=a[i];for(g in b)h=e[g],h&&h!==g&&(f[h]=b[g](f),delete f[g])}}function q(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;j>i;i++){f=a[i];for(g in b)f[g]=c._parse(g,b[g](f)),h=e[g],h&&h!==g&&delete f[h]}}function r(a,b,c,d,e){var f,g,h,i;for(g=0,i=a.length;i>g;g++)f=a[g],h=d[f.field],h&&h!=f.field&&(f.field=h),f.value=c._parse(f.field,f.value),f.hasSubgroups?r(f.items,b,c,d,e):q(f.items,b,c,d,e)}function s(a,b,c,d,e,f){return function(g){return g=a(g),g&&!O(d)&&("[object Array]"===ub.call(g)||g instanceof zb||(g=[g]),c(g,d,new b,e,f)),g||[]}}function t(a,b,c,d){for(var e,f,g=0;b.length&&d&&(e=b[g],f=e.items,a&&a.field===e.field&&a.value===e.value?(a.hasSubgroups&&a.items.length?t(a.items[a.items.length-1],e.items,c,d):(f=f.slice(c,d),d-=f.length,a.items=a.items.concat(f)),b.splice(g--,1)):(f=f.slice(c,d),d-=f.length,e.items=f,e.items.length||b.splice(g--,1)),c=0,!(++g>=b.length)););}function u(a){var b,c,d=[];for(b=0,c=a.length;c>b;b++)d=a[b].hasSubgroups?d.concat(u(a[b].items)):d.concat(a[b].items.slice());return d}function v(a,b){var c,d,e,f;if(b)for(c=0,d=a.length;d>c;c++)e=a[c],f=e.items,e.hasSubgroups?v(f,b):!f.length||f[0]instanceof b||(f.type=b,f.wrapAll(f,f))}function w(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c].hasSubgroups){if(w(a[c].items,b))return!0}else if(b(a[c].items,a[c]))return!0}function x(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c].uid==b.uid)return b=a[c],a.splice(c,1),b}function y(a,b){var c,d,e,f;for(e=a.length-1,f=0;e>=f;e--)d=a[e],c={value:b.get(d.field),field:d.field,items:c?[c]:[b],hasSubgroups:!!c,aggregates:{}};return c}function z(a,b){return b?B(a,function(a){return a[b.idField]===b.id}):-1}function A(a,b){return b?B(a,function(a){return a.uid==b.uid}):-1}function B(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(b(a[c]))return c;return-1}function C(a,b){if(a&&!O(a)){var c=a[b];return N(c)?c.from||c.field||b:a[b]}return b}function D(a,b){var c,d,e={};for(var f in a)"filters"!==f&&(e[f]=a[f]);if(a.filters&&a.filters.length)for(e.filters=[],c=0,d=a.filters.length;d>c;c++)e.filters[c]=D(a.filters[c],b);else e.field=C(b.fields,e.field);return e}function E(a,b){var c,d,e,f,g=[];for(c=0,d=a.length;d>c;c++){e={},f=a[c];for(var h in f)e[h]=f[h];e.field=C(b.fields,e.field),e.aggregates&&P(e.aggregates)&&(e.aggregates=E(e.aggregates,b)),g.push(e)}return g}function F(b,c){var d,e,f,g,h,i=a(b)[0].children,j=[],k=c[0],l=c[1];for(d=0,e=i.length;e>d;d++)f={},h=i[d],h.disabled||(f[k.field]=h.text,g=h.attributes.value,g=g&&g.specified?h.value:h.text,f[l.field]=g,j.push(f));return j}function G(b,c){var d,e,f,g,h,i,j,k=a(b)[0].tBodies[0],l=k?k.rows:[],m=c.length,n=[];for(d=0,e=l.length;e>d;d++){for(h={},j=!0,g=l[d].cells,f=0;m>f;f++)i=g[f],"th"!==i.nodeName.toLowerCase()&&(j=!1,h[c[f].field]=i.innerHTML);j||n.push(h)}return n}function H(a){return function(){var b=this._data,c=Nb.fn[a].apply(this,sb.call(arguments));return this._data!=b&&this._attachBubbleHandlers(),c}}function I(b,c){var d,e,f,g,h,i,j,k,l=a(b).children(),m=[],n=c[0].field,o=c[1]&&c[1].field,p=c[2]&&c[2].field,q=c[3]&&c[3].field;for(d=0,e=l.length;e>d;d++)f={_loaded:!0},g=l.eq(d),i=g[0].firstChild,k=g.children(),b=k.filter("ul"),k=k.filter(":not(ul)"),h=g.attr("data-id"),h&&(f.id=h),i&&(f[n]=3==i.nodeType?i.nodeValue:k.text()),o&&(f[o]=k.find("a").attr("href")),q&&(f[q]=k.find("img").attr("src")),p&&(j=k.find(".k-sprite").prop("className"),f[p]=j&&a.trim(j.replace("k-sprite",""))),b.length&&(f.items=I(b.eq(0),c)),"true"==g.attr("data-hasChildren")&&(f.hasChildren=!0),m.push(f);return m}var J,K=a.extend,L=a.proxy,M=a.isFunction,N=a.isPlainObject,O=a.isEmptyObject,P=a.isArray,Q=a.grep,R=a.ajax,S=a.each,T=a.noop,U=window.kendo,V=U.Observable,W=U.Class,X="string",Y="function",Z="create",$="read",_="update",ab="destroy",bb="change",cb="sync",db="get",eb="error",fb="requestStart",gb="progress",hb="requestEnd",ib=[Z,$,_,ab],jb=function(a){return a},kb=U.getter,lb=U.stringify,mb=Math,nb=[].push,ob=[].join,pb=[].pop,qb=[].splice,rb=[].shift,sb=[].slice,tb=[].unshift,ub={}.toString,vb=U.support.stableSort,wb=/^\/Date\((.*?)\)\/$/,xb=/(\r+|\n+)/g,yb=/(?=['\\])/g,zb=V.extend({init:function(a,b){var c=this;c.type=b||Ab,V.fn.init.call(c),c.length=a.length,c.wrapAll(a,c)},toJSON:function(){var a,b,c=this.length,d=new Array(c);for(a=0;c>a;a++)b=this[a],b instanceof Ab&&(b=b.toJSON()),d[a]=b;return d},parent:T,wrapAll:function(a,b){var c,d,e=this,f=function(){return e};for(b=b||[],c=0,d=a.length;d>c;c++)b[c]=e.wrap(a[c],f);return b},wrap:function(a,b){var c,d=this;return null!==a&&"[object Object]"===ub.call(a)&&(c=a instanceof d.type||a instanceof Db,c||(a=a instanceof Ab?a.toJSON():a,a=new d.type(a)),a.parent=b,a.bind(bb,function(a){d.trigger(bb,{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemchange":"itemchange"})})),a},push:function(){var a,b=this.length,c=this.wrapAll(arguments);return a=nb.apply(this,c),this.trigger(bb,{action:"add",index:b,items:c}),a},slice:sb,join:ob,pop:function(){var a=this.length,b=pb.apply(this);return a&&this.trigger(bb,{action:"remove",index:a-1,items:[b]}),b},splice:function(a,b,c){var d,e,f,g=this.wrapAll(sb.call(arguments,2));if(d=qb.apply(this,[a,b].concat(g)),d.length)for(this.trigger(bb,{action:"remove",index:a,items:d}),e=0,f=d.length;f>e;e++)d[e].children&&d[e].unbind(bb);return c&&this.trigger(bb,{action:"add",index:a,items:g}),d},shift:function(){var a=this.length,b=rb.apply(this);return a&&this.trigger(bb,{action:"remove",index:0,items:[b]}),b},unshift:function(){var a,b=this.wrapAll(arguments);return a=tb.apply(this,b),this.trigger(bb,{action:"add",index:0,items:b}),a},indexOf:function(a){var b,c,d=this;for(b=0,c=d.length;c>b;b++)if(d[b]===a)return b;return-1},forEach:function(a){for(var b=0,c=this.length;c>b;b++)a(this[b],b,this)},map:function(a){for(var b=0,c=[],d=this.length;d>b;b++)c[b]=a(this[b],b,this);return c},filter:function(a){for(var b,c=0,d=[],e=this.length;e>c;c++)b=this[c],a(b,c,this)&&(d[d.length]=b);return d},find:function(a){for(var b,c=0,d=this.length;d>c;c++)if(b=this[c],a(b,c,this))return b},every:function(a){for(var b,c=0,d=this.length;d>c;c++)if(b=this[c],!a(b,c,this))return!1;return!0},some:function(a){for(var b,c=0,d=this.length;d>c;c++)if(b=this[c],a(b,c,this))return!0;return!1},remove:function(a){this.splice(this.indexOf(a),1)}}),Ab=V.extend({init:function(a){var b,c,d=this,e=function(){return d};V.fn.init.call(this);for(c in a)b=a[c],"_"!=c.charAt(0)&&(b=d.wrap(b,c,e)),d[c]=b;d.uid=U.guid()},shouldSerialize:function(a){return this.hasOwnProperty(a)&&"_events"!==a&&typeof this[a]!==Y&&"uid"!==a},forEach:function(a){for(var b in this)this.shouldSerialize(b)&&a(this[b],b)},toJSON:function(){var a,b,c={};for(b in this)this.shouldSerialize(b)&&(a=this[b],(a instanceof Ab||a instanceof zb)&&(a=a.toJSON()),c[b]=a);return c},get:function(a){var b,c=this;return c.trigger(db,{field:a}),b="this"===a?c:U.getter(a,!0)(c)},_set:function(a,b){var c=this,d=a.indexOf(".")>=0;if(d)for(var e=a.split("."),f="";e.length>1;){f+=e.shift();var g=U.getter(f,!0)(c);if(g instanceof Ab)return g.set(e.join("."),b),d;f+="."}return U.setter(a)(c,b),d},set:function(a,b){var c=this,d=U.getter(a,!0)(c);d!==b&&(c.trigger("set",{field:a,value:b})||(!c._set(a,c.wrap(b,a,function(){return c}))||a.indexOf("(")>=0||a.indexOf("[")>=0)&&c.trigger(bb,{field:a}))},parent:T,wrap:function(a,b,d){var e=this,f=ub.call(a);if(null!=a&&("[object Object]"===f||"[object Array]"===f)){var g=a instanceof zb,h=a instanceof Nb;"[object Object]"!==f||h||g?("[object Array]"===f||g||h)&&(g||h||(a=new zb(a)),a.parent()!=d()&&a.bind(bb,c(e,bb,b,!1))):(a instanceof Ab||(a=new Ab(a)),a.parent()!=d()&&(a.bind(db,c(e,db,b,!0)),a.bind(bb,c(e,bb,b,!0)))),a.parent=d}return a}}),Bb={number:function(a){return U.parseFloat(a)},date:function(a){return U.parseDate(a)},"boolean":function(a){return typeof a===X?"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return null!=a?a+"":a},"default":function(a){return a}},Cb={string:"",number:0,date:new Date,"boolean":!1,"default":""},Db=Ab.extend({init:function(c){var d=this;(!c||a.isEmptyObject(c))&&(c=a.extend({},d.defaults,c)),Ab.fn.init.call(d,c),d.dirty=!1,d.idField&&(d.id=d.get(d.idField),d.id===b&&(d.id=d._defaultId))},shouldSerialize:function(a){return Ab.fn.shouldSerialize.call(this,a)&&"uid"!==a&&!("id"!==this.idField&&"id"===a)&&"dirty"!==a&&"_accessors"!==a},_parse:function(a,b){var c,d=this,f=a,g=d.fields||{};return a=g[a],a||(a=e(g,f)),a&&(c=a.parse,!c&&a.type&&(c=Bb[a.type.toLowerCase()])),c?c(b):b},_notifyChange:function(a){var b=a.action;("add"==b||"remove"==b)&&(this.dirty=!0)},editable:function(a){return a=(this.fields||{})[a],a?a.editable!==!1:!0},set:function(a,b,c){var e=this;e.editable(a)&&(b=e._parse(a,b),d(b,e.get(a))||(e.dirty=!0,Ab.fn.set.call(e,a,b,c)))},accept:function(a){var b,c=this,d=function(){return c};for(b in a)c._set(b,c.wrap(a[b],b,d));c.idField&&(c.id=c.get(c.idField)),c.dirty=!1},isNew:function(){return this.id===this._defaultId}});Db.define=function(a,c){c===b&&(c=a,a=Db);var d,e,f,g,h,i,j,k,l=K({defaults:{}},c),m={},n=l.id;if(n&&(l.idField=n),l.id&&delete l.id,n&&(l.defaults[n]=l._defaultId=""),"[object Array]"===ub.call(l.fields)){for(i=0,j=l.fields.length;j>i;i++)f=l.fields[i],typeof f===X?m[f]={}:f.field&&(m[f.field]=f);l.fields=m}for(e in l.fields)f=l.fields[e],g=f.type||"default",h=null,k=e,e=typeof f.field===X?f.field:e,f.nullable||(h=l.defaults[k!==e?k:e]=f.defaultValue!==b?f.defaultValue:Cb[g.toLowerCase()]),c.id===e&&(l._defaultId=h),l.defaults[k!==e?k:e]=h,f.parse=f.parse||Bb[g];return d=a.extend(l),d.define=function(a){return Db.define(d,a)},l.fields&&(d.fields=l.fields,d.idField=l.idField),d};var Eb={selector:function(a){return M(a)?a:kb(a)},compare:function(a){var b=this.selector(a);return function(a,c){return a=b(a),c=b(c),null==a&&null==c?0:null==a?-1:null==c?1:a.localeCompare?a.localeCompare(c):a>c?1:c>a?-1:0}},create:function(a){var b=a.compare||this.compare(a.field);return"desc"==a.dir?function(a,c){return b(c,a,!0)}:b},combine:function(a){return function(b,c){var d,e,f=a[0](b,c);for(d=1,e=a.length;e>d;d++)f=f||a[d](b,c);return f}}},Fb=K({},Eb,{asc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==d?-1:null==e?1:d.localeCompare?d.localeCompare(e):d>e?1:-1}},desc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==d?1:null==e?-1:e.localeCompare?e.localeCompare(d):e>d?1:-1}},create:function(a){return this[a.dir](a.field)}});J=function(a,b){var c,d=a.length,e=new Array(d);for(c=0;d>c;c++)e[c]=b(a[c],c,a);return e};var Gb=function(){function a(a){return a.replace(yb,"\\").replace(xb,"")}function b(b,c,d,e){var f;return null!=d&&(typeof d===X&&(d=a(d),f=wb.exec(d),f?d=new Date(+f[1]):e?(d="'"+d.toLowerCase()+"'",c="("+c+" || '').toLowerCase()"):d="'"+d+"'"),d.getTime&&(c="("+c+"?"+c+".getTime():"+c+")",d=d.getTime())),c+" "+b+" "+d}return{eq:function(a,c,d){return b("==",a,c,d)},neq:function(a,c,d){return b("!=",a,c,d)},gt:function(a,c,d){return b(">",a,c,d)},gte:function(a,c,d){return b(">=",a,c,d)},lt:function(a,c,d){return b("<",a,c,d)},lte:function(a,c,d){return b("<=",a,c,d)},startswith:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".lastIndexOf('"+c+"', 0) == 0"},endswith:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"', "+b+".length - "+(c||"").length+") >= 0"},contains:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') >= 0"},doesnotcontain:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') == -1"}}}();f.filterExpr=function(a){var c,d,e,g,h,i,j=[],k={and:" && ",or:" || "},l=[],m=[],n=a.filters;for(c=0,d=n.length;d>c;c++)e=n[c],h=e.field,i=e.operator,e.filters?(g=f.filterExpr(e),e=g.expression.replace(/__o\[(\d+)\]/g,function(a,b){return b=+b,"__o["+(m.length+b)+"]"}).replace(/__f\[(\d+)\]/g,function(a,b){return b=+b,"__f["+(l.length+b)+"]"}),m.push.apply(m,g.operators),l.push.apply(l,g.fields)):(typeof h===Y?(g="__f["+l.length+"](d)",l.push(h)):g=U.expr(h),typeof i===Y?(e="__o["+m.length+"]("+g+", "+e.value+")",m.push(i)):e=Gb[(i||"eq").toLowerCase()](g,e.value,e.ignoreCase!==b?e.ignoreCase:!0)),j.push(e);return{expression:"("+j.join(k[a.logic])+")",fields:l,operators:m}};var Hb={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};f.normalizeFilter=i,f.prototype={toArray:function(){return this.data},range:function(a,b){return new f(this.data.slice(a,a+b))},skip:function(a){return new f(this.data.slice(a))},take:function(a){return new f(this.data.slice(0,a))},select:function(a){return new f(J(this.data,a))},order:function(a,b){var c={dir:b};return a&&(a.compare?c.compare=a.compare:c.field=a),new f(this.data.slice(0).sort(Eb.create(c)))},orderBy:function(a){return this.order(a,"asc")},orderByDescending:function(a){return this.order(a,"desc")},sort:function(a,b,c){var d,e,f=g(a,b),h=[];if(c=c||Eb,f.length){for(d=0,e=f.length;e>d;d++)h.push(c.create(f[d]));return this.orderBy({compare:c.combine(h)})}return this},filter:function(a){var b,c,d,e,g,h,j,k,l=this.data,m=[];if(a=i(a),!a||0===a.filters.length)return this;for(e=f.filterExpr(a),h=e.fields,j=e.operators,g=k=new Function("d, __f, __o","return "+e.expression),(h.length||j.length)&&(k=function(a){return g(a,h,j)}),b=0,d=l.length;d>b;b++)c=l[b],k(c)&&m.push(c);return new f(m)},group:function(a,b){a=k(a||[]),b=b||this.data;var c,d=this,e=new f(d.data);return a.length>0&&(c=a[0],e=e.groupBy(c).select(function(d){var e=new f(b).filter([{field:d.field,operator:"eq",value:d.value}]);return{field:d.field,value:d.value,items:a.length>1?new f(d.items).group(a.slice(1),e.toArray()).toArray():d.items,hasSubgroups:a.length>1,aggregates:e.aggregate(c.aggregates)}})),e},groupBy:function(a){if(O(a)||!this.data.length)return new f([]);var b,c,d,e,g=a.field,h=this._sortForGrouping(g,a.dir||"asc"),i=U.accessor(g),j=i.get(h[0],g),k={field:g,value:j,items:[]},m=[k];for(d=0,e=h.length;e>d;d++)b=h[d],c=i.get(b,g),l(j,c)||(j=c,k={field:g,value:j,items:[]},m.push(k)),k.items.push(b);return new f(m)},_sortForGrouping:function(a,b){var c,d,e=this.data;if(!vb){for(c=0,d=e.length;d>c;c++)e[c].__position=c;for(e=new f(e).sort(a,b,Fb).toArray(),c=0,d=e.length;d>c;c++)delete e[c].__position;return e}return this.sort(a,b).toArray()},aggregate:function(a){var b,c,d={};if(a&&a.length)for(b=0,c=this.data.length;c>b;b++)m(d,a,this.data[b],b,c);return d}};var Ib={sum:function(a,b,c){return(a||0)+c.get(b)},count:function(a){return(a||0)+1},average:function(a,b,c,d,e){return a=(a||0)+c.get(b),d==e-1&&(a/=e),a},max:function(a,b,c){var d=c.get(b);return a=a||0,d>a&&(a=d),a},min:function(a,b,c){var d=c.get(b);return a=a||d,a>d&&(a=d),a}};f.process=function(a,c){c=c||{};var d,e=new f(a),h=c.group,i=k(h||[]).concat(g(c.sort||[])),j=c.filter,l=c.skip,m=c.take;return j&&(e=e.filter(j),d=e.toArray().length),i&&(e=e.sort(i),h&&(a=e.toArray())),l!==b&&m!==b&&(e=e.range(l,m)),h&&(e=e.group(h,a)),{total:d,data:e.toArray()}};var Jb=W.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}}),Kb=W.extend({init:function(a){var b,c=this;a=c.options=K({},c.options,a),S(ib,function(b,c){typeof a[c]===X&&(a[c]={url:a[c]})}),c.cache=a.cache?Lb.create(a.cache):{find:T,add:T},b=a.parameterMap,c.parameterMap=M(b)?b:function(a){var c={};return S(a,function(a,d){a in b&&(a=b[a],N(a)&&(d=a.value(d),a=a.key)),c[a]=d}),c}},options:{parameterMap:jb},create:function(a){return R(this.setup(a,Z))},read:function(c){var d,e,f,g=this,h=g.cache;c=g.setup(c,$),d=c.success||T,e=c.error||T,f=h.find(c.data),f!==b?d(f):(c.success=function(a){h.add(c.data,a),d(a)},a.ajax(c))},update:function(a){return R(this.setup(a,_))},destroy:function(a){return R(this.setup(a,ab))},setup:function(a,b){a=a||{};var c,d=this,e=d.options[b],f=M(e.data)?e.data(a.data):e.data;return a=K(!0,{},e,a),c=K(!0,{},f,a.data),a.data=d.parameterMap(c,b),M(a.url)&&(a.url=a.url(c)),a}}),Lb=W.extend({init:function(){this._store={}},add:function(a,c){a!==b&&(this._store[lb(a)]=c)},find:function(a){return this._store[lb(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[lb(a)]}});Lb.create=function(a){var b={inmemory:function(){return new Lb}};return N(a)&&M(a.find)?a:a===!0?new Lb:b[a]()};var Mb=W.extend({init:function(a){var b,c,d,e,f=this;a=a||{};for(b in a)c=a[b],f[b]=typeof c===X?kb(c):c;if(e=a.modelBase||Db,N(f.model)&&(f.model=d=e.define(f.model)),f.model){var g,h=L(f.data,f),i=L(f.groups,f),j=L(f.serialize,f),k={},l={},m={},n={},o=!1;d=f.model,d.fields&&(S(d.fields,function(a,b){var c;g=a,N(b)&&b.field?g=b.field:typeof b===X&&(g=b),N(b)&&b.from&&(c=b.from),o=o||c&&c!==a||g!==a,l[a]=kb(c||g),m[a]=kb(a),k[c||g]=a,n[a]=c||g}),!a.serialize&&o&&(f.serialize=s(j,d,p,m,k,n))),f.data=s(h,d,q,l,k,n),f.groups=s(i,d,r,l,k,n)}},errors:function(a){return a?a.errors:null},parse:jb,data:jb,total:function(a){return a.length},groups:jb,aggregates:function(){return{}},serialize:function(a){return a}}),Nb=V.extend({init:function(a){var c,d,e=this;a&&(d=a.data),a=e.options=K({},e.options,a),e._map={},e._prefetch={},e._data=[],e._pristineData=[],e._ranges=[],e._view=[],e._pristine=[],e._destroyed=[],e._pageSize=a.pageSize,e._page=a.page||(a.pageSize?1:b),e._sort=g(a.sort),e._filter=i(a.filter),e._group=k(a.group),e._aggregate=a.aggregate,e._total=a.total,V.fn.init.call(e),e.transport=Ob.create(a,d),e.reader=new U.data.readers[a.schema.type||"json"](a.schema),c=e.reader.model||{},e._data=e._observe(e._data),e.bind([eb,bb,fb,cb,hb,gb],a)},options:{data:[],schema:{modelBase:Db},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_flatData:function(a){return this._isServerGrouped()?u(a):a},parent:T,get:function(a){var b,c,d=this._flatData(this._data);for(b=0,c=d.length;c>b;b++)if(d[b].id==a)return d[b]},getByUid:function(a){var b,c,d=this._flatData(this._data);if(d)for(b=0,c=d.length;c>b;b++)if(d[b].uid==a)return d[b]},indexOf:function(a){return A(this._data,a)},at:function(a){return this._data[a]},data:function(a){var c=this;return a===b?c._data:(c._data=this._observe(a),c._ranges=[],c._addRange(c._data),c._total=c._data.length,c._process(c._data),void 0)},view:function(){return this._view},add:function(a){return this.insert(this._data.length,a)},_createNewModel:function(a){return this.reader.model?new this.reader.model(a):new Ab(a)},insert:function(a,b){return b||(b=a,a=0),b instanceof Db||(b=this._createNewModel(b)),this._isServerGrouped()?this._data.splice(a,0,y(this.group(),b)):this._data.splice(a,0,b),b},remove:function(a){var b,c=this,d=c._isServerGrouped();return this._eachItem(c._data,function(e){return b=x(e,a),b&&d?(b.isNew&&b.isNew()||c._destroyed.push(b),!0):void 0}),a},sync:function(){var b,c,d=this,e=[],f=[],g=d._destroyed,h=d._flatData(d._data);if(d.reader.model){for(b=0,c=h.length;c>b;b++)h[b].isNew()?e.push(h[b]):h[b].dirty&&f.push(h[b]);var i=d._send("create",e);i.push.apply(i,d._send("update",f)),i.push.apply(i,d._send("destroy",g)),a.when.apply(null,i).then(function(){var a,b;for(a=0,b=arguments.length;b>a;a++)d._accept(arguments[a]);d._change({action:"sync"}),d.trigger(cb)})}},cancelChanges:function(a){var b=this;a instanceof U.data.Model?b._cancelModel(a):(b._destroyed=[],b._data=b._observe(b._pristineData),b.options.serverPaging&&(b._total=b.reader.total(b._pristine)),b._change())},hasChanges:function(){var a,b,c=this._data;if(this._destroyed.length)return!0;for(a=0,b=c.length;b>a;a++)if(c[a].isNew()||c[a].dirty)return!0;return!1},_accept:function(b){var c,d=this,e=b.models,f=b.response,g=0,h=d._isServerGrouped(),i=d._pristineData,j=b.type;if(d.trigger(hb,{response:f,type:j}),f&&!O(f)){if(f=d.reader.parse(f),d._handleCustomErrors(f))return;f=d.reader.data(f),a.isArray(f)||(f=[f])}else f=a.map(e,function(a){return a.toJSON()});for("destroy"===j&&(d._destroyed=[]),g=0,c=e.length;c>g;g++)"destroy"!==j?(e[g].accept(f[g]),"create"===j?i.push(h?y(d.group(),e[g]):f[g]):"update"===j&&d._updatePristineForModel(e[g],f[g])):d._removePristineForModel(e[g])},_updatePristineForModel:function(a,b){this._executeOnPristineForModel(a,function(a,c){U.deepExtend(c[a],b)})},_executeOnPristineForModel:function(a,b){this._eachPristineItem(function(c){var d=z(c,a);return d>-1?(b(d,c),!0):void 0})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,b){b.splice(a,1)})},_readData:function(a){var b=this._isServerGrouped()?this.reader.groups:this.reader.data;return b(a)},_eachPristineItem:function(a){this._eachItem(this._pristineData,a)},_eachItem:function(a,b){a&&a.length&&(this._isServerGrouped()?w(a,b):b(a))},_pristineForModel:function(a){var b,c,d=function(d){return c=z(d,a),c>-1?(b=d[c],!0):void 0};return this._eachPristineItem(d),b},_cancelModel:function(a){var b,c=this._pristineForModel(a);this._eachItem(this._data,function(d){b=A(d,a),-1!=b&&(!a.isNew()&&c?d[b].accept(c):d.splice(b,1))})},_promise:function(b,c,d){var e=this,f=e.transport;return a.Deferred(function(a){e.trigger(fb),f[d].call(f,K({success:function(b){a.resolve({response:b,models:c,type:d})},error:function(b,c,d){a.reject(b),e.error(b,c,d)}},b))}).promise()},_send:function(a,b){var c,d,e=this,f=[],g=e.reader.serialize(n(b));if(e.options.batch)b.length&&f.push(e._promise({data:{models:g}},b,a));else for(c=0,d=b.length;d>c;c++)f.push(e._promise({data:g[c]},[b[c]],a));return f},read:function(a){var b=this,c=b._params(a);b._queueRequest(c,function(){b.trigger(fb)?b._dequeueRequest():(b.trigger(gb),b._ranges=[],b.transport.read({data:c,success:L(b.success,b),error:L(b.error,b)}))})},success:function(b){var c=this,d=c.options;return c.trigger(hb,{response:b,type:"read"}),b=c.reader.parse(b),c._handleCustomErrors(b)?(c._dequeueRequest(),void 0):(c._pristine=N(b)?a.extend(!0,{},b):b.slice?b.slice(0):b,c._total=c.reader.total(b),c._aggregate&&d.serverAggregates&&(c._aggregateResult=c.reader.aggregates(b)),b=c._readData(b),c._pristineData=b.slice(0),c._data=c._observe(b),c._addRange(c._data),c._process(c._data),c._dequeueRequest(),void 0)},_addRange:function(a){var b=this,c=b._skip||0,d=c+b._flatData(a).length;b._ranges.push({start:c,end:d,data:a}),b._ranges.sort(function(a,b){return a.start-b.start})},error:function(a,b,c){this._dequeueRequest(),this.trigger(hb,{}),this.trigger(eb,{xhr:a,status:b,errorThrown:c})},_params:function(a){var b=this,c=K({take:b.take(),skip:b.skip(),page:b.page(),pageSize:b.pageSize(),sort:b._sort,filter:b._filter,group:b._group,aggregate:b._aggregate},a);return b.options.serverPaging||(delete c.take,delete c.skip,delete c.page,delete c.pageSize),b.options.serverGrouping?b.reader.model&&c.group&&(c.group=E(c.group,b.reader.model)):delete c.group,b.options.serverFiltering?b.reader.model&&c.filter&&(c.filter=D(c.filter,b.reader.model)):delete c.filter,b.options.serverSorting?b.reader.model&&c.sort&&(c.sort=E(c.sort,b.reader.model)):delete c.sort,b.options.serverAggregates?b.reader.model&&c.aggregate&&(c.aggregate=E(c.aggregate,b.reader.model)):delete c.aggregate,c},_queueRequest:function(a,c){var d=this;d._requestInProgress?d._pending={callback:L(c,d),options:a}:(d._requestInProgress=!0,d._pending=b,c())},_dequeueRequest:function(){var a=this;a._requestInProgress=!1,a._pending&&a._queueRequest(a._pending.options,a._pending.callback)},_handleCustomErrors:function(a){if(this.reader.errors){var b=this.reader.errors(a);if(b)return this.trigger(eb,{xhr:null,status:"customerror",errorThrown:"custom error",errors:b}),!0}return!1},_observe:function(a){var b=this,c=b.reader.model,d=!1;return c&&a.length&&(d=!(a[0]instanceof c)),a instanceof zb?d&&(a.type=b.reader.model,a.wrapAll(a,a)):(a=new zb(a,b.reader.model),a.parent=function(){return b.parent()}),b._isServerGrouped()&&v(a,c),b._changeHandler&&b._data&&b._data instanceof zb?b._data.unbind(bb,b._changeHandler):b._changeHandler=L(b._change,b),a.bind(bb,b._changeHandler)},_change:function(a){var b,c,d=this,e=a?a.action:"";if("remove"===e)for(b=0,c=a.items.length;c>b;b++)a.items[b].isNew&&a.items[b].isNew()||d._destroyed.push(a.items[b]);if(!d.options.autoSync||"add"!==e&&"remove"!==e&&"itemchange"!==e){var f=d._total||d.reader.total(d._pristine);"add"===e?f+=a.items.length:"remove"===e?f-=a.items.length:"itemchange"===e||"sync"===e||d.options.serverPaging||(f=d.reader.total(d._pristine)),d._total=f,d._process(d._data,a)}else d.sync()},_process:function(a,c){var d,e=this,g={};e.options.serverPaging!==!0&&(g.skip=e._skip,g.take=e._take||e._pageSize,g.skip===b&&e._page!==b&&e._pageSize!==b&&(g.skip=(e._page-1)*e._pageSize)),e.options.serverSorting!==!0&&(g.sort=e._sort),e.options.serverFiltering!==!0&&(g.filter=e._filter),e.options.serverGrouping!==!0&&(g.group=e._group),e.options.serverAggregates!==!0&&(g.aggregate=e._aggregate,e._aggregateResult=o(a,g)),d=f.process(a,g),e._view=d.data,d.total===b||e.options.serverFiltering||(e._total=d.total),c=c||{},c.items=c.items||e._view,e.trigger(bb,c)},_mergeState:function(a){var c=this;return a!==b&&(c._pageSize=a.pageSize,c._page=a.page,c._sort=a.sort,c._filter=a.filter,c._group=a.group,c._aggregate=a.aggregate,c._skip=a.skip,c._take=a.take,c._skip===b&&(c._skip=c.skip(),a.skip=c.skip()),c._take===b&&c._pageSize!==b&&(c._take=c._pageSize,a.take=c._take),a.sort&&(c._sort=a.sort=g(a.sort)),a.filter&&(c._filter=a.filter=i(a.filter)),a.group&&(c._group=a.group=k(a.group)),a.aggregate&&(c._aggregate=a.aggregate=j(a.aggregate))),a},query:function(a){var c,d=this,e=d.options.serverSorting||d.options.serverPaging||d.options.serverFiltering||d.options.serverGrouping||d.options.serverAggregates;e||(d._data===b||0===d._data.length)&&!d._destroyed.length?d.read(d._mergeState(a)):d.trigger(fb)||(d.trigger(gb),c=f.process(d._data,d._mergeState(a)),d.options.serverFiltering||(d._total=c.total!==b?c.total:d._data.length),d._view=c.data,d._aggregateResult=o(d._data,a),d.trigger(hb,{}),d.trigger(bb,{items:c.data}))},fetch:function(b){var c=this;return a.Deferred(function(a){var d=function(d){c.unbind(eb,e),a.resolve(),b&&b.call(c,d)},e=function(b){a.reject(b)};c.one(bb,d),c.one(eb,e),c._query()}).promise()},_query:function(a){var b=this;b.query(K({},{page:b.page(),pageSize:b.pageSize(),sort:b.sort(),filter:b.filter(),group:b.group(),aggregate:b.aggregate()},a))},next:function(a){var b=this,c=b.page(),d=b.total();return a=a||{},!c||d&&c+1>b.totalPages()?void 0:(b._skip=c*b.take(),c+=1,a.page=c,b._query(a),c)},prev:function(a){var b=this,c=b.page();return a=a||{},c&&1!==c?(b._skip=b._skip-b.take(),c-=1,a.page=c,b._query(a),c):void 0},page:function(a){var c,d=this;return a!==b?(a=mb.max(mb.min(mb.max(a,1),d.totalPages()),1),d._query({page:a}),void 0):(c=d.skip(),c!==b?mb.round((c||0)/(d.take()||1))+1:b)},pageSize:function(a){var c=this;return a!==b?(c._query({pageSize:a,page:1}),void 0):c.take()},sort:function(a){var c=this;return a!==b?(c._query({sort:a}),void 0):c._sort},filter:function(a){var c=this;return a===b?c._filter:(c._query({filter:a,page:1}),void 0)},group:function(a){var c=this;return a!==b?(c._query({group:a}),void 0):c._group},total:function(){return this._total||0},aggregate:function(a){var c=this;return a!==b?(c._query({aggregate:a}),void 0):c._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var a=this,b=a.pageSize()||a.total();return mb.ceil((a.total()||0)/b)},inRange:function(a,b){var c=this,d=mb.min(a+b,c.total());return!c.options.serverPaging&&c.data.length>0?!0:c._findRange(a,d).length>0},lastRange:function(){var a=this._ranges;return a[a.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a=this._ranges;return a.length&&a[0].data.length&&a[0].data[0].uid},range:function(a,c){a=mb.min(a||0,this.total());var d,e=this,f=mb.max(mb.floor(a/c),0)*c,g=mb.min(f+c,e.total());if(d=e._findRange(a,mb.min(a+c,e.total())),d.length){e._skip=a>e.skip()?mb.min(g,(e.totalPages()-1)*e.take()):f,e._take=c;var h=e.options.serverPaging,i=e.options.serverSorting,j=e.options.serverFiltering;try{e.options.serverPaging=!0,e.options.serverSorting=!0,e.options.serverFiltering=!0,h&&(e._data=d=e._observe(d)),e._process(d)}finally{e.options.serverPaging=h,e.options.serverSorting=i,e.options.serverFiltering=j}}else c!==b&&(e._rangeExists(f,g)?a>f&&e.prefetch(g,c,function(){e.range(a,c)}):e.prefetch(f,c,function(){a>f&&g<e.total()&&!e._rangeExists(g,mb.min(g+c,e.total()))?e.prefetch(g,c,function(){e.range(a,c)}):e.range(a,c)}))},_findRange:function(a,c){var d,e,h,i,j,l,m,n,o,p,q,r=this,s=r._ranges,t=[],u=r.options,v=u.serverSorting||u.serverPaging||u.serverFiltering||u.serverGrouping||u.serverAggregates;for(e=0,q=s.length;q>e;e++)if(d=s[e],a>=d.start&&a<=d.end){for(p=0,h=e;q>h;h++)if(d=s[h],o=r._flatData(d.data),o.length&&a+p>=d.start){if(l=d.data,m=d.end,!v){var w=k(r.group()||[]).concat(g(r.sort()||[]));n=f.process(d.data,{sort:w,filter:r.filter()}),o=l=n.data,n.total!==b&&(m=n.total)}if(i=0,a+p>d.start&&(i=a+p-d.start),j=o.length,m>c&&(j-=m-c),p+=j-i,t=r._mergeGroups(t,l,i,j),c<=d.end&&p==c-a)return t
}break}return[]},_mergeGroups:function(a,b,c,d){if(this._isServerGrouped()){var e,f=b.toJSON();return a.length&&(e=a[a.length-1]),t(e,f,c,d),a.concat(f)}return a.concat(b.slice(c,d))},skip:function(){var a=this;return a._skip===b?a._page!==b?(a._page-1)*(a.take()||1):b:a._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,b,c){var d=this;return function(e){var f,g,h=!1,i={start:a,end:b,data:[]};for(d._dequeueRequest(),f=0,g=d._ranges.length;g>f;f++)if(d._ranges[f].start===a){h=!0,i=d._ranges[f];break}h||d._ranges.push(i),d.trigger(hb,{response:e,type:"read"}),e=d.reader.parse(e),i.data=d._observe(d._readData(e)),i.end=i.start+d._flatData(i.data).length,d._ranges.sort(function(a,b){return a.start-b.start}),d._total=d.reader.total(e),c&&c()}},prefetch:function(a,b,c){var d=this,e=mb.min(a+b,d.total()),f={take:b,skip:a,page:a/b+1,pageSize:b,sort:d._sort,filter:d._filter,group:d._group,aggregate:d._aggregate};d._rangeExists(a,e)?c&&c():(clearTimeout(d._timeout),d._timeout=setTimeout(function(){d._queueRequest(f,function(){d.trigger(fb)?d._dequeueRequest():d.transport.read({data:f,success:d._prefetchSuccessHandler(a,e,c)})})},100))},_rangeExists:function(a,b){var c,d,e=this,f=e._ranges;for(c=0,d=f.length;d>c;c++)if(f[c].start<=a&&f[c].end>=b)return!0;return!1}}),Ob={};Ob.create=function(a,b){var c,d=a.transport;return d?(d.read=typeof d.read===X?{url:d.read}:d.read,a.type&&(U.data.transports[a.type]&&!N(U.data.transports[a.type])?c=new U.data.transports[a.type](K(d,{data:b})):d=K(!0,{},U.data.transports[a.type],d),a.schema=K(!0,{},U.data.schemas[a.type],a.schema)),c||(c=M(d.read)?d:new Kb(d))):c=new Jb({data:a.data}),c},Nb.create=function(a){a=a&&a.push?{data:a}:a;var b,c,d,e=a||{},f=e.data,g=e.fields,h=e.table,i=e.select,j={};if(f||!g||e.transport||(h?f=G(h,g):i&&(f=F(i,g))),U.data.Model&&g&&(!e.schema||!e.schema.model)){for(b=0,c=g.length;c>b;b++)d=g[b],d.type&&(j[d.field]=d);O(j)||(e.schema=K(!0,e.schema,{model:{fields:j}}))}return e.data=f,e instanceof Nb?e:new Nb(e)};var Pb=Db.define({init:function(a){var b=this,c=b.hasChildren||a&&a.hasChildren,d="items",e={};U.data.Model.fn.init.call(b,a),typeof b.children===X&&(d=b.children),e={schema:{data:d,model:{hasChildren:c,id:b.idField}}},typeof b.children!==X&&K(e,b.children);var f=e.transport;f&&(f.parameterMap=function(a){return b.parentParameterMap&&(a=b.parentParameterMap.call(this,a)),a[b.idField||"id"]=b.id,a}),e.data=a,c||(c=e.schema.data),typeof c===X&&(c=U.getter(c)),M(c)&&(b.hasChildren=!!c.call(b,b)),b._childrenOptions=e,b.hasChildren&&b._initChildren(),b._loaded=!(!a||!a[d]&&!a._loaded)},_initChildren:function(){var a=this;a.children instanceof Qb||(a.children=new Qb(a._childrenOptions),a.children.parent=function(){return a},a.children.bind(bb,function(b){b.node=b.node||a,a.trigger(bb,b)}),a.children.bind(eb,function(b){var c=a.parent();c&&(b.node=b.node||a,c.trigger(eb,b))}),a._updateChildrenField())},append:function(a){this._initChildren(),this.loaded(!0),this.children.add(a)},hasChildren:!1,level:function(){for(var a=this.parentNode(),b=0;a&&a.parentNode;)b++,a=a.parentNode?a.parentNode():null;return b},_updateChildrenField:function(){var a=this._childrenOptions.schema.data;this[a||"items"]=this.children.data()},load:function(){var a=this,c={};a.hasChildren&&(a._initChildren(),c[a.idField||"id"]=a.id,a._loaded||(a.children._data=b),a.children.one(bb,function(){a._loaded=!0,a._updateChildrenField()})._query(c))},parentNode:function(){var a=this.parent();return a.parent()},loaded:function(a){return a===b?this._loaded:(this._loaded=a,void 0)},shouldSerialize:function(a){return Db.fn.shouldSerialize.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}}),Qb=Nb.extend({init:function(a){var b=Pb.define({children:a});Nb.fn.init.call(this,K(!0,{},{schema:{modelBase:b,model:b}},a)),this.transport&&(b.fn.parentParameterMap=this.transport.parameterMap),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a=this;a._data.bind(eb,function(b){a.trigger(eb,b)})},remove:function(a){var b,c=a.parentNode(),d=this;return c&&c._initChildren&&(d=c.children),b=Nb.fn.remove.call(d,a),c&&!d.data().length&&(c.hasChildren=!1),b},success:H("success"),data:H("data"),insert:function(a,b){var c=this.parent();return c&&c._initChildren&&(c.hasChildren=!0,c._initChildren()),Nb.fn.insert.call(this,a,b)},_find:function(a,b){var c,d,e,f,g;if(e=Nb.fn[a].call(this,b))return e;if(f=this._flatData(this.data()))for(c=0,d=f.length;d>c;c++)if(g=f[c].children,g instanceof Qb&&(e=g[a](b)))return e},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}});Qb.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},c=b.data,d=b.fields,e=b.list;return c&&c._dataSource?c._dataSource:(c||!d||b.transport||e&&(c=I(e,d)),b.data=c,b instanceof Qb?b:new Qb(b))};var Rb=U.Observable.extend({init:function(a,b,c){U.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=a,this.prefetch=!c;var d=this;a.bind("change",function(){d._change()}),this._syncWithDataSource(),this.setViewSize(b)},setViewSize:function(a){this.viewSize=a,this._recalculate()},at:function(a){var c=this.pageSize;if(a>=this.total())return this.trigger("endreached",{index:a}),void 0;if(a<this.dataOffset||a>this.skip+c){var d=Math.floor(a/c)*c;this.range(d)}a===this.prefetchThreshold&&this._prefetch(),a===this.midPageThreshold?this.range(this.nextMidRange):a===this.nextPageThreshold?this.range(this.nextFullRange):a===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange));var e=this.dataSource.at(a-this.dataOffset);return e===b&&this.trigger("endreached",{index:a}),e},indexOf:function(a){return this.dataSource.data().indexOf(a)+this.dataOffset},_prefetch:function(){var a=this,b=this.pageSize,c=this.skip+b,d=this.dataSource;d.inRange(c,b)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:c,take:b}),d.prefetch(c,b,function(){a._prefetching=!1,a.trigger("prefetched",{skip:c,take:b})}))},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a=this,b=a.pageSize,c=a.skip-a.viewSize,d=mb.max(mb.floor(c/b),0)*b+b;this.offset=c,this.dataSource.prefetch(d,b,function(){a._goToRange(c,!0)})},range:function(a){if(this.offset!==a){var b=this,c=this.pageSize,d=mb.max(mb.floor(a/c),0)*c+c,e=this.dataSource;this.offset=a,this._recalculate(),e.inRange(a,c)?this._goToRange(a):this.prefetch&&e.prefetch(d,c,function(){b._goToRange(a,!0)})}},syncDataSource:function(){var a=this.offset;this.offset=null,this.range(a)},_goToRange:function(a,b){this.offset===a&&(this.dataOffset=a,this._expanding=b,this.dataSource.range(a,this.pageSize))},_change:function(){var a=this.dataSource,b=a.firstItemUid();this.length=a.lastRange().end,this._firstItemUid!==b&&(this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var a=this.dataSource;this._firstItemUid=a.firstItemUid(),this.dataOffset=this.offset=a.skip(),this.pageSize=a.pageSize()},_recalculate:function(){var a=this.pageSize,b=this.offset,c=this.viewSize,d=Math.ceil(b/a)*a;this.skip=d,this.midPageThreshold=d+a-1,this.nextPageThreshold=d+c-1,this.prefetchThreshold=d+Math.floor(2*(a/3)),this.pullBackThreshold=this.offset-1,this.nextMidRange=d+a-c,this.nextFullRange=d,this.previousMidRange=b-c,this.previousFullRange=d-a}}),Sb=U.Observable.extend({init:function(a,b){var c=this;U.Observable.fn.init.call(c),this.dataSource=a,this.batchSize=b,this._total=0,this.buffer=new Rb(a,3*b),this.buffer.bind({endreached:function(a){c.trigger("endreached",{index:a.index})},prefetching:function(a){c.trigger("prefetching",{skip:a.skip,take:a.take})},prefetched:function(a){c.trigger("prefetched",{skip:a.skip,take:a.take})},reset:function(){c._total=0,c.trigger("reset")},resize:function(){c._total=this.length/c.batchSize,c.trigger("resize",{total:c.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a){var c,d=this.buffer,e=a*this.batchSize,f=this.batchSize,g=[];d.offset>e&&d.at(d.offset-1);for(var h=0;f>h;h++){if(c=d.at(e+h),c===b)return;g.push(c)}return g},total:function(){return this._total}});K(!0,U.data,{readers:{json:Mb},Query:f,DataSource:Nb,HierarchicalDataSource:Qb,Node:Pb,ObservableObject:Ab,ObservableArray:zb,LocalTransport:Jb,RemoteTransport:Kb,Cache:Lb,DataReader:Mb,Model:Db,Buffer:Rb,BatchBuffer:Sb})}(window.kendo.jQuery),kendo_module({id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]}),function(a,b){function c(a){var b,d,e=[];for(b=0,d=a.length;d>b;b++)e=a[b].hasSubgroups?e.concat(c(a[b].items)):e.concat(a[b].items);return e}function d(a,b,c){var d=c[a];return d?new G(o.initWidget(b,d.options,c)):void 0}function e(a){var b,c,d,f,g,h,i,j={};for(i=a.match(H),b=0,c=i.length;c>b;b++)d=i[b],f=d.indexOf(":"),g=d.substring(0,f),h=d.substring(f+1),"{"==h.charAt(0)&&(h=e(h)),j[g]=h;return j}function f(a,b,c){var d,e={};for(d in a)e[d]=new c(b,a[d]);return e}function g(a,b,c,h){var j,k,l,m=a.getAttribute("data-"+o.ns+"role"),n=a.getAttribute("data-"+o.ns+"bind"),p=a.children,q=[],r=!0,s={};if(h=h||[b],(m||n)&&i(a),m&&(l=d(m,a,c)),n&&(n=e(n.replace(I,"")),l||(s=o.parseOptions(a,{textField:"",valueField:"",template:"",valueUpdate:A,valuePrimitive:!1}),s.roles=c,l=new F(a,s)),l.source=b,k=f(n,h,B),s.template&&(k.template=new D(h,"",s.template)),k.click&&(n.events=n.events||{},n.events.click=n.click,delete k.click),k.source&&(r=!1),n.attr&&(k.attr=f(n.attr,h,B)),n.style&&(k.style=f(n.style,h,B)),n.events&&(k.events=f(n.events,h,C)),l.bind(k)),l&&(a.kendoBindingTarget=l),r&&p){for(j=0;j<p.length;j++)q[j]=p[j];for(j=0;j<q.length;j++)g(q[j],b,c,h)}}function h(b,c){var d,e,f,h=o.rolesFromNamespaces([].slice.call(arguments,2));for(c=o.observable(c),b=a(b),d=0,e=b.length;e>d;d++)f=b[d],1===f.nodeType&&g(f,c,h)}function i(b){var c=b.kendoBindingTarget;c&&(c.destroy(),a.support.deleteExpando?delete b.kendoBindingTarget:b.removeAttribute?b.removeAttribute("kendoBindingTarget"):b.kendoBindingTarget=null)}function j(a){i(a),k(a)}function k(a){var b=a.children;if(b)for(var c=0,d=b.length;d>c;c++)j(b[c])}function l(b){var c,d;for(b=a(b),c=0,d=b.length;d>c;c++)j(b[c])}function m(a,b){var c=a.element,d=c[0].kendoBindingTarget;d&&h(c,d.source,b)}var n,o=window.kendo,p=o.Observable,q=o.data.ObservableObject,r=o.data.ObservableArray,s={}.toString,t={},u=o.Class,v=a.proxy,w="value",x="source",y="events",z="checked",A="change";!function(){var a=document.createElement("a");a.innerText!==b?n="innerText":a.textContent!==b&&(n="textContent")}();var B=p.extend({init:function(a,b){var c=this;p.fn.init.call(c),c.source=a[0],c.parents=a,c.path=b,c.dependencies={},c.dependencies[b]=!0,c.observable=c.source instanceof p,c._access=function(a){c.dependencies[a.field]=!0},c.observable&&(c._change=function(a){c.change(a)},c.source.bind(A,c._change))},_parents:function(){var b=this.parents,c=this.get();if(c&&"function"==typeof c.parent){var d=c.parent();a.inArray(d,b)<0&&(b=[d].concat(b))}return b},change:function(a){var b,c,d=a.field,e=this;if("this"===e.path)e.trigger(A,a);else for(b in e.dependencies)if(0===b.indexOf(d)&&(c=b.charAt(d.length),!c||"."===c||"["===c)){e.trigger(A,a);break}},start:function(a){a.bind("get",this._access)},stop:function(a){a.unbind("get",this._access)},get:function(){var a=this,c=a.source,d=0,e=a.path,f=c;if(!a.observable)return f;for(a.start(a.source),f=c.get(e);f===b&&c;)c=a.parents[++d],c instanceof q&&(f=c.get(e));if(f===b)for(c=a.source;f===b&&c;)c=c.parent(),c instanceof q&&(f=c.get(e));return"function"==typeof f&&(d=e.lastIndexOf("."),d>0&&(c=c.get(e.substring(0,d))),a.start(c),f=f.call(c,a.source),a.stop(c)),c&&c!==a.source&&(a.currentSource=c,c.unbind(A,a._change).bind(A,a._change)),a.stop(a.source),f},set:function(a){var b=this,c=b.currentSource||b.source;c.set(b.path,a)},destroy:function(){this.observable&&this.source.unbind(A,this._change)}}),C=B.extend({get:function(){var a,b=this.source,c=this.path,d=0;for(a=b.get(c);!a&&b;)b=this.parents[++d],b instanceof q&&(a=b.get(c));return v(a,b)}}),D=B.extend({init:function(a,b,c){var d=this;B.fn.init.call(d,a,b),d.template=c},render:function(a){var b;return this.start(this.source),b=o.render(this.template,a),this.stop(this.source),b}}),E=u.extend({init:function(a,b,c){this.element=a,this.bindings=b,this.options=c},bind:function(a,b){var c=this;a=b?a[b]:a,a.bind(A,function(a){c.refresh(b||a)}),c.refresh(b)},destroy:function(){}});t.attr=E.extend({refresh:function(a){this.element.setAttribute(a,this.bindings.attr[a].get())}}),t.style=E.extend({refresh:function(a){this.element.style[a]=this.bindings.style[a].get()||""}}),t.enabled=E.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),t.readonly=E.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),t.disabled=E.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),t.events=E.extend({init:function(a,b,c){E.fn.init.call(this,a,b,c),this.handlers={}},refresh:function(b){var c=a(this.element),d=this.bindings.events[b],e=this.handlers[b];e&&c.off(b,e),e=this.handlers[b]=d.get(),c.on(b,d.source,e)},destroy:function(){var b,c=a(this.element);for(b in this.handlers)c.off(b,this.handlers[b])}}),t.text=E.extend({refresh:function(){var a=this.bindings.text.get();null==a&&(a=""),this.element[n]=a}}),t.visible=E.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),t.invisible=E.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),t.html=E.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),t.value=E.extend({init:function(b,c,d){E.fn.init.call(this,b,c,d),this._change=v(this.change,this),this.eventName=d.valueUpdate||A,a(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=A,this.bindings[w].set(this.element.value),this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.bindings[w].get();null==a&&(a=""),this.element.value=a}this._initChange=!1},destroy:function(){a(this.element).off(this.eventName,this._change)}}),t.source=E.extend({init:function(a,b,c){E.fn.init.call(this,a,b,c)},refresh:function(a){var b=this,c=b.bindings.source.get();c instanceof r?(a=a||{},"add"==a.action?b.add(a.index,a.items):"remove"==a.action?b.remove(a.index,a.items):"itemchange"!=a.action&&b.render()):b.render()},container:function(){var a=this.element;return"table"==a.nodeName.toLowerCase()&&(a.tBodies[0]||a.appendChild(document.createElement("tbody")),a=a.tBodies[0]),a},template:function(){var a=this.options,b=a.template,c=this.container().nodeName.toLowerCase();return b||(b="select"==c?a.valueField||a.textField?o.format('<option value="#:{0}#">#:{1}#</option>',a.valueField||a.textField,a.textField||a.valueField):"<option>#:data#</option>":"tbody"==c?"<tr><td>#:data#</td></tr>":"ul"==c||"ol"==c?"<li>#:data#</li>":"#:data#",b=o.template(b)),b},destroy:function(){var a=this.bindings.source.get();a.unbind(A,this._change)},add:function(b,c){var d,e,f,h,i=this.container(),j=i.cloneNode(!1),k=i.children[b];if(a(j).html(o.render(this.template(),c)),j.children.length)for(d=this.bindings.source._parents(),e=0,f=c.length;f>e;e++)h=j.children[0],i.insertBefore(h,k||null),g(h,c[e],this.options.roles,[c[e]].concat(d))},remove:function(a,b){var c,d=this.container();for(c=0;c<b.length;c++){var e=d.children[a];j(e),d.removeChild(e)}},render:function(){var b,c,d,e,f=this.bindings.source.get(),h=this.container(),i=this.template();if(f instanceof r||"[object Array]"===s.call(f)||(f.parent&&(e=f.parent),f=new r([f]),f.parent&&(f.parent=e)),this.bindings.template){if(k(h),a(h).html(this.bindings.template.render(f)),h.children.length)for(b=this.bindings.source._parents(),c=0,d=f.length;d>c;c++)g(h.children[c],f[c],this.options.roles,[f[c]].concat(b))}else a(h).html(o.render(i,f))}}),t.input={checked:E.extend({init:function(b,c,d){E.fn.init.call(this,b,c,d),this._change=v(this.change,this),a(this.element).change(this._change)},change:function(){var a=this.element,b=this.value();if("radio"==a.type)this.bindings[z].set(b);else if("checkbox"==a.type){var c,d=this.bindings[z].get();d instanceof r?(b=this.element.value,"on"!==b&&"off"!==b&&(c=d.indexOf(b),c>-1?d.splice(c,1):d.push(b))):this.bindings[z].set(b)}},refresh:function(){var a=this.bindings[z].get(),b=a,c=this.element;"checkbox"==c.type?(b instanceof r&&(a=this.element.value,b.indexOf(a)>=0&&(a=!0)),c.checked=a===!0):"radio"==c.type&&null!=a&&c.value===a.toString()&&(c.checked=!0)},value:function(){var a=this.element,b=a.value;return"checkbox"==a.type&&(b=a.checked),b},destroy:function(){a(this.element).off(A,this._change)}})},t.select={value:E.extend({init:function(b,c,d){E.fn.init.call(this,b,c,d),this._change=v(this.change,this),a(this.element).change(this._change)},change:function(){var a,b,c,d,e,f,g=[],h=this.element,i=this.options.valueField||this.options.textField,j=this.options.valuePrimitive;for(e=0,f=h.options.length;f>e;e++)b=h.options[e],b.selected&&(d=b.attributes.value,d=d&&d.specified?b.value:b.text,g.push(d));if(i)for(a=this.bindings.source.get(),c=0;c<g.length;c++)for(e=0,f=a.length;f>e;e++)if(a[e].get(i)==g[c]){g[c]=a[e];break}d=this.bindings[w].get(),d instanceof r?d.splice.apply(d,[0,d.length].concat(g)):j||!(d instanceof q)&&i?this.bindings[w].set(g[0].get(i)):this.bindings[w].set(g[0])},refresh:function(){var a,b,c=this.element,d=c.options,e=this.bindings[w].get(),f=e,g=this.options.valueField||this.options.textField,h=!1;f instanceof r||(f=new r([e])),c.selectedIndex=-1;for(var i=0;i<f.length;i++)for(e=f[i],g&&e instanceof q&&(e=e.get(g)),a=0;a<d.length;a++)b=d[a].value,""===b&&""!==e&&(b=d[a].text),b==e&&(d[a].selected=!0,h=!0)},destroy:function(){a(this.element).off(A,this._change)}})},t.widget={events:E.extend({init:function(a,b,c){E.fn.init.call(this,a.element[0],b,c),this.widget=a,this.handlers={}},refresh:function(a){var b=this.bindings.events[a],c=this.handlers[a];c&&this.widget.unbind(a,c),c=b.get(),this.handlers[a]=function(a){a.data=b.source,c(a),a.data===b.source&&delete a.data},this.widget.bind(a,this.handlers[a])},destroy:function(){var a;for(a in this.handlers)this.widget.unbind(a,this.handlers[a])}}),checked:E.extend({init:function(a,b,c){E.fn.init.call(this,a.element[0],b,c),this.widget=a,this._change=v(this.change,this),this.widget.bind(A,this._change)},change:function(){this.bindings[z].set(this.value())},refresh:function(){this.widget.check(this.bindings[z].get()===!0)},value:function(){var a=this.element,b=a.value;return("on"==b||"off"==b)&&(b=a.checked),b},destroy:function(){this.widget.unbind(A,this._change)}}),visible:E.extend({init:function(a,b,c){E.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.visible.get();this.widget.wrapper[0].style.display=a?"":"none"}}),invisible:E.extend({init:function(a,b,c){E.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.invisible.get();this.widget.wrapper[0].style.display=a?"none":""}}),enabled:E.extend({init:function(a,b,c){E.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:E.extend({init:function(a,b,c){E.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:E.extend({init:function(a,b,c){var d=this;E.fn.init.call(d,a.element[0],b,c),d.widget=a,d._dataBinding=v(d.dataBinding,d),d._dataBound=v(d.dataBound,d),d._itemChange=v(d.itemChange,d)},itemChange:function(a){g(a.item[0],a.data,this._ns(a.ns),[a.data].concat(this.bindings.source._parents()))},dataBinding:function(){var a,b,c=this.widget,d=c.items();for(a=0,b=d.length;b>a;a++)j(d[a])},_ns:function(b){b=b||o.ui;var c=[o.ui,o.dataviz.ui,o.mobile.ui];return c.splice(a.inArray(b,c),1),c.unshift(b),o.rolesFromNamespaces(c)},dataBound:function(a){var b,d,e,f=this.widget,h=f.items(),i=f.dataSource,j=i.view(),k=i.group()||[];if(h.length)for(k.length&&(j=c(j)),e=this.bindings.source._parents(),b=0,d=j.length;d>b;b++)g(h[b],j[b],this._ns(a.ns),[j[b]].concat(e))},refresh:function(a){var b,c=this,d=c.widget;a=a||{},a.action||(c.destroy(),d.bind("dataBinding",c._dataBinding),d.bind("dataBound",c._dataBound),d.bind("itemChange",c._itemChange),b=c.bindings.source.get(),d.dataSource instanceof o.data.DataSource&&d.dataSource!=b&&(b instanceof o.data.DataSource?d.setDataSource(b):b&&b._dataSource?d.setDataSource(b._dataSource):d.dataSource.data(b)))},destroy:function(){var a=this.widget;a.unbind("dataBinding",this._dataBinding),a.unbind("dataBound",this._dataBound),a.unbind("itemChange",this._itemChange)}}),value:E.extend({init:function(b,c,d){E.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(A,this._change);var e=this.bindings.value.get();this._valueIsObservableObject=!d.valuePrimitive&&(null==e||e instanceof q),this._valueIsObservableArray=e instanceof r,this._initChange=!1},change:function(){var a,b,c,d,e,f,g,h=this.widget.value(),i=this.options.dataValueField||this.options.dataTextField,j="[object Array]"===s.call(h),k=this._valueIsObservableObject,l=[];if(this._initChange=!0,i)if(this.bindings.source&&(g=this.bindings.source.get()),""===h&&(k||this.options.valuePrimitive))h=null;else{for((!g||g instanceof o.data.DataSource)&&(g=this.widget.dataSource.view()),j&&(b=h.length,l=h.slice(0)),e=0,f=g.length;f>e;e++)if(c=g[e],d=c.get(i),j){for(a=0;b>a;a++)if(d==l[a]){l[a]=c;break}}else if(d==h){h=k?c:d;break}l[0]&&(h=this._valueIsObservableArray?l:k||!i?l[0]:l[0].get(i))}this.bindings.value.set(h),this._initChange=!1},refresh:function(){if(!this._initChange){var a,b=this.options.dataValueField||this.options.dataTextField,c=this.bindings.value.get(),d=0,e=[];if(b)if(c instanceof r){for(a=c.length;a>d;d++)e[d]=c[d].get(b);c=e}else c instanceof q&&(c=c.get(b));this.widget.value(c)}this._initChange=!1},destroy:function(){this.widget.unbind(A,this._change)}}),multiselect:{value:E.extend({init:function(b,c,d){E.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(A,this._change),this._initChange=!1},change:function(){var a=this,b=a.bindings[w].get(),c=a.options.valuePrimitive,d=c?a.widget.value():a.widget.dataItems();a._initChange=!0,b instanceof r?b.splice.apply(b,[0,b.length].concat(d)):a.bindings[w].set(d),a._initChange=!1},refresh:function(){if(!this._initChange){var a,b,c=this.options.dataValueField||this.options.dataTextField,d=this.bindings.value.get(),e=0,f=[];if(c)if(d instanceof r){for(a=d.length;a>e;e++)b=d[e],f[e]=b.get?b.get(c):b;d=f}else d instanceof q&&(d=d.get(c));this.widget.value(d)}},destroy:function(){this.widget.unbind(A,this._change)}})}};var F=u.extend({init:function(a,b){this.target=a,this.options=b,this.toDestroy=[]},bind:function(a){var b,c,d,e,f=this.target.nodeName.toLowerCase(),g=t[f]||{};for(b in a)b==w?c=!0:b==x?d=!0:b==y?e=!0:this.applyBinding(b,a,g);d&&this.applyBinding(x,a,g),c&&this.applyBinding(w,a,g),e&&this.applyBinding(y,a,g)},applyBinding:function(a,b,c){var d,e=c[a]||t[a],f=this.toDestroy,g=b[a];if(e)if(e=new e(this.target,b,this.options),f.push(e),g instanceof B)e.bind(g),f.push(g);else for(d in g)e.bind(g,d),f.push(g[d]);else if("template"!==a)throw new Error("The "+a+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var a,b,c=this.toDestroy;for(a=0,b=c.length;b>a;a++)c[a].destroy()}}),G=F.extend({bind:function(a){var b,c=this,d=!1,e=!1,f=t.widget[c.target.options.name.toLowerCase()]||{};for(b in a)b==w?d=!0:b==x?e=!0:c.applyBinding(b,a);e&&c.applyBinding(x,a),d&&c.applyBinding(w,a,f[w])},applyBinding:function(a,b,c){var d,e=c||t.widget[a],f=this.toDestroy,g=b[a];if(!e)throw new Error("The "+a+" binding is not supported by the "+this.target.options.name+" widget");if(e=new e(this.target,b,this.target.options),f.push(e),g instanceof B)e.bind(g),f.push(g);else for(d in g)e.bind(g,d),f.push(g[d])}}),H=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,I=/\s/g;o.unbind=l,o.bind=h,o.data.binders=t,o.data.Binder=E,o.notify=m,o.observable=function(a){return a instanceof q||(a=new q(a)),a},o.observableHierarchy=function(a){function b(a){var c,d;for(c=0;c<a.length;c++)a[c]._initChildren(),d=a[c].children,d.fetch(),a[c].items=d.data(),b(a[c].items)}var c=o.data.HierarchicalDataSource.create(a);return c.fetch(),b(c.data()),c._data._dataSource=c,c._data}}(window.kendo.jQuery),function(a){function b(b){var c,d=f.ui.validator.ruleResolvers||{},e={};for(c in d)a.extend(!0,e,d[c].resolve(b));return e}function c(a){return a.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function d(a){return a=(a+"").split("."),a.length>1?a[1].length:0}function e(b){return a.parseHTML?a(a.parseHTML(b)):a(b)}var f=window.kendo,g=f.ui.Widget,h=".kendoValidator",i="k-invalid-msg",j="k-invalid",k=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,l=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,m=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",n=":checkbox:not([disabled],[readonly])",o="[type=number],[type=range]",p="blur",q="name",r="form",s="novalidate",t=a.proxy,u=function(a,b){return"string"==typeof b&&(b=new RegExp("^(?:"+b+")$")),b.test(a)},v=function(a,b,c){var d=a.val();return a.filter(b).length&&""!==d?u(d,c):!0},w=function(a,b){return a.length?null!=a[0].attributes[b]:!1};f.ui.validator||(f.ui.validator={rules:{},messages:{}});var x=g.extend({init:function(c,d){var e=this,h=b(c);d=d||{},d.rules=a.extend({},f.ui.validator.rules,h.rules,d.rules),d.messages=a.extend({},f.ui.validator.messages,h.messages,d.messages),g.fn.init.call(e,c,d),e._errorTemplate=f.template(e.options.errorTemplate),e.element.is(r)&&e.element.attr(s,s),e._errors={},e._attachEvents()},options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(a){var b=a.filter("[type=checkbox]").length&&!a.is(":checked"),c=a.val();return!(w(a,"required")&&(""===c||!c||b))},pattern:function(a){return a.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==a.val()?u(a.val(),a.attr("pattern")):!0},min:function(a){if(a.filter(o+",["+f.attr("type")+"=number]").filter("[min]").length&&""!==a.val()){var b=parseFloat(a.attr("min"))||0,c=f.parseFloat(a.val());return c>=b}return!0},max:function(a){if(a.filter(o+",["+f.attr("type")+"=number]").filter("[max]").length&&""!==a.val()){var b=parseFloat(a.attr("max"))||0,c=f.parseFloat(a.val());return b>=c}return!0},step:function(a){if(a.filter(o+",["+f.attr("type")+"=number]").filter("[step]").length&&""!==a.val()){var b,c=parseFloat(a.attr("min"))||0,e=parseFloat(a.attr("step"))||1,g=parseFloat(a.val()),h=d(e);return h?(b=Math.pow(10,h),0===(g-c)*b%(e*b)/Math.pow(100,h)):0===(g-c)%e}return!0},email:function(a){return v(a,"[type=email],["+f.attr("type")+"=email]",k)},url:function(a){return v(a,"[type=url],["+f.attr("type")+"=url]",l)},date:function(a){return a.filter("[type^=date],["+f.attr("type")+"=date]").length&&""!==a.val()?null!==f.parseDate(a.val(),a.attr(f.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){g.fn.destroy.call(this),this.element.off(h)},_submit:function(a){return this.validate()?!0:(a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1)},_attachEvents:function(){var b=this;b.element.is(r)&&b.element.on("submit"+h,t(b._submit,b)),b.options.validateOnBlur&&(b.element.is(m)?(b.element.on(p+h,function(){b.validateInput(b.element)}),b.element.is(n)&&b.element.on("click"+h,function(){b.validateInput(b.element)})):(b.element.on(p+h,m,function(){b.validateInput(a(this))}),b.element.on("click"+h,n,function(){b.validateInput(a(this))})))},validate:function(){var a,b,c,d=this,e=!1;if(d._errors={},!d.element.is(m)){for(a=d.element.find(m),b=0,c=a.length;c>b;b++)d.validateInput(a.eq(b))||(e=!0);return!e}return d.validateInput(d.element)},validateInput:function(b){b=a(b);var d,f=this,g=f._errorTemplate,h=f._checkValidity(b),k=h.valid,l="."+i,m=b.attr(q)||"",n=f._findMessageContainer(m).add(b.next(l)).hide();if(b.removeAttr("aria-invalid"),!k){d=f._extractMessage(b,h.key),f._errors[m]=d;var o=e(g({message:c(d)}));f._decorateMessageContainer(o,m),n.replaceWith(o).length||o.insertAfter(b),o.show(),b.attr("aria-invalid",!0)}return b.toggleClass(j,!k),k},hideMessages:function(){var a=this,b="."+i,c=a.element;c.is(m)?c.next(b).hide():c.find(b).hide()},_findMessageContainer:function(b){for(var c,d=f.ui.validator.messageLocators,e=a(),g=this.element[0].getElementsByTagName("*"),h=0,j=g.length;j>h;h++){var k=g[h];if(k.className.indexOf(i)>-1){var l=k.getAttribute(f.attr("for"));l===b&&(e=e.add(k))}}for(c in d)e=e.add(d[c].locate(this.element,b));return e},_decorateMessageContainer:function(a,b){var c,d=f.ui.validator.messageLocators;a.addClass(i).attr(f.attr("for"),b||"");for(c in d)d[c].decorate(a,b);
a.attr("role","alert")},_extractMessage:function(b,c){var d=this,e=d.options.messages[c],g=b.attr(q);return e=a.isFunction(e)?e(b):e,f.format(b.attr(f.attr(c+"-msg"))||b.attr("validationMessage")||b.attr("title")||e||"",g,b.attr(c))},_checkValidity:function(a){var b,c=this.options.rules;for(b in c)if(!c[b](a))return{valid:!1,key:b};return{valid:!0}},errors:function(){var a,b=[],c=this._errors;for(a in c)b.push(c[a]);return b}});f.ui.plugin(x)}(window.kendo.jQuery),function(a){function b(a,b){var c=a.x.location,d=a.y.location,e=b.x.location,f=b.y.location,g=c-e,h=d-f;return{center:{x:(c+e)/2,y:(d+f)/2},distance:Math.sqrt(g*g+h*h)}}function c(a){var b,c,d,e=[],f=a.originalEvent,h=a.currentTarget,i=0;if(a.api)e.push({id:2,event:a,target:a.target,currentTarget:a.target,location:a});else if(a.type.match(/touch/))for(c=f?f.changedTouches:[],b=c.length;b>i;i++)d=c[i],e.push({location:d,event:a,target:d.target,currentTarget:h,id:d.identifier});else g.pointers?e.push({location:f,event:a,target:a.target,currentTarget:h,id:f.pointerId}):e.push({id:1,event:a,target:a.target,currentTarget:h,location:a});return e}function d(b){b.preventDefault();var c=a(b.data.root),d=c.closest(".k-widget").parent();d[0]||(d=c.parent());var e=a.extend(!0,{},b,{target:c[0]});d.trigger(a.Event(b.type,e))}function e(a){for(var b=f.eventMap.up.split(" "),c=0,d=b.length;d>c;c++)a(b[c])}var f=window.kendo,g=f.support,h=window.document,i=f.Class,j=f.Observable,k=a.now,l=a.extend,m=g.mobileOS,n=m&&m.android,o=g.browser.ie?5:0,p="press",q="select",r="start",s="move",t="end",u="cancel",v="tap",w="release",x="gesturestart",y="gesturechange",z="gestureend",A="gesturetap",B=i.extend({init:function(a,b){var c=this;c.axis=a,c._updateLocationData(b),c.startLocation=c.location,c.velocity=c.delta=0,c.timeStamp=k()},move:function(a){var b=this,c=a["page"+b.axis],d=k(),e=d-b.timeStamp||1;(c||!n)&&(b.delta=c-b.location,b._updateLocationData(a),b.initialDelta=c-b.startLocation,b.velocity=b.delta/e,b.timeStamp=d)},_updateLocationData:function(a){var b=this,c=b.axis;b.location=a["page"+c],b.client=a["client"+c],b.screen=a["screen"+c]}}),C=i.extend({init:function(a,b,c){var d=this;l(d,{x:new B("X",c.location),y:new B("Y",c.location),userEvents:a,target:b,currentTarget:c.currentTarget,initialTouch:c.target,id:c.id,_moved:!1,_finished:!1}),d.notifyInit=function(){d._trigger(p,c)}},move:function(a){var b=this;if(!b._finished){if(b.x.move(a.location),b.y.move(a.location),!b._moved){if(b._withinIgnoreThreshold())return;if(D.current&&D.current!==b.userEvents)return b.dispose();b._start(a)}b._finished||b._trigger(s,a)}},end:function(a){var b=this;b.endTime=k(),b._finished||(b._moved?b._trigger(t,a):b._trigger(v,a),b._trigger(w,a),b.dispose())},dispose:function(){var b=this,c=b.userEvents,d=c.touches;b._finished=!0,d.splice(a.inArray(b,d),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(a){this.startTime=k(),this._moved=!0,this._trigger(r,a)},_trigger:function(a,b){var c=this,d=b.event,e={touch:c,x:c.x,y:c.y,target:c.target,event:d};c.userEvents.notify(a,e)&&d.preventDefault()},_withinIgnoreThreshold:function(){var a=this.x.initialDelta,b=this.y.initialDelta;return Math.sqrt(a*a+b*b)<=this.userEvents.threshold}}),D=j.extend({init:function(b,c){var d,i=this,k=f.guid();if(c=c||{},d=i.filter=c.filter,i.threshold=c.threshold||o,i.touches=[],i._maxTouches=c.multiTouch?2:1,i.allowSelection=c.allowSelection,i.captureUpIfMoved=c.captureUpIfMoved,i.eventNS=k,b=a(b).handler(i),j.fn.init.call(i),l(i,{element:b,surface:c.global?a(h.documentElement):a(c.surface||b),stopPropagation:c.stopPropagation,pressed:!1}),i.surface.handler(i).on(f.applyEventMap("move",k),"_move").on(f.applyEventMap("up cancel",k),"_end"),b.on(f.applyEventMap("down",k),d,"_start"),g.pointers&&b.css("-ms-touch-action","pinch-zoom double-tap-zoom"),c.preventDragEvent&&b.on(f.applyEventMap("dragstart",k),f.preventDefault),b.on(f.applyEventMap("mousedown selectstart",k),d,{root:b},"_select"),i.captureUpIfMoved&&g.eventCapture){var m=i.surface[0],n=a.proxy(i.preventIfMoving,i);e(function(a){m.addEventListener(a,n,!0)})}i.bind([p,v,r,s,t,w,u,x,y,z,A,q],c)},preventIfMoving:function(a){this._isMoved()&&a.preventDefault()},destroy:function(){var a=this;if(!a._destroyed){if(a._destroyed=!0,a.captureUpIfMoved&&g.eventCapture){var b=a.surface[0];e(function(c){b.removeEventListener(c,a.preventIfMoving)})}a.element.kendoDestroy(a.eventNS),a.surface.kendoDestroy(a.eventNS),a.element.removeData("handler"),a.surface.removeData("handler"),a._disposeAll(),a.unbind(),delete a.surface,delete a.element}},capture:function(){D.current=this},cancel:function(){this._disposeAll(),this.trigger(u)},notify:function(a,c){var d=this,e=d.touches;if(this._isMultiTouch()){switch(a){case s:a=y;break;case t:a=z;break;case v:a=A}l(c,{touches:e},b(e[0],e[1]))}return this.trigger(a,c)},press:function(a,b,c){this._apiCall("_start",a,b,c)},move:function(a,b){this._apiCall("_move",a,b)},end:function(a,b){this._apiCall("_end",a,b)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){a.each(this.touches,function(){this.dispose()})},_isMoved:function(){return a.grep(this.touches,function(a){return a.isMoved()}).length},_select:function(a){(!this.allowSelection||this.trigger(q,{event:a}))&&d(a)},_start:function(b){var d,e,f=this,g=0,h=f.filter,i=c(b),j=i.length;if(!f._maxTouchesReached())for(D.current=null,f.currentTarget=b.currentTarget,f.stopPropagation&&b.stopPropagation();j>g&&!f._maxTouchesReached();g++)e=i[g],d=h?a(e.currentTarget):f.element,d.length&&(e=new C(f,d,e),f.touches.push(e),e.notifyInit(),f._isMultiTouch()&&f.notify("gesturestart",{}))},_move:function(a){this._eachTouch("move",a)},_end:function(a){this._eachTouch("end",a)},_eachTouch:function(a,b){var d,e,f,g,h=this,i={},j=c(b),k=h.touches;for(d=0;d<k.length;d++)e=k[d],i[e.id]=e;for(d=0;d<j.length;d++)f=j[d],g=i[f.id],g&&g[a](f)},_apiCall:function(b,c,d,e){this[b]({api:!0,pageX:c,pageY:d,target:e||this.element,stopPropagation:a.noop,preventDefault:a.noop})}});f.getTouches=c,f.touchDelta=b,f.UserEvents=D}(window.kendo.jQuery),function(a,b){function c(b,c){try{return a.contains(b,c)||b==c}catch(d){return!1}}function d(a){return z?m.elementFromPoint(a.x.screen,a.y.screen):m.elementFromPoint(a.x.client,a.y.client)}function e(a,b){return parseInt(a.css(b),10)||0}function f(a,b){return Math.min(Math.max(a,b.min),b.max)}function g(a,b){var c=t(a),d=c.left+e(a,"borderLeftWidth")+e(a,"paddingLeft"),f=c.top+e(a,"borderTopWidth")+e(a,"paddingTop"),g=d+a.width()-b.outerWidth(!0),h=f+a.height()-b.outerHeight(!0);return{x:{min:d,max:g},y:{min:f,max:h}}}function h(a,c,d){for(var e,f,g=0,h=c&&c.length,i=d&&d.length;a&&a.parentNode;){for(g=0;h>g;g++)if(e=c[g],e.element[0]===a)return{target:e,targetElement:a};for(g=0;i>g;g++)if(f=d[g],l.matchesSelector.call(a,f.options.filter))return{target:f,targetElement:a};a=a.parentNode}return b}var i,j,k=window.kendo,l=k.support,m=window.document,n=k.Class,o=k.ui.Widget,p=k.Observable,q=k.UserEvents,r=a.proxy,s=a.extend,t=k.getOffset,u={},v={},w={},x=l.mobileOS,y=x&&x.android,z=y&&"chrome"==x.browser,A="keyup",B="change",C="dragstart",D="drag",E="dragend",F="dragcancel",G="dragenter",H="dragleave",I="drop",J=p.extend({init:function(b,c){var d=this,e=b[0];d.capture=!1,a.each(k.eventMap.down.split(" "),function(){e.addEventListener(this,r(d._press,d),!0)}),a.each(k.eventMap.up.split(" "),function(){e.addEventListener(this,r(d._release,d),!0)}),p.fn.init.call(d),d.bind(["press","release"],c||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(a){var b=this;b.trigger("press"),b.capture&&a.preventDefault()},_release:function(a){var b=this;b.trigger("release"),b.capture&&(a.preventDefault(),b.cancelCapture())}}),K=p.extend({init:function(b){var c=this;p.fn.init.call(c),c.forcedEnabled=!1,a.extend(c,b),c.scale=1,c.horizontal?(c.measure="offsetWidth",c.scrollSize="scrollWidth",c.axis="x"):(c.measure="offsetHeight",c.scrollSize="scrollHeight",c.axis="y")},makeVirtual:function(){a.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:1e3,_virtualMax:-1e3})},virtualSize:function(a,b){(this._virtualMin!==a||this._virtualMax!==b)&&(this._virtualMin=a,this._virtualMax=b,this.update())},outOfBounds:function(a){return a>this.max||a<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(a){var b=this,c=b.virtual?b._virtualMax:b.getTotal(),d=c*b.scale,e=b.getSize();b.max=b.virtual?-b._virtualMin:0,b.size=e,b.total=d,b.min=Math.min(b.max,e-d),b.minScale=e/c,b.centerOffset=(d-e)/2,b.enabled=b.forcedEnabled||d>e,a||b.trigger(B,b)}}),L=p.extend({init:function(a){var b=this,c=r(b.refresh,b);p.fn.init.call(b),b.x=new K(s({horizontal:!0},a)),b.y=new K(s({horizontal:!1},a)),b.forcedMinScale=a.minScale,b.bind(B,a),k.onResize(c)},rescale:function(a){this.x.rescale(a),this.y.rescale(a),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var a=this;a.x.update(),a.y.update(),a.enabled=a.x.enabled||a.y.enabled,a.minScale=a.forcedMinScale||Math.min(a.x.minScale,a.y.minScale),a.fitScale=Math.max(a.x.minScale,a.y.minScale),a.trigger(B)}}),M=p.extend({init:function(a){var b=this;s(b,a),p.fn.init.call(b)},dragMove:function(a){var b=this,c=b.dimension,d=b.axis,e=b.movable,f=e[d]+a;c.enabled&&((f<c.min&&0>a||f>c.max&&a>0)&&(a*=b.resistance),e.translateAxis(d,a),b.trigger(B,b))}}),N=n.extend({init:function(a){var b,c,d,e,f=this;s(f,{elastic:!0},a),d=f.elastic?.5:0,e=f.movable,f.x=b=new M({axis:"x",dimension:f.dimensions.x,resistance:d,movable:e}),f.y=c=new M({axis:"y",dimension:f.dimensions.y,resistance:d,movable:e}),f.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(a){f.gesture=a},gesturechange:function(a){var d,g=f.gesture,h=g.center,i=a.center,j=a.distance/g.distance,k=f.dimensions.minScale;e.scale<=k&&1>j&&(j+=.8*(1-j)),d={x:(e.x-h.x)*j+i.x-e.x,y:(e.y-h.y)*j+i.y-e.y},e.scaleWith(j),b.dragMove(d.x),c.dragMove(d.y),f.dimensions.rescale(e.scale),f.gesture=a,a.preventDefault()},move:function(a){a.event.target.tagName.match(/textarea|input/i)||(b.dimension.enabled||c.dimension.enabled?(b.dragMove(a.x.delta),c.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end:function(a){a.preventDefault()}})}}),O=l.transitions.prefix+"Transform";j=l.hasHW3D?function(a,b,c){return"translate3d("+a+"px,"+b+"px,0) scale("+c+")"}:function(a,b,c){return"translate("+a+"px,"+b+"px) scale("+c+")"};var P=p.extend({init:function(b){var c=this;p.fn.init.call(c),c.element=a(b),c.element[0].style.webkitTransformOrigin="left top",c.x=0,c.y=0,c.scale=1,c._saveCoordinates(j(c.x,c.y,c.scale))},translateAxis:function(a,b){this[a]+=b,this.refresh()},scaleTo:function(a){this.scale=a,this.refresh()},scaleWith:function(a){this.scale*=a,this.refresh()},translate:function(a){this.x+=a.x,this.y+=a.y,this.refresh()},moveAxis:function(a,b){this[a]=b,this.refresh()},moveTo:function(a){s(this,a),this.refresh()},refresh:function(){var a=this,b=j(a.x,a.y,a.scale);b!=a.coordinates&&(a.element[0].style[O]=b,a._saveCoordinates(b),a.trigger(B))},_saveCoordinates:function(a){this.coordinates=a}}),Q=o.extend({init:function(a,b){var c=this;o.fn.init.call(c,a,b);var d=c.options.group;d in v?v[d].push(c):v[d]=[c]},events:[G,H,I],options:{name:"DropTarget",group:"default"},destroy:function(){var a,b=this.options.group,c=v[b]||w[b];if(c.length>1){for(o.fn.destroy.call(this),a=0;a<c.length;a++)if(c[a]==this){c.splice(a,1);break}}else Q.destroyGroup(b)},_trigger:function(a,b){var c=this,d=u[c.options.group];return d?c.trigger(a,s({},b.event,{draggable:d,dropTarget:b.dropTarget})):void 0},_over:function(a){this._trigger(G,a)},_out:function(a){this._trigger(H,a)},_drop:function(a){var b=this,c=u[b.options.group];c&&(c.dropped=!b._trigger(I,a))}});Q.destroyGroup=function(a){var b,c=v[a]||w[a];if(c){for(b=0;b<c.length;b++)o.fn.destroy.call(c[b]);c.length=0,delete v[a],delete w[a]}},Q._cache=v;var R=Q.extend({init:function(a,b){var c=this;o.fn.init.call(c,a,b);var d=c.options.group;d in w?w[d].push(c):w[d]=[c]},options:{name:"DropTargetArea",group:"default",filter:null}}),S=o.extend({init:function(a,b){var c=this;o.fn.init.call(c,a,b),c.userEvents=new q(c.element,{global:!0,stopPropagation:!0,filter:c.options.filter,threshold:c.options.distance,start:r(c._start,c),move:r(c._drag,c),end:r(c._end,c),cancel:r(c._cancel,c)}),c._afterEndHandler=r(c._afterEnd,c),c.captureEscape=function(a){a.keyCode===k.keys.ESC&&(c._trigger(F,{event:a}),c.userEvents.cancel())}},events:[C,D,E,F],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(b){var c,d=this,e=d.options,g=d.boundaries,h=e.axis,i=d.options.cursorOffset;i?c={left:b.x.location+i.left,top:b.y.location+i.top}:(d.hintOffset.left+=b.x.delta,d.hintOffset.top+=b.y.delta,c=a.extend({},d.hintOffset)),g&&(c.top=f(c.top,g.y),c.left=f(c.left,g.x)),"x"===h?delete c.top:"y"===h&&delete c.left,d.hint.css(c)},_start:function(b){var c=this,d=c.options,e=d.container,f=d.hint;if(c.currentTarget=b.target,c.currentTargetOffset=t(c.currentTarget),f){c.hint&&c.hint.stop(!0,!0).remove(),c.hint=a.isFunction(f)?a(f.call(c,c.currentTarget)):f;var h=t(c.currentTarget);c.hintOffset=h,c.hint.css({position:"absolute",zIndex:2e4,left:h.left,top:h.top}).appendTo(m.body)}u[d.group]=c,c.dropped=!1,e&&(c.boundaries=g(e,c.hint)),c._trigger(C,b)&&(c.userEvents.cancel(),c._afterEnd()),a(m).on(A,c.captureEscape)},_drag:function(b){var c=this;b.preventDefault(),c._withDropTarget(b,function(c,d){if(!c)return i&&(i._trigger(H,s(b,{dropTarget:a(i.targetElement)})),i=null),void 0;if(i){if(d===i.targetElement)return;i._trigger(H,s(b,{dropTarget:a(i.targetElement)}))}c._trigger(G,s(b,{dropTarget:a(d)})),i=s(c,{targetElement:d})}),c._trigger(D,b),c.hint&&c._updateHint(b)},_end:function(b){var c=this;c._withDropTarget(b,function(c,d){c&&(c._drop(s({},b,{dropTarget:a(d)})),i=null)}),c._trigger(E,b),c._cancel(b.event)},_cancel:function(){var a=this;a.hint&&!a.dropped?setTimeout(function(){a.hint.stop(!0,!0).animate(a.currentTargetOffset,"fast",a._afterEndHandler)},0):a._afterEnd()},_trigger:function(a,b){var c=this;return c.trigger(a,s({},b.event,{x:b.x,y:b.y,currentTarget:c.currentTarget,dropTarget:b.dropTarget}))},_withDropTarget:function(a,b){var e,f,g=this,i=g.options,j=v[i.group],k=w[i.group];(j&&j.length||k&&k.length)&&(e=d(a),g.hint&&c(g.hint[0],e)&&(g.hint.hide(),e=d(a),e||(e=d(a)),g.hint.show()),f=h(e,j,k),f?b(f.target,f.targetElement):b())},destroy:function(){var a=this;o.fn.destroy.call(a),a._afterEnd(),a.userEvents.destroy()},_afterEnd:function(){var b=this;b.hint&&b.hint.remove(),delete u[b.options.group],b.trigger("destroy"),a(m).off(A,b.captureEscape)}});k.ui.plugin(Q),k.ui.plugin(R),k.ui.plugin(S),k.TapCapture=J,k.containerBoundaries=g,s(k.ui,{Pane:N,PaneDimensions:L,Movable:P})}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.mobile,d=b.effects,e=c.ui,f=a.proxy,g=a.extend,h=e.Widget,i=b.Class,j=b.ui.Movable,k=b.ui.Pane,l=b.ui.PaneDimensions,m=d.Transition,n=d.Animation,o=Math.abs,p=500,q=.7,r=.96,s=10,t=55,u=.5,v="km-scroller-release",w="km-scroller-refresh",x="pull",y="change",z="resize",A="scroll",B=n.extend({init:function(a){var b=this;n.fn.init.call(b),g(b,a),b.userEvents.bind("gestureend",f(b.start,b)),b.tapCapture.bind("press",f(b.cancel,b))},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var a=this.movable;a.scaleWith(1.1),this.dimensions.rescale(a.scale)},onEnd:function(){var a=this.movable;a.scaleTo(this.dimensions.minScale),this.dimensions.rescale(a.scale)}}),C=n.extend({init:function(a){var b=this;n.fn.init.call(b),g(b,a,{transition:new m({axis:a.axis,movable:a.movable,onEnd:function(){b._end()}})}),b.tapCapture.bind("press",function(){b.cancel()}),b.userEvents.bind("end",f(b.start,b)),b.userEvents.bind("gestureend",f(b.start,b)),b.userEvents.bind("tap",f(b.onEnd,b))},onCancel:function(){this.transition.cancel()},freeze:function(a){var b=this;b.cancel(),b._moveTo(a)},onEnd:function(){var a=this;a._outOfBounds()?a._snapBack():a._end()},done:function(){return o(this.velocity)<1},start:function(a){var b=this;b.dimension.enabled&&(b._outOfBounds()?b._snapBack():(b.velocity=Math.max(Math.min(a.touch[b.axis].velocity*s,t),-t),b.velocity&&(b.tapCapture.captureNext(),n.fn.start.call(b))))},tick:function(){var a=this,b=a.dimension,c=a._outOfBounds()?u:r,d=a.velocity*=c,e=a.movable[a.axis]+d;!a.elastic&&b.outOfBounds(e)&&(e=Math.max(Math.min(e,b.max),b.min),a.velocity=0),a.movable.moveAxis(a.axis,e)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var a=this,b=a.dimension,c=a.movable[a.axis]>b.max?b.max:b.min;a._moveTo(c)},_moveTo:function(a){this.transition.moveTo({location:a,duration:p,ease:m.easeOutExpo})}}),D=i.extend({init:function(b){var c=this,d="x"===b.axis,e=a('<div class="km-touch-scrollbar km-'+(d?"horizontal":"vertical")+'-scrollbar" />');g(c,b,{element:e,elementSize:0,movable:new j(e),scrollMovable:b.movable,size:d?"width":"height"}),c.scrollMovable.bind(y,f(c._move,c)),c.container.append(e)},_move:function(){var a=this,b=a.axis,c=a.dimension,d=c.size,e=a.scrollMovable,f=d/c.total,g=Math.round(-e[b]*f),h=Math.round(d*f);g+h>d?h=d-g:0>g&&(h+=g,g=0),a.elementSize!=h&&(a.element.css(a.size,h+"px"),a.elementSize=h),a.movable.moveAxis(b,g)},show:function(){this.element.css({opacity:q,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),E=h.extend({init:function(c,d){var e=this;if(h.fn.init.call(e,c,d),c=e.element,e._native=e.options.useNative&&b.support.hasNativeScrolling,e._native)return c.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),g(e,{scrollElement:c,fixedContainer:c.children().first()}),void 0;c.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var f=c.children().eq(1),i=new b.TapCapture(c),m=new j(f),n=new l({element:f,container:c,forcedEnabled:e.options.zoom,change:function(){e.trigger(z)}}),p=this.options.avoidScrolling,q=new b.UserEvents(c,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:e.options.zoom,start:function(a){n.refresh();var b=o(a.x.velocity),c=o(a.y.velocity),d=2*b>=c,f=2*c>=b;!p(a)&&e.enabled&&(n.x.enabled&&d||n.y.enabled&&f)?q.capture():q.cancel()}}),r=new k({movable:m,dimensions:n,userEvents:q,elastic:e.options.elastic}),s=new B({movable:m,dimensions:n,userEvents:q,tapCapture:i});m.bind(y,function(){e.scrollTop=-m.y,e.scrollLeft=-m.x,e.trigger(A,{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}),g(e,{movable:m,dimensions:n,zoomSnapBack:s,userEvents:q,pane:r,tapCapture:i,pulled:!1,enabled:!0,scrollElement:f,scrollTop:0,scrollLeft:0,fixedContainer:c.children().first()}),e._initAxis("x"),e._initAxis("y"),n.refresh(),e.options.pullToRefresh&&e._initPullToRefresh(),b.onResize(a.proxy(e.reset,e))},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(a,b){this.dimensions.y.virtualSize(a,b)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,elastic:!0,useNative:!1,avoidScrolling:function(){return!1},pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[x,A,z],setOptions:function(a){var b=this;h.fn.setOptions.call(b,a),a.pullToRefresh&&b._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},zoomOut:function(){var a=this.dimensions;a.refresh(),this._scale(a.fitScale),this.movable.moveTo(a.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(a,b){this.dimensions.refresh(),this.movable.moveTo({x:a,y:b})},pullHandled:function(){var a=this;a.refreshHint.removeClass(w),a.hintContainer.html(a.pullTemplate({})),a.yinertia.onEnd(),a.xinertia.onEnd()},destroy:function(){h.fn.destroy.call(this),this.userEvents.destroy()},_scale:function(a){this.dimensions.rescale(a),this.movable.scaleTo(a)},_initPullToRefresh:function(){var a=this;a.dimensions.y.forceEnabled(),a.pullTemplate=b.template(a.options.pullTemplate),a.releaseTemplate=b.template(a.options.releaseTemplate),a.refreshTemplate=b.template(a.options.refreshTemplate),a.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+a.pullTemplate({})+"</span></span>"),a.refreshHint=a.scrollElement.children().first(),a.hintContainer=a.refreshHint.children(".km-template"),a.pane.y.bind("change",f(a._paneChange,a)),a.userEvents.bind("end",f(a._dragEnd,a))},_dragEnd:function(){var a=this;a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(v).addClass(w),a.hintContainer.html(a.refreshTemplate({})),a.yinertia.freeze(a.options.pullOffset/2),a.trigger("pull"))},_paneChange:function(){var a=this;a.movable.y/u>a.options.pullOffset?a.pulled||(a.pulled=!0,a.refreshHint.removeClass(w).addClass(v),a.hintContainer.html(a.releaseTemplate({}))):a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(v),a.hintContainer.html(a.pullTemplate({})))},_initAxis:function(a){var b=this,c=b.movable,d=b.dimensions[a],e=b.tapCapture,f=new D({axis:a,movable:c,dimension:d,container:b.element});b.pane[a].bind(y,function(){f.show()}),b[a+"inertia"]=new C({axis:a,movable:c,tapCapture:e,userEvents:b.userEvents,dimension:d,elastic:b.options.elastic,end:function(){f.hide(),b.trigger("scrollEnd",{axis:a,scrollTop:b.scrollTop,scrollLeft:b.scrollLeft})}})}});e.plugin(E)}(window.kendo.jQuery),function(a){function b(a){return a.position().top+3}var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=!1,g=".kendoGroupable",h=c.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),i=function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(c.attr("title"))||b.attr(c.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},j=a('<div class="k-grouping-dropclue"/>'),k=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,l=d.extend({init:function(h,k){var l,m,n,o=this,p=c.guid(),q=e(o._intializePositions,o),r=o._dropCuePositions=[];d.fn.init.call(o,h,k),f=c.support.isRtl(h),n=f?"right":"left",o.draggable=m=o.options.draggable||new c.ui.Draggable(o.element,{filter:o.options.draggableElements,hint:i,group:p}),l=o.groupContainer=a(o.options.groupContainer,o.element).kendoDropTarget({group:m.options.group,dragenter:function(a){o._canDrag(a.draggable.currentTarget)&&(a.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),j.css("top",b(l)).css(n,0).appendTo(l))},dragleave:function(a){a.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),j.remove()},drop:function(b){var d,e=b.draggable.currentTarget,g=e.attr(c.attr("field")),h=e.attr(c.attr("title")),i=o.indicator(g),k=o._dropCuePositions,l=k[k.length-1];(e.hasClass("k-group-indicator")||o._canDrag(e))&&(l?(d=o._dropCuePosition(c.getOffset(j).left+parseInt(l.element.css("marginLeft"),10)*(f?-1:1)+parseInt(l.element.css("marginRight"),10)),d&&o._canDrop(a(i),d.element,d.left)&&(d.before?d.element.before(i||o.buildIndicator(g,h)):d.element.after(i||o.buildIndicator(g,h)),o._change())):(o.groupContainer.append(o.buildIndicator(g,h)),o._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:i,group:m.options.group,dragcancel:e(o._dragCancel,o),dragstart:function(a){var c=a.currentTarget,d=parseInt(c.css("marginLeft"),10),e=c.position(),g=f?e.left-d:e.left+c.outerWidth();q(),j.css({top:b(l),left:g}).appendTo(l),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){o._dragEnd(this)},drag:e(o._drag,o)}).on("click"+g,".k-button",function(b){b.preventDefault(),o._removeIndicator(a(this).parent())}).on("click"+g,".k-link",function(b){var d=a(this).parent(),e=o.buildIndicator(d.attr(c.attr("field")),d.attr(c.attr("title")),"asc"==d.attr(c.attr("dir"))?"desc":"asc");d.before(e).remove(),o._change(),b.preventDefault()}),m.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){o._dragEnd(this)},dragcancel:e(o._dragCancel,o),dragstart:function(a){var b,c,d;return o.options.allowDrag||o._canDrag(a.currentTarget)?(q(),r.length?(b=r[r.length-1].element,c=parseInt(b.css("marginRight"),10),d=b.position().left+b.outerWidth()+c):d=0,void 0):(a.preventDefault(),void 0)},drag:e(o._drag,o)}),o.dataSource=o.options.dataSource,o.dataSource&&(o._refreshHandler=e(o.refresh,o),o.dataSource.bind("change",o._refreshHandler))},refresh:function(){var b=this,d=b.dataSource;b.groupContainer.empty().append(a.map(d.group()||[],function(a){var d=a.field.replace(k,"\\$1"),e=b.element.find(b.options.filter).filter("["+c.attr("field")+"="+d+"]");return b.buildIndicator(a.field,e.attr(c.attr("title")),a.dir)}).join("")),b._invalidateGroupContainer()},destroy:function(){var a=this;d.fn.destroy.call(a),a.groupContainer.off(g).kendoDropTarget("destroy").kendoDraggable("destroy"),a.options.draggable||a.draggable.destroy(),a.dataSource&&a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler)},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(b){var d=a(".k-group-indicator",this.groupContainer);return a.grep(d,function(d){return a(d).attr(c.attr("field"))===b})[0]},buildIndicator:function(a,b,d){return h({field:a.replace(/"/g,"'"),dir:d,title:b,ns:c.ns})},descriptors:function(){var b,d,e,f,g,h=this,i=a(".k-group-indicator",h.groupContainer);return b=h.element.find(h.options.filter).map(function(){var b=a(this),e=b.attr(c.attr("aggregates")),h=b.attr(c.attr("field"));if(e&&""!==e)for(d=e.split(","),e=[],f=0,g=d.length;g>f;f++)e.push({field:h,aggregate:d[f]});return e}).toArray(),a.map(i,function(d){return d=a(d),e=d.attr(c.attr("field")),{field:e,dir:d.attr(c.attr("dir")),aggregates:b||[]}})},_removeIndicator:function(a){var b=this;a.remove(),b._invalidateGroupContainer(),b._change()},_change:function(){var a=this;a.dataSource&&a.dataSource.group(a.descriptors())},_dropCuePosition:function(b){var c=this._dropCuePositions;if(j.is(":visible")&&0!==c.length){b=Math.ceil(b);var d=c[c.length-1],e=d.left,g=d.right,h=parseInt(d.element.css("marginLeft"),10),i=parseInt(d.element.css("marginRight"),10);return b>=g&&!f||e>b&&f?b={left:d.element.position().left+(f?-h:d.element.outerWidth()+i),element:d.element,before:!1}:(b=a.grep(c,function(a){return a.left<=b&&b<=a.right||f&&b>a.right})[0],b&&(b={left:f?b.element.position().left+b.element.outerWidth()+i:b.element.position().left-h,element:b.element,before:!0})),b}},_drag:function(a){var b=this._dropCuePosition(a.x.location);b&&j.css({left:b.left,right:"auto"})},_canDrag:function(a){var b=a.attr(c.attr("field"));return"false"!=a.attr(c.attr("groupable"))&&b&&(a.hasClass("k-group-indicator")||!this.indicator(b))},_canDrop:function(a,b,c){var d=a.next(),e=a[0]!==b[0]&&(!d[0]||b[0]!==d[0]||!f&&c>d.position().left||f&&c<d.position().left);return e},_dragEnd:function(b){var d=this,e=b.currentTarget.attr(c.attr("field")),f=d.indicator(e);b!==d.options.draggable&&!b.dropped&&f&&d._removeIndicator(a(f)),d._dragCancel()},_dragCancel:function(){j.remove(),this._dropCuePositions=[]},_intializePositions:function(){var b,d=this,e=a(".k-group-indicator",d.groupContainer);d._dropCuePositions=a.map(e,function(d){return d=a(d),b=c.getOffset(d).left,{left:parseInt(b,10),right:parseInt(b+d.outerWidth(),10),element:d}})},_invalidateGroupContainer:function(){var a=this.groupContainer;a.is(":empty")&&a.html(this.options.messages.empty)}});c.ui.plugin(l)}(window.kendo.jQuery),function(a){function b(b,c){b=a(b),c?b.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):b.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var c=window.kendo,d=c.ui.Widget,e="change",f="k-reorderable",g=d.extend({init:function(g,h){var i,j=this,k=c.guid()+"-reorderable";d.fn.init.call(j,g,h),g=j.element.addClass(f),h=j.options,j.draggable=i=h.draggable||new c.ui.Draggable(g,{group:k,filter:h.filter,hint:h.hint}),j.reorderDropCue=a('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),g.find(i.options.filter).kendoDropTarget({group:i.options.group,dragenter:function(a){if(j._draggable){var d,e=this.element,f=e[0]===j._draggable[0];b(a.draggable.hint,f),f||(d=c.getOffset(e),j.reorderDropCue.css({height:e.outerHeight(),top:d.top,left:d.left+(e.index()>j._draggable.index()?e.outerWidth():0)}).appendTo(document.body))}},dragleave:function(a){b(a.draggable.hint,!0),j.reorderDropCue.remove()},drop:function(){if(j._draggable){var a,b=j._draggable[0],c=this.element[0];b!==c&&(a=g.find(i.options.filter),j.trigger(e,{element:j._draggable,oldIndex:a.index(b),newIndex:a.index(c)}))}}}),i.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){j.reorderDropCue.remove(),j._draggable=null},dragend:function(){j.reorderDropCue.remove(),j._draggable=null},dragstart:function(a){j._draggable=a.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[e],destroy:function(){var a=this;d.fn.destroy.call(a),a.draggable&&a.draggable.destroy(),c.destroy(a.element)}});c.ui.plugin(g)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=a.isFunction,h=a.extend,i="horizontal",j="vertical",k="start",l="resize",m="resizeend",n=e.extend({init:function(a,b){var c=this;e.fn.init.call(c,a,b),c.orientation=c.options.orientation.toLowerCase()!=j?i:j,c._positionMouse=c.orientation==i?"x":"y",c._position=c.orientation==i?"left":"top",c._sizingDom=c.orientation==i?"outerWidth":"outerHeight",c.draggable=new d.Draggable(a,{distance:0,filter:b.handle,drag:f(c._resize,c),dragcancel:f(c._cancel,c),dragstart:f(c._start,c),dragend:f(c._stop,c)}),c.userEvents=c.draggable.userEvents},events:[l,m,k],options:{name:"Resizable",orientation:i},_max:function(a){var c=this,d=c.hint?c.hint[c._sizingDom]():0,e=c.options.max;return g(e)?e(a):e!==b?c._initialElementPosition+e-d:e},_min:function(a){var c=this,d=c.options.min;return g(d)?d(a):d!==b?c._initialElementPosition+d:d},_start:function(b){var c=this,d=c.options.hint,e=a(b.currentTarget);c._initialElementPosition=e.position()[c._position],c._initialMousePosition=b[c._positionMouse].startLocation,d&&(c.hint=g(d)?a(d(e)):d,c.hint.css({position:"absolute"}).css(c._position,c._initialElementPosition).appendTo(c.element)),c.trigger(k,b),c._maxPosition=c._max(b),c._minPosition=c._min(b),a(document.body).css("cursor",e.css("cursor"))},_resize:function(c){var d,e=this,f=(a(c.currentTarget),e._maxPosition),g=e._minPosition,i=e._initialElementPosition+(c[e._positionMouse].location-e._initialMousePosition);
d=g!==b?Math.max(g,i):i,e.position=d=f!==b?Math.min(f,d):d,e.hint&&e.hint.toggleClass(e.options.invalidClass||"",d==f||d==g).css(e._position,d),e.resizing=!0,e.trigger(l,h(c,{position:d}))},_stop:function(b){var c=this;c.hint&&c.hint.remove(),c.resizing=!1,c.trigger(m,h(b,{position:c.position})),a(document.body).css("cursor","")},_cancel:function(a){var c=this;c.hint&&(c.position=b,c.hint.css(c._position,c._initialElementPosition),c._stop(a))},destroy:function(){var a=this;e.fn.destroy.call(a),a.draggable&&a.draggable.destroy()},press:function(a){if(a){var b=a.position(),c=this;c.userEvents.press(b.left,b.top,a[0]),c.targetPosition=b,c.target=a}},move:function(a){var c=this,d=c._position,e=c.targetPosition,f=c.position;f===b&&(f=e[d]),e[d]=f+a,c.userEvents.move(e.left,e.top)},end:function(){this.userEvents.end(),this.target=this.position=b}});c.ui.plugin(n)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.proxy,e="dir",f="asc",g="single",h="field",i="desc",j=".kendoSortable",k=".k-link",l="aria-sort",m=c.ui.Widget,n=m.extend({init:function(a,b){var c,e=this;m.fn.init.call(e,a,b),e._refreshHandler=d(e.refresh,e),e.dataSource=e.options.dataSource.bind("change",e._refreshHandler),c=e.element.find(k),c[0]||(c=e.element.wrapInner('<a class="k-link" href="#"/>').find(k)),e.link=c,e.element.on("click"+j,d(e._click,e))},options:{name:"Sortable",mode:g,allowUnsort:!0,compare:null},destroy:function(){var a=this;m.fn.destroy.call(a),a.element.off(j),a.dataSource.unbind("change",a._refreshHandler)},refresh:function(){var b,d,g,j,k=this,m=k.dataSource.sort()||[],n=k.element,o=n.attr(c.attr(h));for(n.removeAttr(c.attr(e)),n.removeAttr(l),b=0,d=m.length;d>b;b++)g=m[b],o==g.field&&n.attr(c.attr(e),g.dir);j=n.attr(c.attr(e)),n.find(".k-i-arrow-n,.k-i-arrow-s").remove(),j===f?(a('<span class="k-icon k-i-arrow-n" />').appendTo(k.link),n.attr(l,"ascending")):j===i&&(a('<span class="k-icon k-i-arrow-s" />').appendTo(k.link),n.attr(l,"descending"))},_click:function(a){var d,j,k=this,l=k.element,m=l.attr(c.attr(h)),n=l.attr(c.attr(e)),o=k.options,p=k.options.compare,q=k.dataSource.sort()||[];if(n=n===f?i:n===i&&o.allowUnsort?b:f,o.mode===g)q=[{field:m,dir:n,compare:p}];else if("multiple"===o.mode){for(d=0,j=q.length;j>d;d++)if(q[d].field===m){q.splice(d,1);break}q.push({field:m,dir:n,compare:p})}a.preventDefault(),k.dataSource.sort(q)}});c.ui.plugin(n)}(window.kendo.jQuery),function(a){function b(a,b){var c=d.getOffset(a),e=b.left+b.width,f=b.top+b.height;return c.right=c.left+a.outerWidth(),c.bottom=c.top+a.outerHeight(),!(c.left>e||c.right<b.left||c.top>f||c.bottom<b.top)}function c(a,c,d,e){var f,g,h;for(f=0,g=a.length;g>f;f++)h=a.eq(f),b(h,d)?h.hasClass(i)?e&&c!==h[0]&&h.removeClass(i).addClass(n):h.hasClass(j)||h.hasClass(n)||h.addClass(j):h.hasClass(j)?h.removeClass(j):e&&h.hasClass(n)&&h.removeClass(n).addClass(i)}var d=window.kendo,e=d.ui.Widget,f=a.proxy,g=Math.abs,h="aria-selected",i="k-state-selected",j="k-state-selecting",k="k-selectable",l="change",m=".kendoSelectable",n="k-state-unselecting",o=!1;!function(a){!function(){a('<div class="parent"><span /></div>').on("click",">*",function(){o=!0}).find("span").click().end().off()}()}(a);var p=e.extend({init:function(b,c){var g,h=this;e.fn.init.call(h,b,c),h._marquee=a("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),h._lastActive=null,h.element.addClass(k),g=h.options.multiple,h.userEvents=new d.UserEvents(h.element,{global:!0,allowSelection:!0,filter:(o?"":"."+k+" ")+h.options.filter,tap:f(h._tap,h)}),g&&h.userEvents.bind("start",f(h._start,h)).bind("move",f(h._move,h)).bind("end",f(h._end,h)).bind("select",f(h._select,h))},events:[l],options:{name:"Selectable",filter:">*",multiple:!1},_tap:function(b){var c,d=a(b.target),e=this,f=b.event.ctrlKey||b.event.metaKey,g=e.options.multiple,h=g&&b.event.shiftKey,j=b.event.which,m=b.event.button;d.closest("."+k)[0]!==e.element[0]||j&&3==j||m&&2==m||(c=d.hasClass(i),g&&f||e.clear(),h?e.selectRange(e._firstSelectee(),d):(c&&f?(e._unselect(d),e._notify(l)):e.value(d),e._lastActive=e._downTarget=d))},_start:function(b){var c=this,d=a(b.target),e=d.hasClass(i),f=b.event.ctrlKey||b.event.metaKey;return c._downTarget=d,d.closest("."+k)[0]!==c.element[0]?(c.userEvents.cancel(),c._downTarget=null,void 0):(c._marquee.appendTo(document.body).css({left:b.x.client+1,top:b.y.client+1,width:0,height:0}),f||c.clear(),e&&(c._selectElement(d,!0),f&&d.addClass(n)),void 0)},_move:function(a){var b=this,d={left:a.x.startLocation>a.x.location?a.x.location:a.x.startLocation,top:a.y.startLocation>a.y.location?a.y.location:a.y.startLocation,width:g(a.x.initialDelta),height:g(a.y.initialDelta)},e=b.element.find(b.options.filter);b._marquee.css(d),c(e,b._downTarget[0],d,a.event.ctrlKey||a.event.metaKey),a.preventDefault()},_end:function(){var a=this;a._marquee.remove(),a._unselect(a.element.find(a.options.filter+"."+n)).removeClass(n),a.value(a.element.find(a.options.filter+"."+j)),a._lastActive=a._downTarget},value:function(a){var b=this,c=f(b._selectElement,b);return a?(a.each(function(){c(this)}),b._notify(l),void 0):b.element.find(b.options.filter+"."+i)},_firstSelectee:function(){var a,b=this;return null!==b._lastActive?b._lastActive:(a=b.value(),a.length>0?a[0]:b.element.find(b.options.filter))},_selectElement:function(b,c){var d=a(b),e=!c&&this._notify("select",{element:b});d.removeClass(j),e||(d.addClass(i),this.options.aria&&d.attr(h,!0))},_notify:function(a,b){return b=b||{},this.trigger(a,b)},_unselect:function(a){return a.removeClass(i),this.options.aria&&a.attr(h,!1),a},_select:function(b){a(b.event.target).is("input,a,textarea")?(this.userEvents.cancel(),this._downTarget=null):b.preventDefault()},clear:function(){var a=this.element.find(this.options.filter+"."+i);this._unselect(a)},selectRange:function(b,c){var d,e,g,h,j=this,k=!1,m=j.element.find(j.options.filter),n=f(j._selectElement,j);for(b=a(b)[0],c=a(c)[0],d=0,e=m.length;e>d;d++)h=m[d],k?(n(h),k=h!==c):h===b?(k=b!==c,n(h)):h===c?(g=b,b=c,c=g,k=!0,n(h)):a(h).removeClass(i);j._notify(l)},destroy:function(){var a=this;e.fn.destroy.call(a),a.element.off(m),a.userEvents.destroy()}});d.ui.plugin(p)}(window.kendo.jQuery),function(a,b){function c(a,b,c,d){return a({idx:b,text:c,ns:j.ns,numeric:d})}function d(a,b){return w({className:a.substring(1),text:b})}function e(a,b,c,d){a.find(b).parent().attr(j.attr("page"),c).attr("tabindex",-1).toggleClass("k-state-disabled",d)}function f(a,b){e(a,n,1,1>=b)}function g(a,b){e(a,p,Math.max(1,b-1),1>=b)}function h(a,b,c){e(a,q,Math.min(c,b+1),b>=c)}function i(a,b,c){e(a,o,c,b>=c)}var j=window.kendo,k=j.ui,l=k.Widget,m=a.proxy,n=".k-i-seek-w",o=".k-i-seek-e",p=".k-i-arrow-w",q=".k-i-arrow-e",r="change",s=".kendoPager",t="click",u="keydown",v="disabled",w=j.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),x=l.extend({init:function(b,c){var e,k,v=this;l.fn.init.call(v,b,c),c=v.options,v.dataSource=j.data.DataSource.create(c.dataSource),v.linkTemplate=j.template(v.options.linkTemplate),v.selectTemplate=j.template(v.options.selectTemplate),e=v.page(),k=v.totalPages(),v._refreshHandler=m(v.refresh,v),v.dataSource.bind(r,v._refreshHandler),c.previousNext&&(v.element.find(n).length||(v.element.append(d(n,c.messages.first)),f(v.element,e,k)),v.element.find(p).length||(v.element.append(d(p,c.messages.previous)),g(v.element,e,k))),c.numeric&&(v.list=v.element.find(".k-pager-numbers"),v.list.length||(v.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(v.element))),c.input&&(v.element.find(".k-pager-input").length||v.element.append('<span class="k-pager-input k-label">'+c.messages.page+'<input class="k-textbox">'+j.format(c.messages.of,k)+"</span>"),v.element.on(u+s,".k-pager-input input",m(v._keydown,v))),c.previousNext&&(v.element.find(q).length||(v.element.append(d(q,c.messages.next)),h(v.element,e,k)),v.element.find(o).length||(v.element.append(d(o,c.messages.last)),i(v.element,e,k))),c.pageSizes&&(v.element.find(".k-pager-sizes").length||a('<span class="k-pager-sizes k-label"><select/>'+c.messages.itemsPerPage+"</span>").appendTo(v.element).find("select").html(a.map(a.isArray(c.pageSizes)?c.pageSizes:[5,10,20],function(a){return"<option>"+a+"</option>"}).join("")).end().appendTo(v.element),v.element.find(".k-pager-sizes select").val(v.pageSize()),j.ui.DropDownList&&v.element.find(".k-pager-sizes select").show().kendoDropDownList(),v.element.on(r+s,".k-pager-sizes select",m(v._change,v))),c.refresh&&(v.element.find(".k-pager-refresh").length||v.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+c.messages.refresh+'"><span class="k-icon k-i-refresh">'+c.messages.refresh+"</span></a>"),v.element.on(t+s,".k-pager-refresh",m(v._refreshClick,v))),c.info&&(v.element.find(".k-pager-info").length||v.element.append('<span class="k-pager-info k-label" />')),v.element.on(t+s,"a",m(v._click,v)).addClass("k-pager-wrap k-widget"),c.autoBind&&v.refresh(),j.notify(v)},destroy:function(){var a=this;l.fn.destroy.call(a),a.element.off(s),a.dataSource.unbind(r,a._refreshHandler)},events:[r],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(a){var b=this;b.dataSource.unbind(r,b._refreshHandler),b.dataSource=b.options.dataSource=a,a.bind(r,b._refreshHandler),b.options.autoBind&&a.fetch()},refresh:function(a){var b,d,e,k=this,l=1,m="",n=k.page(),o=k.options,p=k.pageSize(),q=k.dataSource.total(),r=k.totalPages(),s=k.linkTemplate,t=o.buttonCount;if(!a||"itemchange"!=a.action){if(o.numeric){for(n>t&&(e=n%t,l=0===e?n-t+1:n-e+1),d=Math.min(l+t-1,r),l>1&&(m+=c(s,l-1,"...",!1)),b=l;d>=b;b++)m+=c(b==n?k.selectTemplate:s,b,b,!0);r>d&&(m+=c(s,b,"...",!1)),""===m&&(m=k.selectTemplate({text:0})),k.list.html(m)}o.info&&(m=q>0?j.format(o.messages.display,(n-1)*p+1,Math.min(n*p,q),q):o.messages.empty,k.element.find(".k-pager-info").html(m)),o.input&&k.element.find(".k-pager-input").html(k.options.messages.page+'<input class="k-textbox">'+j.format(o.messages.of,r)).find("input").val(n).attr(v,1>q).toggleClass("k-state-disabled",1>q),o.previousNext&&(f(k.element,n,r),g(k.element,n,r),h(k.element,n,r),i(k.element,n,r)),o.pageSizes&&k.element.find(".k-pager-sizes select").val(p).filter("["+j.attr("role")+"=dropdownlist]").kendoDropDownList("value",p).kendoDropDownList("text",p)}},_keydown:function(a){if(a.keyCode===j.keys.ENTER){var b=this.element.find(".k-pager-input").find("input"),c=parseInt(b.val(),10);(isNaN(c)||1>c||c>this.totalPages())&&(c=this.page()),b.val(c),this.page(c)}},_refreshClick:function(a){a.preventDefault(),this.dataSource.read()},_change:function(a){var b=parseInt(a.currentTarget.value,10);isNaN(b)||this.dataSource.pageSize(b)},_click:function(b){var c=a(b.currentTarget);b.preventDefault(),c.is(".k-state-disabled")||this.page(c.attr(j.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(a){return a===b?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(a),this.trigger(r,{index:a}),void 0)}});k.plugin(x)}(window.kendo.jQuery),function(a){function b(b,c){return b===c||a.contains(b,c)}var c=window.kendo,d=c.ui,e=d.Widget,f=c.support,g=c.getOffset,h=c._activeElement,i="open",j="close",k="deactivate",l="activate",m="center",n="left",o="right",p="top",q="bottom",r="absolute",s="hidden",t="body",u="location",v="position",w="visible",x="effects",y="k-state-active",z="k-state-border",A=/k-state-border-(\w+)/,B=".k-picker-wrap, .k-dropdown-wrap, .k-link",C="down",D=a(window),E=a(document.documentElement),F="resize scroll",G=f.transitions.css,H=G+"transform",I=a.extend,J=".kendoPopup",K=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],L=e.extend({init:function(b,d){var f,g=this;d=d||{},d.isRtl&&(d.origin=d.origin||q+" "+o,d.position=d.position||p+" "+o),e.fn.init.call(g,b,d),b=g.element,d=g.options,g.collisions=d.collision?d.collision.split(" "):[],1===g.collisions.length&&g.collisions.push(g.collisions[0]),f=a(g.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),d.appendTo=a(a(d.appendTo)[0]||f[0]||t),g.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!d.isRtl).css({position:r}).appendTo(d.appendTo).on("mouseenter"+J,function(){g._hovered=!0}).on("mouseleave"+J,function(){g._hovered=!1}),g.wrapper=a(),d.animation===!1&&(d.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),I(d.animation.open,{complete:function(){g.wrapper.css({overflow:w}),g.trigger(l)}}),I(d.animation.close,{complete:function(){g.wrapper.hide();var e,f,h=g.wrapper.data(u),i=a(d.anchor);h&&g.wrapper.css(h),d.anchor!=t&&(e=(i[0].className.match(A)||["","down"])[1],f=z+"-"+e,i.removeClass(f).children(B).removeClass(y).removeClass(f),b.removeClass(z+"-"+c.directions[e].reverse)),g._closing=!1,g.trigger(k)}}),g._mousedownProxy=function(a){g._mousedown(a)},g._resizeProxy=function(a){g._resize(a)},d.toggleTarget&&a(d.toggleTarget).on(d.toggleEvent+J,a.proxy(g.toggle,g))},events:[i,l,j,k],options:{name:"Popup",toggleEvent:"click",origin:q+" "+n,position:p+" "+n,anchor:t,collision:"flip fit",viewport:window,copyAnchorStyles:!0,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var b,d=this,f=d.options,g=d.element.off(J);e.fn.destroy.call(d),f.toggleTarget&&a(f.toggleTarget).off(J),E.unbind(C,d._mousedownProxy),D.unbind(F,d._resizeProxy),f.appendTo[0]===document.body&&(b=g.parent(".k-animation-container"),b[0]?b.remove():g.remove()),c.destroy(d.element.children())},open:function(b,d){var e,g,h=this,j={isFixed:!isNaN(parseInt(d,10)),x:b,y:d},k=h.element,l=h.options,m="down",n=a(l.anchor);if(!h.visible()){if(l.copyAnchorStyles&&k.css(c.getComputedStyles(n[0],K)),k.data("animating")||h.trigger(i))return;if(E.unbind(C,h._mousedownProxy).bind(C,h._mousedownProxy),f.mobileOS.ios||f.mobileOS.android||D.unbind(F,h._resizeProxy).bind(F,h._resizeProxy),h.wrapper=g=c.wrap(k).css({overflow:s,display:"block",position:r}),f.mobileOS.android&&g.add(n).css(H,"translatez(0)"),g.css(v),a(l.appendTo)[0]==document.body&&g.css(p,"-10000px"),e=I(!0,{},l.animation.open),h.flipped=h._position(j),e.effects=c.parseEffects(e.effects,h.flipped),m=e.effects.slideIn?e.effects.slideIn.direction:m,l.anchor!=t){var o=z+"-"+m;k.addClass(z+"-"+c.directions[m].reverse),n.addClass(o).children(B).addClass(y).addClass(o)}k.data(x,e.effects).kendoStop(!0).kendoAnimate(e)}},toggle:function(){var a=this;a[a.visible()?j:i]()},visible:function(){return this.element.is(":"+w)},close:function(){var b,d,e,f,g=this,h=g.options;if(g.visible()){if(b=g.wrapper[0]?g.wrapper:c.wrap(g.element).hide(),g._closing||g.trigger(j))return;g.element.find(".k-popup").each(function(){var b=a(this),c=b.data("kendoPopup");c&&c.close()}),E.unbind(C,g._mousedownProxy),D.unbind(F,g._resizeProxy),d=I(!0,{},h.animation.close),e=g.element.data(x),f=d.effects,!f&&!c.size(f)&&e&&c.size(e)&&(d.effects=e,d.reverse=!0),g._closing=!0,g.element.kendoStop(!0),b.css({overflow:s}),g.element.kendoAnimate(d)}},_resize:function(a){var c=this;"resize"===a.type?(clearTimeout(c._resizeTimeout),c._resizeTimeout=setTimeout(function(){c._position(),c._resizeTimeout=null},50)):c._hovered||b(c.element[0],h())||c.close()},_mousedown:function(d){var e=this,f=e.element[0],g=e.options,h=a(g.anchor)[0],i=g.toggleTarget,j=c.eventTarget(d),k=a(j).closest(".k-popup"),l=k.parent().parent(".km-shim").length;k=k[0],(l||!k||k===e.element[0])&&(b(f,j)||b(h,j)||i&&b(a(i)[0],j)||e.close())},_fit:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),0>a&&(d=-a),d},_flip:function(a,b,c,d,e,f,g){var h=0;return g=g||b,f!==e&&f!==m&&e!==m&&(a+g>d&&(h+=-(c+b)),0>a+h&&(h+=c+b)),h},_position:function(b){var c,d,e,h,i=this,j=i.element.css(v,""),k=i.wrapper,l=i.options,m=a(l.viewport),n=a(m).offset(),o=a(l.anchor),p=l.origin.toLowerCase().split(" "),q=l.position.toLowerCase().split(" "),s=i.collisions,t=f.zoomLevel(),w=10002,x=0;if(c=o.parents().filter(k.siblings()),c[0])if(e=Number(a(c).css("zIndex")))w=e+1;else for(d=o.parentsUntil(c),h=d.length;h>x;x++)e=Number(a(d[x]).css("zIndex")),e&&e>w&&(w=e+1);k.css("zIndex",w),b&&b.isFixed?k.css({left:b.x,top:b.y}):k.css(i._align(p,q));var y=g(k,v,o[0]===k.offsetParent()[0]),z=g(k),A=o.offsetParent().parent(".k-animation-container,.k-popup,.k-group");A.length&&(y=g(k,v,!0),z=g(k)),m[0]===window?(z.top-=window.pageYOffset||document.documentElement.scrollTop||0,z.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(z.top-=n.top,z.left-=n.left),i.wrapper.data(u)||k.data(u,I({},y));var B=I({},z),C=I({},y);"fit"===s[0]&&(C.top+=i._fit(B.top,k.outerHeight(),m.height()/t)),"fit"===s[1]&&(C.left+=i._fit(B.left,k.outerWidth(),m.width()/t));var D=I({},C);return"flip"===s[0]&&(C.top+=i._flip(B.top,j.outerHeight(),o.outerHeight(),m.height()/t,p[0],q[0],k.outerHeight())),"flip"===s[1]&&(C.left+=i._flip(B.left,j.outerWidth(),o.outerWidth(),m.width()/t,p[1],q[1],k.outerWidth())),j.css(v,r),k.css(C),C.left!=D.left||C.top!=D.top},_align:function(b,c){var d,e=this,f=e.wrapper,h=a(e.options.anchor),i=b[0],j=b[1],k=c[0],l=c[1],n=g(h),p=a(e.options.appendTo),r=f.outerWidth(),s=f.outerHeight(),t=h.outerWidth(),u=h.outerHeight(),v=n.top,w=n.left,x=Math.round;return p[0]!=document.body&&(d=g(p),v-=d.top,w-=d.left),i===q&&(v+=u),i===m&&(v+=x(u/2)),k===q&&(v-=s),k===m&&(v-=x(s/2)),j===o&&(w+=t),j===m&&(w+=x(t/2)),l===o&&(w-=r),l===m&&(w-=x(r/2)),{top:v,left:w}}});d.plugin(L)}(window.kendo.jQuery),function(a){function b(a){for(;a.length;)c(a),a=a.parent()}function c(a){var b=a.data(f.ns+"title");b&&(a.attr("title",b),a.removeData(f.ns+"title"))}function d(a){var b=a.attr("title");b&&(a.data(f.ns+"title",b),a.attr("title",""))}function e(a){for(;a.length&&!a.is("body");)d(a),a=a.parent()}var f=window.kendo,g=f.ui.Widget,h=f.ui.Popup,i=a.isFunction,j=a.isPlainObject,k=a.extend,l=a.proxy,m=a(document),n=f.isLocalUrl,o="_tt_active",p="aria-describedby",q="show",r="hide",s="error",t="contentLoad",u="requestStart",v="k-content-frame",w='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',x=f.template("<iframe frameborder='0' class='"+v+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),y=".kendoTooltip",z={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},A={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},B={bottom:"n",top:"s",left:"e",right:"w",center:"n"},C={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},D=function(a){return a.target.data(f.ns+"title")},E=g.extend({init:function(a,b){var c,d=this;g.fn.init.call(d,a,b),c=d.options.position.match(/left|right/)?"horizontal":"vertical",d.dimensions=C[c],d._documentKeyDownHandler=l(d._documentKeyDown,d),d.element.on(d.options.showOn+y,d.options.filter,l(d._showOn,d)).on("mouseenter"+y,d.options.filter,l(d._mouseenter,d)),this.options.autoHide&&d.element.on("mouseleave"+y,d.options.filter,l(d._mouseleave,d))},options:{name:"Tooltip",filter:"",content:D,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[q,r,t,s,u],_mouseenter:function(b){e(a(b.currentTarget))},_showOn:function(b){var c=this;c.options.showOn&&c.options.showOn.match(/click|focus/)?c._show(a(b.currentTarget)):(clearTimeout(c.timeout),c.timeout=setTimeout(function(){c._show(a(b.currentTarget))},c.options.showAfter))},_appendContent:function(a){var b,c=this,d=c.options.content,e=c.content,g=c.options.iframe;j(d)&&d.url?("iframe"in c.options||(g=!n(d.url)),c.trigger(u,{options:d,target:a}),g?(e.hide(),b=e.find("."+v)[0],b?b.src=d.url||b.src:e.html(x({content:d})),e.find("."+v).off("load"+y).on("load"+y,function(){c.trigger(t),e.show()})):(e.empty(),f.ui.progress(e,!0),c._ajaxRequest(d))):d&&i(d)?(d=d({target:a}),c.content.html(d||"")):c.content.html(d)},_ajaxRequest:function(a){var b=this;jQuery.ajax(k({type:"GET",dataType:"html",cache:!1,error:function(a,c){f.ui.progress(b.content,!1),b.trigger(s,{status:c,xhr:a})},success:l(function(a){f.ui.progress(b.content,!1),b.content.html(a),b.trigger(t)},b)},a))},_documentKeyDown:function(a){a.keyCode===f.keys.ESC&&this.hide()},refresh:function(){var a=this,b=a.popup;b&&b.options.anchor&&a._appendContent(b.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(a){e(a),this._show(a)},_show:function(a){var c=this,d=c.target();c.popup||c._initPopup(),d&&d[0]!=a[0]&&(c.popup.close(),c.popup.element.kendoStop(!0,!0)),d&&d[0]==a[0]||(c._appendContent(a),c.popup.options.anchor=a),c.popup.one("deactivate",function(){b(a),a.removeAttr(p),this.element.removeAttr("id").attr("aria-hidden",!0),m.off("keydown"+y,c._documentKeyDownHandler)}),c.popup.open()},_initPopup:function(){var b=this,c=b.options,d=a(f.template(w)({callout:c.callout&&"center"!==c.position,dir:B[c.position],autoHide:c.autoHide}));b.popup=new h(d,k({activate:function(){var a=this.options.anchor,d=a[0].id||b.element[0].id;d&&(a.attr(p,d+o),this.element.attr("id",d+o)),c.callout&&b._positionCallout(),this.element.removeAttr("aria-hidden"),m.on("keydown"+y,b._documentKeyDownHandler),b.trigger(q)},close:function(){b.trigger(r)},copyAnchorStyles:!1,animation:c.animation},z[c.position])),d.css({width:c.width,height:c.height}),b.content=d.find(".k-tooltip-content"),b.arrow=d.find(".k-callout"),c.autoHide?d.on("mouseleave"+y,l(b._mouseleave,b)):d.on("click"+y,".k-tooltip-button",l(b._closeButtonClick,b))},_closeButtonClick:function(a){a.preventDefault(),this.hide()},_mouseleave:function(c){if(this.popup){var d=a(c.currentTarget),e=d.offset(),f=c.pageX,g=c.pageY;if(e.right=e.left+d.outerWidth(),e.bottom=e.top+d.outerHeight(),f>e.left&&f<e.right&&g>e.top&&g<e.bottom)return;this.popup.close()}else b(a(c.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var b=this,c=b.options.position,d=b.dimensions,e=d.offset,f=b.popup,g=f.options.anchor,h=a(g).offset(),i=parseInt(b.arrow.css("border-top-width"),10),j=a(f.element).offset(),k=B[f.flipped?A[c]:c],l=h[e]-j[e]+a(g)[d.size]()/2-i;b.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+k).css(e,l)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var a=this.popup;a&&(a.element.off(y),a.destroy()),this.element.off(y),m.off("keydown"+y,this._documentKeyDownHandler),g.fn.destroy.call(this)}});f.ui.plugin(E)}(window.kendo.jQuery),function(a,b){function c(b,d){b.filters&&(b.filters=a.grep(b.filters,function(a){return c(a,d),a.filters?a.filters.length:a.field!=d}))}var d=window.kendo,e=d.ui,f=e.Widget,g=d.keys,h=d.support,i=d.htmlEncode,j=d._activeElement,k="id",l="li",m="change",n="character",o="k-state-focused",p="k-state-hover",q="k-loading",r="open",s="close",t="select",u="selected",v="progress",w="requestEnd",x="width",y=a.extend,z=a.proxy,A=h.browser,B=A.msie&&A.version<9,C=/"/g,D={ComboBox:"DropDownList",DropDownList:"ComboBox"},E=f.extend({init:function(b,c){var d,e=this,g=e.ns;f.fn.init.call(e,b,c),b=e.element,e._isSelect=b.is(t),e._template(),e.ul=a('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:h.kineticScrollNeeded?"":"auto"}).on("mouseenter"+g,l,function(){a(this).addClass(p)}).on("mouseleave"+g,l,function(){a(this).removeClass(p)}).on("click"+g,l,z(e._click,e)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),e.list=a("<div class='k-list-container'/>").append(e.ul).on("mousedown"+g,function(a){a.preventDefault()}),d=b.attr(k),d&&(e.list.attr(k,d+"-list"),e.ul.attr(k,d+"_listbox"),e._optionID=d+"_option_selected"),e._accessors(),e._initValue()},options:{valuePrimitive:!1},setOptions:function(a){f.fn.setOptions.call(this,a),a&&a.enable!==b&&(a.enabled=a.enable)},focus:function(){this._focused.focus()},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},_filterSource:function(a){var b=this,d=b.options,e=b.dataSource,f=e.filter()||{};c(f,d.dataTextField),a&&(f=f.filters||[],f.push(a)),e.filter(f)},_initValue:function(){var a=this,b=a.options.value;b?a.element.val(b):b=a.element.val(),a._old=b},_ignoreCase:function(){var a,b=this,c=b.dataSource.reader.model;c&&c.fields&&(a=c.fields[b.options.dataTextField],a&&a.type&&"string"!==a.type&&(b.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(a){var c=this,d=c._optionID;return a===b?c._current:(c._current&&(c._current.removeClass(o).removeAttr("aria-selected").removeAttr(k),c._focused.removeAttr("aria-activedescendant")),a&&(a.addClass(o),c._scroll(a),d&&(a.attr("id",d),c._focused.attr("aria-activedescendant",d))),c._current=a,void 0)},destroy:function(){var a=this,b=a.ns;f.fn.destroy.call(a),a._unbindDataSource(),a.ul.off(b),a.list.off(b),a.popup.destroy(),a._form&&a._form.off("reset",a._resetHandler)},dataItem:function(a){var c=this;return a===b&&(a=c.selectedIndex),c._data()[a]},_accessors:function(){var a=this,b=a.element,c=a.options,e=d.getter,f=b.attr(d.attr("text-field")),g=b.attr(d.attr("value-field"));f&&(c.dataTextField=f),g&&(c.dataValueField=g),a._text=e(c.dataTextField),a._value=e(c.dataValueField)},_aria:function(a){var c=this,d=c.options,e=c._focused;d.suggest!==b&&e.attr("aria-autocomplete",d.suggest?"both":"list"),a=a?a+" "+c.ul[0].id:c.ul[0].id,e.attr("aria-owns",a),c.ul.attr("aria-live",d.filter&&"none"!==d.filter?"polite":"off")},_blur:function(){var a=this;a._change(),a.close()},_change:function(){var a,c=this,d=c.selectedIndex,e=c.options.value,f=c.value();c._isSelect&&!c._bound&&e&&(f=e),f!==c._old?a=!0:d!==b&&d!==c._oldIndex&&(a=!0),a&&(c._old=f,c._oldIndex=d,c.trigger(m),c.element.trigger(m))},_click:function(b){b.isDefaultPrevented()||this._accept(a(b.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var a=this,c=a.options,d=a.element.is("[disabled]");c.enable!==b&&(c.enabled=c.enable),!c.enabled||d?a.enable(!1):a.readonly(a.element.is("[readonly]"))},_focus:function(a){var b=this;return b.popup.visible()&&a&&b.trigger(t,{item:a})?(b.close(),void 0):(b._select(a),b._triggerCascade(),b._blur(),void 0)},_index:function(a){var b,c,d=this,e=d._data();for(b=0,c=e.length;c>b;b++)if(d._dataValue(e[b])==a)return b;return-1},_dataValue:function(a){var c=this._value(a);return c===b&&(c=this._text(a)),c},_height:function(a){if(a){var b=this,c=b.list,d=b.popup.visible(),e=b.options.height;c=c.add(c.parent(".k-animation-container")).show().height(b.ul[0].scrollHeight>e?e:"auto"),d||c.hide()}},_adjustListWidth:function(){var a,b,c=this.list,d=c[0].style.width,e=this.wrapper;if(c.data(x)||!d)return a=window.getComputedStyle?window.getComputedStyle(e[0],null):0,b=a?parseFloat(a.width):e.outerWidth(),a&&(A.mozilla||A.msie)&&(b+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),d=b-(c.outerWidth()-c.width()),c.css({fontFamily:e.css("font-family"),width:d}).data(x,d),!0},_popup:function(){var a=this,b=a.list,c=a._focused,f=a.options,g=a.wrapper;a.popup=new e.Popup(b,y({},f.popup,{anchor:g,open:function(b){a._adjustListWidth(),a.trigger(r)?b.preventDefault():(c.attr("aria-expanded",!0),a.ul.attr("aria-hidden",!1))},close:function(b){a.trigger(s)?b.preventDefault():(c.attr("aria-expanded",!1),a.ul.attr("aria-hidden",!0))},animation:f.animation,isRtl:h.isRtl(g)})),a.popup.one(r,function(){a._height(a._data().length)}),a._touchScroller=d.touchScroller(a.popup.element)},_makeUnselectable:function(){B&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(b){a(b.currentTarget).toggleClass(p,"mouseenter"===b.type)},_toggle:function(a){var c=this;a=a!==b?a:!c.popup.visible(),h.touch||c._focused[0]===j()||c._focused.focus(),c[a?r:s]()},_scroll:function(a){if(a){a[0]&&(a=a[0]);var b=this.ul[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d;b.scrollTop=e>c?c:g>e+f?g-f:e}},_template:function(){var a=this,b=a.options,c=b.template,e=b.dataSource;a._isSelect&&a.element[0].length&&(e||(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value")),c?(c=d.template(c),a.template=function(a){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+c(a)+"</li>"}):a.template=d.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+d.expr(b.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(){var a=this,b=a.value();(!a._bound&&b||a._old!==b)&&a.trigger("cascade")},_unbindDataSource:function(){var a=this;a.dataSource.unbind(m,a._refreshHandler).unbind(v,a._progressHandler).unbind(w,a._requestEndHandler).unbind("error",a._errorHandler)}});y(E,{caret:function(a){var b,c=a.ownerDocument.selection;return b=c?Math.abs(c.createRange().moveStart(n,-a.value.length)):a.selectionStart},selectText:function(a,b,c){try{if(a.createTextRange){a.focus();var d=a.createTextRange();d.collapse(!0),d.moveStart(n,b),d.moveEnd(n,c-b),d.select()}else a.setSelectionRange(b,c)}catch(e){}},inArray:function(a,b){var c,d,e=b.children;if(!a||a.parentNode!==b)return-1;for(c=0,d=e.length;d>c;c++)if(a===e[c])return c;return-1}}),d.ui.List=E,e.Select=E.extend({init:function(a,b){E.fn.init.call(this,a,b),this._initial=this.element.val()},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(a){var c=this;return a===b?c.selectedIndex:(c._select(a),c._triggerCascade(),c._old=c._accessor(),c._oldIndex=c.selectedIndex,void 0)},_accessor:function(a,c){var d,e=this.element[0],f=this._isSelect,g=e.selectedIndex;return a===b?(f?g>-1&&(d=e.options[g],d&&(a=d.value)):a=e.value,a):(f?(g>-1&&e.options[g].removeAttribute(u),e.selectedIndex=c,d=e.options[c],d&&d.setAttribute(u,u)):e.value=a,void 0)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._arrow.removeClass(q),a._focused.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._request=!0,a._busy||(a._busy=setTimeout(function(){a._focused.attr("aria-busy",!0),a._arrow.addClass(q)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var b,c=this,e=c.element,f=c.options,g=f.dataSource||{};g=a.isArray(g)?{data:g}:g,c._isSelect&&(b=e[0].selectedIndex,b>-1&&(f.index=b),g.select=e,g.fields=[{field:f.dataTextField},{field:f.dataValueField}]),c.dataSource&&c._refreshHandler?c._unbindDataSource():(c._refreshHandler=z(c.refresh,c),c._progressHandler=z(c._showBusy,c),c._requestEndHandler=z(c._requestEnd,c),c._errorHandler=z(c._hideBusy,c)),c.dataSource=d.data.DataSource.create(g).bind(m,c._refreshHandler).bind(v,c._progressHandler).bind(w,c._requestEndHandler).bind("error",c._errorHandler)},_get:function(b){var c,d,e=this,f=e._data();if("function"==typeof b)for(c=0,d=f.length;d>c;c++)if(b(f[c])){b=c;break}if("number"==typeof b){if(0>b)return a();
b=a(e.ul[0].children[b])}return b&&b.nodeType&&(b=a(b)),b},_move:function(a){var b,c,d=this,e=a.keyCode,f=d.ul[0],h=d.popup.visible()?"_select":"_accept",i=d._current,j=e===g.DOWN;if(e===g.UP||j){if(a.altKey)d.toggle(j);else{if(b=f.firstChild,!b&&!d._accessor()&&"filter"!==d._state)return d.dataSource.one(m,function(){d._move(a)}),d._filterSource(),a.preventDefault(),!0;j?(!i||-1===d.selectedIndex&&!d.value()&&i[0]===b?i=b:(i=i[0].nextSibling,i||b!==f.lastChild||(i=b)),d[h](i)):(i=i?i[0].previousSibling:f.lastChild,i||b!==f.lastChild||(i=b),d[h](i))}a.preventDefault(),c=!0}else e===g.ENTER||e===g.TAB?(d.popup.visible()&&a.preventDefault(),d._accept(i),c=!0):e===g.ESC&&(d.popup.visible()&&a.preventDefault(),d.close(),c=!0);return c},_selectItem:function(a){var b=this,c=b.options,d=b.selectedIndex;a=b._selectedValue||c.value||b._accessor(),a?b.value(a):(!b._bound||d>-1)&&(b._bound||(d=c.index),b.select(d))},_fetchItems:function(a){var b=this,c=b.ul[0].firstChild;return b._request?!0:b._fetch||c?void 0:b.options.cascadeFrom?!c:(b.dataSource.one(m,function(){b.value(a),b._fetch=!1}),b._fetch=!0,b.dataSource.fetch(),!0)},_options:function(a,c){var d,e,f,g,h=this,j=h.element,k=j[0].selectedIndex,l=a.length,m="",n=0;for(c&&(m=c,k+=1,n=1);l>n;n++)d="<option",e=a[n],f=h._text(e),g=h._value(e),g!==b&&(g+="",-1!==g.indexOf('"')&&(g=g.replace(C,"&quot;")),d+=' value="'+g+'"'),d+=">",f!==b&&(d+=i(f)),d+="</option>",m+=d;j.html(m),j[0].selectedIndex=-1===k?0:k},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initial)})},b._form=e.on("reset",b._resetHandler))},_cascade:function(){var b,d,e,f,g,h=this,i=h.options,j=i.cascadeFrom;if(j){if(h._selectedValue=i.value||h._accessor(),d=a("#"+j),b=d.data("kendo"+i.name),b||(b=d.data("kendo"+D[i.name])),!b)return;i.autoBind=!1,f=b.options.dataValueField,g=function(){var a=h._selectedValue||h.value();a?(h.value(a),h.dataSource.view()[0]&&-1!==h.selectedIndex||h._clearSelection(b,!0)):h.select(i.index),h.enable(),h._triggerCascade()},e=function(){var a,d,e=b.dataItem(),i=e?b._value(e):null;i||0===i?(a=h.dataSource.filter()||{},c(a,f),d=a.filters||[],d.push({field:f,operator:"eq",value:i}),h.dataSource.one(m,g).filter(d)):(h.enable(!1),h._clearSelection(b),h._triggerCascade())},b.bind("cascade",function(){e()}),b._bound?e():b.value()||h.enable(!1)}}})}(window.kendo.jQuery),function(a,b){function c(a,b,c,d){var e,f=a.getFullYear(),g=b.getFullYear(),h=c.getFullYear();return f-=f%d,e=f+(d-1),g>f&&(f=g),e>h&&(e=h),f+"-"+e}function d(a){for(var b,c=0,d=a.min,e=a.max,f=a.start,g=a.setter,i=a.build,j=a.cells||12,k=a.perRow||4,l=a.content||D,m=a.empty||E,n=a.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';j>c;c++)c>0&&0===c%k&&(n+='</tr><tr role="row">'),b=i(f,c),n+=h(f,d,e)?l(b):m(b),g(f,1);return n+"</tr></tbody></table>"}function e(a,b,c){var d=a.getFullYear(),e=b.getFullYear(),f=e,g=0;return c&&(e-=e%c,f=e-e%c+c-1),d>f?g=1:e>d&&(g=-1),g}function f(){var a=new mb;return new mb(a.getFullYear(),a.getMonth(),a.getDate())}function g(a,b,c){var d=f();return a&&(d=new mb(+a)),b>d?d=new mb(+b):d>c&&(d=new mb(+c)),d}function h(a,b,c){return+a>=+b&&+c>=+a}function i(a,b){return a.slice(b).concat(a.slice(0,b))}function j(a,b,c){b=b instanceof mb?b.getFullYear():a.getFullYear()+c*b,a.setFullYear(b)}function k(b){a(this).toggleClass(T,bb.indexOf(b.type)>-1||b.type==_)}function l(a){a.preventDefault()}function m(a){return A(a).calendars.standard}function n(a){var c=nb[a.start],d=nb[a.depth],e=A(a.culture);a.format=y(a.format||e.calendars.standard.patterns.d),isNaN(c)&&(c=0,a.start=O),(d===b||d>c)&&(a.depth=O),a.dates||(a.dates=[])}function o(a){G&&a.find("*").attr("unselectable","on")}function p(a,b){for(var c=0,d=b.length;d>c;c++)if(a===+b[c])return!0;return!1}function q(a,b){return a?a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate():!1}var r=window.kendo,s=r.support,t=r.ui,u=t.Widget,v=r.keys,w=r.parseDate,x=r.date.adjustDST,y=r._extractFormat,z=r.template,A=r.getCulture,B=r.support.transitions,C=B?B.css+"transform-origin":"",D=z('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),E=z('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),F=r.support.browser,G=F.msie&&F.version<9,H=".kendoCalendar",I="click"+H,J="keydown"+H,K="id",L="min",M="left",N="slideIn",O="month",P="century",Q="change",R="navigate",S="value",T="k-state-hover",U="k-state-disabled",V="k-state-focused",W="k-other-month",X=' class="'+W+'"',Y="k-nav-today",Z="td:has(.k-link)",$="blur"+H,_="focus",ab=_+H,bb=s.touch?"touchstart":"mouseenter",cb=s.touch?"touchstart"+H:"mouseenter"+H,db=s.touch?"touchend"+H+" touchmove"+H:"mouseleave"+H,eb=6e4,fb=864e5,gb="_prevArrow",hb="_nextArrow",ib="aria-disabled",jb="aria-selected",kb=a.proxy,lb=a.extend,mb=Date,nb={month:0,year:1,decade:2,century:3},ob=u.extend({init:function(b,c){var d,e,f=this;u.fn.init.call(f,b,c),b=f.wrapper=f.element,c=f.options,c.url=window.unescape(c.url),f._templates(),f._header(),f._footer(f.footer),e=b.addClass("k-widget k-calendar").on(cb+" "+db,Z,k).on(J,"table.k-content",kb(f._move,f)).on(I,Z,function(b){var c=b.currentTarget.firstChild;-1!=c.href.indexOf("#")&&b.preventDefault(),f._click(a(c))}).on("mouseup"+H,function(){f._focusView(f.options.focusOnNav!==!1)}).attr(K),e&&(f._cellID=e+"_cell_selected"),d=c.value,n(c),f._index=nb[c.start],f._current=new mb(+g(d,c.min,c.max)),f._addClassProxy=function(){f._active=!0,f._cell.addClass(V)},f._removeClassProxy=function(){f._active=!1,f._cell.removeClass(V)},f.value(d),r.notify(f)},options:{name:"Calendar",value:null,min:new mb(1900,0,1),max:new mb(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:O,depth:O,animation:{horizontal:{effects:N,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[Q,R],setOptions:function(a){n(a),u.fn.setOptions.call(this,a)},destroy:function(){var a=this,b=a._today;a.element.off(H),a._title.off(H),a[gb].off(H),a[hb].off(H),r.destroy(a._view),b&&r.destroy(b.off(H)),u.fn.destroy.call(a)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table,this._bindTable(a),a.focus()},min:function(a){return this._option(L,a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate(gb,-1)},navigateToFuture:function(){this._navigate(hb,1)},navigateUp:function(){var a=this,b=a._index;a._title.hasClass(U)||a.navigate(a._current,++b)},navigateDown:function(a){var b=this,c=b._index,d=b.options.depth;if(a)return c===nb[d]?(+b._value!=+a&&(b.value(a),b.trigger(Q)),void 0):(b.navigate(a,--c),void 0)},navigate:function(c,d){d=isNaN(d)?nb[d]:d;var e,f,h,i,j=this,k=j.options,l=k.culture,m=k.min,n=k.max,p=j._title,q=j._table,r=j._oldTable,s=j._value,t=j._current,u=c&&+c>+t,v=d!==b&&d!==j._index;c?j._current=c=new mb(+g(c,m,n)):c=t,d===b?d=j._index:j._index=d,j._view=f=pb.views[d],h=f.compare,i=d===nb[P],p.toggleClass(U,i).attr(ib,i),i=h(c,m)<1,j[gb].toggleClass(U,i).attr(ib,i),i=h(c,n)>-1,j[hb].toggleClass(U,i).attr(ib,i),q&&r&&r.data("animating")&&(r.kendoStop(!0,!0),q.kendoStop(!0,!0)),j._oldTable=q,(!q||j._changeView)&&(p.html(f.title(c,m,n,l)),j._table=e=a(f.content(lb({min:m,max:n,date:c,url:k.url,dates:k.dates,format:k.format,culture:l},j[f.name]))),o(e),j._animate({from:q,to:e,vertical:v,future:u}),j._focus(c),j.trigger(R)),d===nb[k.depth]&&s&&j._class("k-state-selected",f.toDateString(s)),j._class(V,f.toDateString(c)),!q&&j._cell&&j._cell.removeClass(V),j._changeView=!0},value:function(a){var c=this,d=c._view,e=c.options,f=c._view,g=e.min,i=e.max;return a===b?c._value:(a=w(a,e.format,e.culture),null!==a&&(a=new mb(+a),h(a,g,i)||(a=null)),c._value=a,f&&null===a&&c._cell?c._cell.removeClass("k-state-selected"):(c._changeView=!a||d&&0!==d.compare(a,c._current),c.navigate(a)),void 0)},_move:function(b){var c,d,e,f,h=this,i=h.options,j=b.keyCode,k=h._view,l=h._index,m=new mb(+h._current),n=r.support.isRtl(h.wrapper);return b.target===h._table[0]&&(h._active=!0),b.ctrlKey?j==v.RIGHT&&!n||j==v.LEFT&&n?(h.navigateToFuture(),d=!0):j==v.LEFT&&!n||j==v.RIGHT&&n?(h.navigateToPast(),d=!0):j==v.UP?(h.navigateUp(),d=!0):j==v.DOWN&&(h._click(a(h._cell[0].firstChild)),d=!0):(j==v.RIGHT&&!n||j==v.LEFT&&n?(c=1,d=!0):j==v.LEFT&&!n||j==v.RIGHT&&n?(c=-1,d=!0):j==v.UP?(c=0===l?-7:-4,d=!0):j==v.DOWN?(c=0===l?7:4,d=!0):j==v.ENTER?(h._click(a(h._cell[0].firstChild)),d=!0):j==v.HOME||j==v.END?(e=j==v.HOME?"first":"last",f=k[e](m),m=new mb(f.getFullYear(),f.getMonth(),f.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()),d=!0):j==v.PAGEUP?(d=!0,h.navigateToPast()):j==v.PAGEDOWN&&(d=!0,h.navigateToFuture()),(c||e)&&(e||k.setDate(m,c),h._focus(g(m,i.min,i.max)))),d&&b.preventDefault(),h._current},_animate:function(a){var b=this,c=a.from,d=a.to,e=b._active;c?c.parent().data("animating")?(c.parent().kendoStop(!0,!0).remove(),c.remove(),d.insertAfter(b.element[0].firstChild),b._focusView(e)):c.is(":visible")&&b.options.animation!==!1?b[a.vertical?"_vertical":"_horizontal"](c,d,a.future):(d.insertAfter(c),c.remove(),b._focusView(e)):(d.insertAfter(b.element[0].firstChild),b._bindTable(d))},_horizontal:function(a,c,d){var e=this,f=e._active,g=e.options.animation.horizontal,h=g.effects,i=a.outerWidth();h&&-1!=h.indexOf(N)&&(a.add(c).css({width:i}),a.wrap("<div/>"),e._focusView(f,a),a.parent().css({position:"relative",width:2*i,"float":M,"margin-left":d?0:-i}),c[d?"insertAfter":"insertBefore"](a),lb(g,{effects:N+":"+(d?"right":M),complete:function(){a.remove(),c.unwrap(),e._focusView(f),e._oldTable=b}}),a.parent().kendoStop(!0,!0).kendoAnimate(g))},_vertical:function(a,c){var d,e,f=this,g=f.options.animation.vertical,h=g.effects,i=f._active;h&&-1!=h.indexOf("zoom")&&(c.css({position:"absolute",top:a.prev().outerHeight(),left:0}).insertBefore(a),C&&(d=f._cellByDate(f._view.toDateString(f._current)),e=d.position(),e=e.left+parseInt(d.width()/2,10)+"px"+" "+(e.top+parseInt(d.height()/2,10)+"px"),c.css(C,e)),a.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){a.remove(),c.css({position:"static",top:0,left:0}),f._focusView(i),f._oldTable=b}}),c.kendoStop(!0,!0).kendoAnimate(g))},_cellByDate:function(b){return this._table.find("td:not(."+W+")").filter(function(){return a(this.firstChild).attr(r.attr(S))===b})},_class:function(b,c){var d=this,e=d._cellID,f=d._cell;f&&f.removeAttr(jb).removeAttr(K),f=d._table.find("td:not(."+W+")").removeClass(b).filter(function(){return a(this.firstChild).attr(r.attr(S))===c}).attr(jb,!0),b!==V||d._active||d.options.focusOnNav===!1||(b=""),f.addClass(b),f[0]&&(d._cell=f),e&&(f.attr(K,e),d._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",e))},_bindTable:function(a){a.on(ab,this._addClassProxy).on($,this._removeClassProxy)},_click:function(a){var b=this,c=b.options,d=new Date(+b._current),e=a.attr(r.attr(S)).split("/");e=new mb(e[0],e[1],e[2]),x(e),b._view.setDate(d,e),b.navigateDown(g(d,c.min,c.max))},_focus:function(a){var b=this,c=b._view;0!==c.compare(a,b._current)?b.navigate(a):(b._current=a,b._class(V,c.toDateString(a)))},_focusView:function(a,b){a&&this.focus(b)},_footer:function(b){var c=this,d=f(),e=c.element,g=e.find(".k-footer");return b?(g[0]||(g=a('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(e)),c._today=g.show().find(".k-link").html(b(d)).attr("title",r.toString(d,"D",c.options.culture)),c._toggle(),void 0):(c._toggle(!1),g.hide(),void 0)},_header:function(){var a,b=this,c=b.element,d=b.options.focusOnNav!==!1;c.find(".k-header")[0]||c.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),a=c.find(".k-link").on(cb+" "+db+" "+ab+" "+$,k).click(!1),b._title=a.eq(1).on(I,function(){b._focusView(d),b.navigateUp()}),b[gb]=a.eq(0).on(I,function(){b._focusView(d),b.navigateToPast()}),b[hb]=a.eq(2).on(I,function(){b._focusView(d),b.navigateToFuture()})},_navigate:function(a,b){var c=this,d=c._index+1,e=new mb(+c._current);a=c[a],a.hasClass(U)||(d>3?e.setFullYear(e.getFullYear()+100*b):pb.views[d].setDate(e,b),c.navigate(e))},_option:function(a,c){var d,e=this,f=e.options,g=+e._value;return c===b?f[a]:(c=w(c,f.format,f.culture),c&&(f[a]=new mb(+c),g&&(d=a===L?+c>g:g>+c),d?e.value(null):(e._changeView=q(e._current,c)||!(!f.month.content&&!f.month.empty),e.navigate()),e._toggle()),void 0)},_toggle:function(a){var c=this,d=c.options,e=c._today;a===b&&(a=h(f(),d.min,d.max)),e&&(e.off(I),a?e.addClass(Y).removeClass(U).on(I,kb(c._todayClick,c)):e.removeClass(Y).addClass(U).on(I,l))},_todayClick:function(a){var b=this,c=nb[b.options.depth],d=f();a.preventDefault(),0===b._view.compare(b._current,d)&&b._index==c&&(b._changeView=!1),b._value=d,b.navigate(d,c),b.trigger(Q)},_templates:function(){var a=this,b=a.options,c=b.footer,d=b.month,e=d.content,f=d.empty;a.month={content:z('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+r.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(e||"#=data.value#")+"</a></td>",{useWithBlock:!!e}),empty:z('<td role="gridcell">'+(f||"&nbsp;")+"</td>",{useWithBlock:!!f})},c!==!1&&(a.footer=z(c||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:!1}))}});t.plugin(ob);var pb={firstDayOfMonth:function(a){return new mb(a.getFullYear(),a.getMonth(),1)},firstVisibleDay:function(a,b){b=b||r.culture().calendar;for(var c=b.firstDay,d=new mb(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());d.getDay()!=c;)pb.setTime(d,-1*fb);return d},setTime:function(a,b){var c=a.getTimezoneOffset(),d=new mb(a.getTime()+b),e=d.getTimezoneOffset()-c;a.setTime(d.getTime()+e*eb)},views:[{name:O,title:function(a,b,c,d){return m(d).months.names[a.getMonth()]+" "+a.getFullYear()},content:function(a){for(var b=this,c=0,e=a.min,f=a.max,g=a.date,h=a.dates,j=a.format,k=a.culture,l=a.url,n=l&&h[0],o=m(k),q=o.firstDay,s=o.days,t=i(s.names,q),u=i(s.namesShort,q),v=pb.firstVisibleDay(g,o),w=b.first(g),y=b.last(g),z=b.toDateString,A=new mb,B='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>c;c++)B+='<th scope="col" title="'+t[c]+'">'+u[c]+"</th>";return A=new mb(A.getFullYear(),A.getMonth(),A.getDate()),x(A),A=+A,d({cells:42,perRow:7,html:B+='</tr></thead><tbody><tr role="row">',start:new mb(v.getFullYear(),v.getMonth(),v.getDate()),min:new mb(e.getFullYear(),e.getMonth(),e.getDate()),max:new mb(f.getFullYear(),f.getMonth(),f.getDate()),content:a.content,empty:a.empty,setter:b.setDate,build:function(a){var b=[],c=a.getDay(),d="",e="#";return(w>a||a>y)&&b.push(W),+a===A&&b.push("k-today"),(0===c||6===c)&&b.push("k-weekend"),n&&p(+a,h)&&(e=l.replace("{0}",r.toString(a,j,k)),d=" k-action-link"),{date:a,dates:h,ns:r.ns,title:r.toString(a,"D",k),value:a.getDate(),dateString:z(a),cssClass:b[0]?' class="'+b.join(" ")+'"':"",linkClass:d,url:e}}})},first:function(a){return pb.firstDayOfMonth(a)},last:function(a){var b=new mb(a.getFullYear(),a.getMonth()+1,0),c=pb.firstDayOfMonth(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return d&&b.setHours(c.getHours()+d/60),b},compare:function(a,b){var c,d=a.getMonth(),e=a.getFullYear(),f=b.getMonth(),g=b.getFullYear();return c=e>g?1:g>e?-1:d==f?0:d>f?1:-1},setDate:function(a,b){var c=a.getHours();b instanceof mb?a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()):pb.setTime(a,b*fb),x(a,c)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(a){var b=m(a.culture).months.namesAbbr,c=this.toDateString,e=a.min,f=a.max;return d({min:new mb(e.getFullYear(),e.getMonth(),1),max:new mb(f.getFullYear(),f.getMonth(),1),start:new mb(a.date.getFullYear(),0,1),setter:this.setDate,build:function(a){return{value:b[a.getMonth()],ns:r.ns,dateString:c(a),cssClass:""}}})},first:function(a){return new mb(a.getFullYear(),0,a.getDate())},last:function(a){return new mb(a.getFullYear(),11,a.getDate())},compare:function(a,b){return e(a,b)},setDate:function(a,b){var c,d=a.getHours();b instanceof mb?(c=b.getMonth(),a.setFullYear(b.getFullYear(),c,a.getDate()),c!==a.getMonth()&&a.setDate(0)):(c=a.getMonth()+b,a.setMonth(c),c>11&&(c-=12),c>0&&a.getMonth()!=c&&a.setDate(0)),x(a,d)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,b,d){return c(a,b,d,10)},content:function(a){var b=a.date.getFullYear(),c=this.toDateString;return d({start:new mb(b-b%10-1,0,1),min:new mb(a.min.getFullYear(),0,1),max:new mb(a.max.getFullYear(),0,1),setter:this.setDate,build:function(a,b){return{value:a.getFullYear(),ns:r.ns,dateString:c(a),cssClass:0===b||11==b?X:""}}})},first:function(a){var b=a.getFullYear();return new mb(b-b%10,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new mb(b-b%10+9,a.getMonth(),a.getDate())},compare:function(a,b){return e(a,b,10)},setDate:function(a,b){j(a,b,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:P,title:function(a,b,d){return c(a,b,d,100)},content:function(a){var b=a.date.getFullYear(),c=a.min.getFullYear(),e=a.max.getFullYear(),f=this.toDateString,g=c,h=e;return g-=g%10,h-=h%10,10>h-g&&(h=g+9),d({start:new mb(b-b%100-10,0,1),min:new mb(g,0,1),max:new mb(h,0,1),setter:this.setDate,build:function(a,b){var d=a.getFullYear(),g=d+9;return c>d&&(d=c),g>e&&(g=e),{ns:r.ns,value:d+" - "+g,dateString:f(a),cssClass:0===b||11==b?X:""}}})},first:function(a){var b=a.getFullYear();return new mb(b-b%100,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new mb(b-b%100+99,a.getMonth(),a.getDate())},compare:function(a,b){return e(a,b,100)},setDate:function(a,b){j(a,b,10)},toDateString:function(a){var b=a.getFullYear();return b-b%10+"/0/1"}}]};pb.isEqualDatePart=q,pb.makeUnselectable=o,pb.restrictValue=g,pb.isInRange=h,pb.normalize=n,pb.viewsEnum=nb,r.calendar=pb}(window.kendo.jQuery),function(a,b){function c(b){var c=b.parseFormats,d=b.format;L.normalize(b),c=a.isArray(c)?c:[c],-1===a.inArray(d,c)&&c.splice(0,0,b.format),b.parseFormats=c}function d(a){a.preventDefault()}var e=window.kendo,f=e.ui,g=f.Widget,h=e.parseDate,i=e.keys,j=e.template,k=e._activeElement,l="<div />",m="<span />",n=".kendoDatePicker",o="click"+n,p="open",q="close",r="change",s="dateView",t="disabled",u="readonly",v="k-state-default",w="k-state-focused",x="k-state-selected",y="k-state-disabled",z="k-state-hover",A="keydown"+n,B="mouseenter"+n+" mouseleave"+n,C="mousedown"+n,D="id",E="min",F="max",G="month",H="aria-disabled",I="aria-expanded",J="aria-hidden",K="aria-readonly",L=e.calendar,M=L.isInRange,N=L.restrictValue,O=L.isEqualDatePart,P=a.extend,Q=a.proxy,R=Date,S=function(b){var c,d=this,g=document.body,h=T.sharedCalendar,i=a(l).attr(J,"true").addClass("k-calendar-container").appendTo(g);h||(h=T.sharedCalendar=new f.Calendar(a(l).attr(D,e.guid()).hide().appendTo(g),{focusOnNav:!1}),L.makeUnselectable(h.element)),d.calendar=h,d.options=b=b||{},c=b.id,c&&(c+="_dateview",i.attr(D,c),d._dateViewID=c),d.popup=new f.Popup(i,P(b.popup,b,{name:"Popup",isRtl:e.support.isRtl(b.anchor)})),d.div=i,d._templates(),d.value(b.value)};S.prototype={_calendar:function(){var a=this,b=a.popup,c=a.options,e=a.calendar,f=e.element;f.data(s)!==a&&(f.appendTo(b.element).data(s,a).off(o+" "+A).on(o,"td:has(.k-link)",Q(a._click,a)).on(C,d).show(),e.unbind(r).bind(r,c),e.month=a.month,e.options.dates=c.dates,e.options.depth=c.depth,e.options.culture=c.culture,e._footer(a.footer),e.min(c.min),e.max(c.max),e._value=null,e.navigate(a._value||a._current,c.start),a.value(a._value))},destroy:function(){var c,d=this,e=d.calendar,f=e.element,g=f.data(s);(g===b||g===d)&&(c=a(".k-calendar-container"),c.length>1?f.hide().appendTo(document.body):(f.off(n),e.destroy(),e.element.remove(),T.sharedCalendar=null)),d.popup.destroy()},open:function(){var a=this;a._calendar(),a.popup.open()},close:function(){this.popup.close()},min:function(a){this._option(E,a)},max:function(a){this._option(F,a)},toggle:function(){var a=this;a[a.popup.visible()?q:p]()},move:function(a){var b=this,c=a.keyCode,d=b.calendar,e=a.ctrlKey&&c==i.DOWN||c==i.ENTER;if(c==i.ESC)return b.close(),void 0;if(a.altKey)return c==i.DOWN?(b.open(),a.preventDefault()):c==i.UP&&(b.close(),a.preventDefault()),void 0;if(b.popup.visible())return e&&d._cell.hasClass(x)?(b.close(),a.preventDefault(),void 0):(b._current=d._move(a),void 0)},value:function(a){var b=this,c=b.calendar,d=b.options;b._value=a,b._current=new R(+N(a,d.min,d.max)),c.element.data(s)===b&&c.value(a)},_click:function(a){-1!==a.currentTarget.className.indexOf(x)&&this.close()},_option:function(a,b){var c=this,d=c.options,e=c.calendar;d[a]=b,e.element.data(s)===c&&e[a](b)},_templates:function(){var a=this,b=a.options,c=b.footer,d=b.month||{},f=d.content,g=d.empty;a.month={content:j('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+e.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:j("<td>"+(g||"&nbsp;")+"</td>",{useWithBlock:!!g})},c!==!1&&(a.footer=j(c||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:!1}))}},S.normalize=c,e.DateView=S;var T=g.extend({init:function(a,b){var d,f,i=this;g.fn.init.call(i,a,b),a=i.element,b=i.options,c(b),i._wrapper(),i.dateView=new S(P({},b,{id:a.attr(D),anchor:i.wrapper,change:function(){i._change(this.value()),i.close()},close:function(b){i.trigger(q)?b.preventDefault():(a.attr(I,!1),f.attr(J,!0))},open:function(b){var c,d=i.options;i.trigger(p)?b.preventDefault():(i.element.val()!==i._oldText&&(c=h(a.val(),d.parseFormats,d.culture),c?(i.dateView._current=c,i.dateView.calendar._focus(c)):i.dateView.value(c)),a.attr(I,!0),f.attr(J,!1))}})),f=i.dateView.div,i._icon(),a[0].type="text",a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":i.dateView._dateViewID}),i._reset(),i._template(),d=a.is("[disabled]"),d?i.enable(!1):i.readonly(a.is("[readonly]")),i.value(b.value||i.element.val()),e.notify(i)},events:[p,q,r],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:G,depth:G,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(a){var b=this,d=b.dateView,e=d.options;g.fn.setOptions.call(b,a),c(b.options),d.options=P(e,b.options,{change:e.change,close:e.close,open:e.open})},_editable:function(a){var b=this,c=b._dateIcon.off(n),e=b.element.off(n),f=b._inputWrapper.off(n),g=a.readonly,h=a.disable;g||h?(f.addClass(h?y:v).removeClass(h?v:y),e.attr(t,h).attr(u,g).attr(H,h).attr(K,g)):(f.addClass(v).removeClass(y).on(B,b._toggleHover),e.removeAttr(t).removeAttr(u).attr(H,!1).attr(K,!1).on("keydown"+n,Q(b._keydown,b)).on("blur"+n,Q(b._blur,b)).on("focus"+n,function(){b._inputWrapper.addClass(w)}),c.on(o,Q(b._click,b)).on(C,d))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;g.fn.destroy.call(a),a.dateView.destroy(),a.element.off(n),a._dateIcon.off(n),a._inputWrapper.off(n),a._form&&a._form.off("reset",a._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(a){return this._option(E,a)},max:function(a){return this._option(F,a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_toggleHover:function(b){a(b.currentTarget).toggleClass(z,"mouseenter"===b.type)},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(w)},_click:function(){var a=this,b=a.element;a.dateView.toggle(),e.support.touch||b[0]===k()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(r),b.element.trigger(r))},_keydown:function(a){var b=this,c=b.dateView,d=b.element.val();c.popup.visible()||a.keyCode!=i.ENTER||d===b._oldText?(c.move(a),b._updateARIA(c._current)):b._change(d)},_icon:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(d)),c._dateIcon=b.attr({role:"button","aria-controls":c.dateView._dateViewID})},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=h(c,e.parseFormats,e.culture),c&&(e[a]=new R(+c),d.dateView[a](c)),void 0)},_update:function(a){var b,c=this,d=c.options,f=d.min,g=d.max,i=h(a,d.parseFormats,d.culture);return+i===+c._value?(b=e.toString(i,d.format,d.culture),b!==a&&c.element.val(null===i?a:b),i):(null!==i&&O(i,f)?i=N(i,f,g):M(i,f,g)||(i=null),c._value=i,c.dateView.value(i),c.element.val(i?e.toString(i,d.format,d.culture):a),c._updateARIA(i),i)},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-datepicker"),b[0]||(b=d.wrap(m).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(m).parent()),b[0].style.cssText=d[0].style.cssText,d.css({width:"100%",height:d[0].style.height}),c.wrapper=b.addClass("k-widget k-datepicker k-header").addClass(d[0].className),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=j(this.options.ARIATemplate)},_updateARIA:function(a){this.element.attr("aria-label",this._ariaTemplate({current:a}))}});f.plugin(T)}(window.kendo.jQuery),function(a,b){function c(a,b,c){return c?b.substring(0,a).split(c).length-1:0}function d(a,b,d){return b.split(d)[c(a,b,d)]}function e(a,b,d,e){var f=b.split(e);return f.splice(c(a,b,e),1,d),e&&""!==f[f.length-1]&&f.push(""),f.join(e)}function f(a){var b=a.value.length;A(a,b,b)}var g=window.kendo,h=g.support,i=g._activeElement,j=h.placeholder,k=g.ui,l=g.keys,m=g.data.DataSource,n=k.List,o="aria-disabled",p="aria-readonly",q="k-state-default",r="disabled",s="readonly",t="k-state-focused",u="k-state-selected",v="k-state-disabled",w="k-state-hover",x=".kendoAutoComplete",y="mouseenter"+x+" mouseleave"+x,z=n.caret,A=n.selectText,B=a.proxy,C=n.extend({init:function(b,c){var d,e=this;e.ns=x,c=a.isArray(c)?{dataSource:c}:c,n.fn.init.call(e,b,c),b=e.element,c=e.options,c.placeholder=c.placeholder||b.attr("placeholder"),j&&b.attr("placeholder",c.placeholder),e._wrapper(),e._loader(),e._dataSource(),e._ignoreCase(),b[0].type="text",d=e.wrapper,e._popup(),b.addClass("k-input").on("keydown"+x,B(e._keydown,e)).on("input.autocomplete"+x,function(){e._search()}).on("paste"+x,B(e._search,e)).on("focus"+x,function(){e._prev=e._accessor(),e._placeholder(!1),d.addClass(t)}).on("blur"+x,function(){e._change(),e._placeholder(),d.removeClass(t)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),e._enable(),e._old=e._accessor(),b[0].id&&b.attr("aria-owns",e.ul[0].id),e._aria(),e._placeholder(),g.notify(e)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=B(a.refresh,a),a._progressHandler=B(a._showBusy,a)),a.dataSource=m.create(a.options.dataSource).bind("change",a._refreshHandler).bind("progress",a._progressHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(a){n.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},_editable:function(a){var b=this,c=b.element,d=b.wrapper.off(x),e=a.readonly,f=a.disable;e||f?(d.addClass(f?v:q).removeClass(f?q:v),c.attr(r,f).attr(s,e).attr(o,f).attr(p,e)):(d.addClass(q).removeClass(v).on(y,b._toggleHover),c.removeAttr(r).removeAttr(s).attr(o,!1).attr(p,!1))},close:function(){var a=this,b=a._current;b&&b.removeClass(u),a.current(null),a.popup.close()},destroy:function(){var a=this;a.element.off(x),a.wrapper.off(x),n.fn.destroy.call(a)},refresh:function(){var c,d=this,e=d.ul[0],f=d.popup,h=d.options,j=d._data(),k=j.length;d.trigger("dataBinding"),e.innerHTML=g.render(d.template,j),d._height(k),f.visible()&&f._position(),k&&(h.highlightFirst&&d.current(a(e.firstChild)),h.suggest&&d.suggest(a(e.firstChild))),d._open&&(d._open=!1,c=k?"open":"close",d._typing&&d.element[0]!==i()&&(c="close"),f[c](),d._typing=b),d._touchScroller&&d._touchScroller.reset(),d._makeUnselectable(),d._hideBusy(),d.trigger("dataBound")},select:function(a){this._select(a)},search:function(a){var b,c=this,e=c.options,f=e.ignoreCase,g=e.separator;if(a=a||c._accessor(),c._current=null,clearTimeout(c._typing),g&&(a=d(z(c.element[0]),a,g)),b=a.length){if(b>=c.options.minLength&&(c._open=!0,"string"==typeof e.filter&&c._filterSource({value:f?a.toLowerCase():a,operator:e.filter,field:e.dataTextField,ignoreCase:f}),jQuery.isFunction(e.filter))){var h=e.filter(a,c);c.dataSource.filter(h)}}else c.popup.close()},suggest:function(a){var d,e=this,f=e._last,g=e._accessor(),h=e.element[0],i=z(h),j=e.options.separator,k=g.split(j),m=c(i,g,j),o=i;return f==l.BACKSPACE||f==l.DELETE?(e._last=b,void 0):(a=a||"","string"!=typeof a&&(d=n.inArray(a[0],e.ul[0]),a=d>-1?e._text(e._data()[d]):""),0>=i&&(i=g.toLowerCase().indexOf(a.toLowerCase())+1),d=g.substring(0,i).lastIndexOf(j),d=d>-1?i-(d+j.length):i,g=k[m].substring(0,d),a&&(d=a.toLowerCase().indexOf(g.toLowerCase()),d>-1&&(a=a.substring(d+g.length),o=i+a.length,g+=a),j&&""!==k[k.length-1]&&k.push("")),k[m]=g,e._accessor(k.join(j||"")),A(h,i,o),void 0)},value:function(a){return a===b?this._accessor():(this._accessor(a),this._old=a,void 0)},_accessor:function(a){var c=this,d=c.element[0];return a===b?(a=d.value,d.className.indexOf("k-readonly")>-1?a===c.options.placeholder?"":a:a):(d.value=null===a?"":a,c._placeholder(),void 0)},_accept:function(a){var b=this;b._focus(a),f(b.element[0])},_keydown:function(b){var c=this,d=c.ul[0],e=b.keyCode,f=c._current,g=c.popup.visible();c._last=e,e===l.DOWN?(g&&c._move(f?f.next():a(d.firstChild)),b.preventDefault()):e===l.UP?(g&&c._move(f?f.prev():a(d.lastChild)),b.preventDefault()):e===l.ENTER||e===l.TAB?(e===l.ENTER&&c.popup.visible()&&b.preventDefault(),c._accept(f)):e===l.ESC&&(c.popup.visible()&&b.preventDefault(),c.close())},_move:function(a){var b=this;a=a[0]?a:null,b.current(a),b.options.suggest&&b.suggest(a)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._loading.hide(),a.element.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.element.attr("aria-busy",!0),a._loading.show()},100))},_placeholder:function(a){if(!j){var c,d=this,e=d.element,f=d.options.placeholder;if(f){if(c=e.val(),a===b&&(a=!c),a||(f=c!==f?c:""),c===d._old&&!a)return;e.toggleClass("k-readonly",a).val(f)}}},_search:function(){var a=this;clearTimeout(a._typing),a._typing=setTimeout(function(){a._prev!==a._accessor()&&(a._prev=a._accessor(),a.search())},a.options.delay)},_select:function(b){var c,d,f=this,g=f.options.separator,h=f._data();b=a(b),b[0]&&!b.hasClass(u)&&(d=n.inArray(b[0],f.ul[0]),d>-1&&(h=h[d],c=f._text(h),g&&(c=e(z(f.element[0]),f._accessor(),c,g)),f._accessor(c),f.current(b.addClass(u))))
},_loader:function(){this._loading=a('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(b){a(b.currentTarget).toggleClass(w,"mouseenter"===b.type)},_wrapper:function(){var a,b=this,c=b.element,d=c[0];a=c.parent(),a.is("span.k-widget")||(a=c.wrap("<span />").parent()),a.attr("tabindex",-1),a.attr("role","presentation"),a[0].style.cssText=d.style.cssText,c.css({width:"100%",height:d.style.height}),b._focused=b.element,b.wrapper=a.addClass("k-widget k-autocomplete k-header").addClass(d.className)}});k.plugin(C)}(window.kendo.jQuery),function(a,b){function c(a,b,c){for(var d,e=0,f=b.length-1;f>e;++e)d=b[e],d in a||(a[d]={}),a=a[d];a[b[f]]=c}var d=window.kendo,e=d.ui,f=e.Select,g=d.support.mobileOS,h=".kendoDropDownList",i="disabled",j="readonly",k="change",l="k-state-focused",m="k-state-default",n="k-state-disabled",o="aria-disabled",p="aria-readonly",q="k-state-selected",r="mouseenter"+h+" mouseleave"+h,s="tabindex",t=a.proxy,u=f.extend({init:function(c,e){var g,i,j,k=this,l=e&&e.index;k.ns=h,e=a.isArray(e)?{dataSource:e}:e,f.fn.init.call(k,c,e),k._focusHandler=function(){k.wrapper.focus()},e=k.options,c=k.element.on("focus"+h,k._focusHandler),k._reset(),k._word="",k._wrapper(),k._tabindex(),k.wrapper.data(s,k.wrapper.attr(s)),k._aria(),k._span(),k._popup(),k._mobile(),k._dataSource(),k._ignoreCase(),k._enable(),k._cascade(),k._oldIndex=k.selectedIndex=-1,l!==b&&(e.index=l),e.autoBind?k.dataSource.fetch():(j=e.text||"",j||(g=k._optionLabelText(e.optionLabel),i=g&&0===e.index,k._isSelect?j=i?g:c.children(":selected").text():!c[0].value&&i&&(j=g)),k.text(j)),d.notify(k)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:["open","close",k,"select","dataBinding","dataBound","cascade"],setOptions:function(a){f.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},destroy:function(){var a=this;a.wrapper.off(h),a.element.off(h),a._inputWrapper.off(h),f.fn.destroy.call(a)},open:function(){var a=this;a.ul[0].firstChild?(a.popup.open(),a._scroll(a._current)):(a._open=!0,a._request||a.dataSource.fetch())},toggle:function(a){this._toggle(a)},refresh:function(){var a=this,b=a._data(),c=b.length,e=a.options.optionLabel;a.trigger("dataBinding"),a._current&&a.current(null),a.ul[0].innerHTML=d.render(a.template,b),a._height(c),a.popup.visible()&&a.popup._position(),a._isSelect&&(e&&c&&(e=a._optionLabelText(e),e='<option value="">'+e+"</option>"),a._options(b,e)),a._open&&(a._open=!1,a.toggle(!!c)),a._hideBusy(),a._makeUnselectable(),!a._fetch&&c&&a._selectItem(),a._bound=!0,a.trigger("dataBound")},search:function(a){if(a){var c=this,d=c.options.ignoreCase;d&&(a=a.toLowerCase()),c._select(function(e){var f=c._text(e);return f!==b?(f+="",d&&(f=f.toLowerCase()),0===f.indexOf(a)):void 0})}},text:function(a){var c=this.span;return a===b?c.text():(c.text(a),void 0)},value:function(a){var c,d,e=this;return a===b?e._accessor():(null!==a&&(a=a.toString()),e._selectedValue=a,d=a||e.options.optionLabel&&!e.element[0].disabled&&""===a,d&&e._fetchItems(a)||(c=e._index(a),e.select(c>-1?c:0)),void 0)},_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b.wrapper.off(h),g=b._inputWrapper.off(r),k=function(){g.addClass(l),b._blured=!1},q=function(){b._blured||(b._triggerCascade(),b._blur(),g.removeClass(l),b._blured=!0,c.blur())};e||d?(d?(f.removeAttr(s),g.addClass(n).removeClass(m)):(g.addClass(m).removeClass(n),f.on("focusin"+h,k).on("focusout"+h,q)),c.attr(i,d).attr(j,e),f.attr(o,d).attr(p,e)):(c.removeAttr(i).removeAttr(j),g.addClass(m).removeClass(n).on(r,b._toggleHover),f.attr(s,f.data(s)).attr(o,!1).attr(p,!1).on("click"+h,function(a){b._blured=!1,a.preventDefault(),b.toggle()}).on("keydown"+h,t(b._keydown,b)).on("keypress"+h,t(b._keypress,b)).on("focusin"+h,k).on("focusout"+h,q))},_accept:function(a){this._focus(a)},_optionLabelText:function(){var a=this.options,b=a.dataTextField,c=a.optionLabel;return c&&b&&"object"==typeof c?this._text(c):c},_data:function(){var a=this,b=a.options,e=b.optionLabel,f=b.dataTextField,g=b.dataValueField,h=a.dataSource.view(),i=h.length,j=e,k=0;if(e&&i){for("object"==typeof e?j=e:f&&(j={},f=f.split("."),g=g.split("."),c(j,g,""),c(j,f,e)),j=new d.data.ObservableArray([j]);i>k;k++)j.push(h[k]);h=j}return h},_keydown:function(a){var b=this,c=a.keyCode,e=d.keys,f=b.ul[0];c===e.LEFT?c=e.UP:c===e.RIGHT&&(c=e.DOWN),a.keyCode=c,b._move(a),c===e.HOME?(a.preventDefault(),b._select(f.firstChild)):c===e.END&&(a.preventDefault(),b._select(f.lastChild))},_selectNext:function(a,b){for(var c,d=this,e=d.options.ignoreCase,f=d._data(),g=f.length;g>b;b++)if(c=d._text(f[b]),c&&(c+="",e&&(c=c.toLowerCase()),0===c.indexOf(a)))return d._select(b),d._triggerEvents(),!0;return!1},_keypress:function(a){var b=this;setTimeout(function(){var c=String.fromCharCode(a.keyCode||a.charCode),d=b.selectedIndex;if(b.options.ignoreCase&&(c=c.toLowerCase()),c===b._last&&d>-1){if(b._word=c,b._selectNext(c,d+1))return}else b._word+=c;b._last=c,b._search()})},_popup:function(){f.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=d.wrap(this.element).addClass("km-popup")})},_search:function(){var a=this,b=a.dataSource,c=a._word;return clearTimeout(a._typing),a._typing=setTimeout(function(){a._word=""},a.options.delay),a.ul[0].firstChild?(a.search(c),a._triggerEvents(),void 0):(b.one(k,function(){b.data()[0]&&a.search(c)}).fetch(),void 0)},_select:function(a){var c,d,f,g=this,h=g._current,i=g._data();a=g._get(a),a&&a[0]&&!a.hasClass(q)&&(h&&h.removeClass(q),f=e.List.inArray(a[0],g.ul[0]),f>-1&&(i=i[f],d=g._text(i),c=g._value(i),g.selectedIndex=f,g.text(d),g._accessor(c!==b?c:d,f),g._selectedValue=g._accessor(),g.current(a.addClass(q)),g._optionID&&g._current.attr("aria-selected",!0)))},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var a=this,b=a.popup,c=b.element.parents(".km-root").eq(0);c.length&&g&&(b.options.animation.open.effects=g.android||g.meego?"fadeIn":g.ios||g.wp?"slideIn:up":b.options.animation.open.effects)},_span:function(){var b,c=this,d=c.wrapper,e="span.k-input";b=d.find(e),b[0]||(d.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(c.element),b=d.find(e)),c.span=b,c._inputWrapper=a(d[0].firstChild),c._arrow=d.find(".k-icon").mousedown(function(a){a.preventDefault()})},_wrapper:function(){var a,b=this,c=b.element,d=c[0];a=c.parent(),a.is("span.k-widget")||(a=c.wrap("<span />").parent(),a[0].style.cssText=d.style.cssText),c.hide(),b._focused=b.wrapper=a.addClass("k-widget k-dropdown k-header").addClass(d.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var a=this,b=a.options.optionLabel;return a.dataSource.view()[0]&&b?(a.select(0),void 0):(a.text(b),a.element.val(""),a.selectedIndex=-1,void 0)}});e.plugin(u)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.List,f=d.Select,g=c.support,h=g.placeholder,i=c._activeElement,j=c.keys,k=".kendoComboBox",l="click"+k,m="mousedown"+k,n="disabled",o="readonly",p="change",q="k-state-default",r="k-state-focused",s="k-state-disabled",t="aria-disabled",u="aria-readonly",v="k-state-selected",w="filter",x="accept",y="rebind",z="mouseenter"+k+" mouseleave"+k,A=null,B=a.proxy,C=f.extend({init:function(b,d){var e,g=this;g.ns=k,d=a.isArray(d)?{dataSource:d}:d,f.fn.init.call(g,b,d),g._focusHandler=function(){g.input.focus()},d=g.options,b=g.element.on("focus"+k,g._focusHandler),d.placeholder=d.placeholder||b.attr("placeholder"),g._reset(),g._wrapper(),g._input(),g._tabindex(g.input),g._popup(),g._dataSource(),g._ignoreCase(),g._enable(),g._cascade(),g._aria(),g._oldIndex=g.selectedIndex=-1,d.autoBind?g._filterSource():(e=d.text,!e&&g._isSelect&&(e=b.children(":selected").text()),e&&(g.input.val(e),g._prev=e)),e||g._placeholder(),c.notify(g)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,ignoreCase:!0,animation:{}},events:["open","close",p,"select","dataBinding","dataBound","cascade"],setOptions:function(a){f.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},current:function(a){var c=this,d=c._current;return a===b?d:(d&&d.removeClass(v),f.fn.current.call(c,a),void 0)},destroy:function(){var a=this;a.input.off(k),a.element.off(k),a._inputWrapper.off(k),f.fn.destroy.call(a)},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._inputWrapper.off(k),f=b.element.add(b.input.off(k)),g=b._arrow.parent().off(l+" "+m);d||c?(e.addClass(c?s:q).removeClass(c?q:s),f.attr(n,c).attr(o,d).attr(t,c).attr(u,d)):(e.addClass(q).removeClass(s).on(z,b._toggleHover),f.removeAttr(n).removeAttr(o).attr(t,!1).attr(u,!1),g.on(l,function(){b.toggle()}).on(m,function(a){a.preventDefault()}),b.input.on("keydown"+k,B(b._keydown,b)).on("focus"+k,function(){e.addClass(r),b._placeholder(!1)}).on("blur"+k,function(){e.removeClass(r),clearTimeout(b._typing),b.options.text!==b.input.val()&&b.text(b.text()),b._placeholder(),b._blur(),b.element.blur()}))},open:function(){var a=this,b=a.dataSource.options.serverFiltering;a.popup.visible()||(!a.ul[0].firstChild||a._state===x&&!b?(a._open=!0,a._state=y,a._filterSource()):(a.popup.open(),a._scroll(a._current)))},refresh:function(){var d,e,f,g=this,h=g.ul[0],j=g.options,k=g._state,l=g._data(),m=l.length;g.trigger("dataBinding"),h.innerHTML=c.render(g.template,l),g._height(m),g.popup.visible()&&g.popup._position(),g._isSelect&&(k===y&&(g._state="",d=g.value()),f=g._option,g._option=b,g._options(l),f&&f[0].selected&&g._custom(f.val())),m&&(j.highlightFirst&&g.current(a(h.firstChild)),j.suggest&&g.input.val()&&g._request!==b&&g.suggest(a(h.firstChild))),k===w||g._fetch||g._selectItem(),g._open&&(g._open=!1,e=!!m,g._typing&&g.input[0]!==i()&&(e=!1),g.toggle(e),g._typing=b),g._touchScroller&&g._touchScroller.reset(),g._makeUnselectable(),g._hideBusy(),g._bound=!0,g.trigger("dataBound")},search:function(a){a="string"==typeof a?a:this.text();var b=this,c=a.length,d=b.options,e=d.ignoreCase,f=d.filter,g=d.dataTextField;clearTimeout(b._typing),c>=d.minLength&&(b._state=w,"none"===f?b._filter(a):(b._open=!0,b._filterSource({value:e?a.toLowerCase():a,field:g,operator:f,ignoreCase:e})))},suggest:function(a){var c,d=this,f=d.input[0],g=d.text(),h=e.caret(f),i=d._last;return i==j.BACKSPACE||i==j.DELETE?(d._last=b,void 0):(a=a||"","string"!=typeof a&&(c=e.inArray(a[0],d.ul[0]),a=c>-1?d._text(d.dataSource.view()[c]):""),0>=h&&(h=g.toLowerCase().indexOf(a.toLowerCase())+1),a?(c=a.toLowerCase().indexOf(g.toLowerCase()),c>-1&&(g+=a.substring(c+g.length))):g=g.substring(0,h),g.length===h&&a||(f.value=g,e.selectText(f,h,g.length)),void 0)},text:function(a){a=null===a?"":a;var c,d=this,e=d._text,f=d.input[0],g=d.options.ignoreCase,h=a;return a===b?f.value:(c=d.dataItem(),c&&e(c)===a?(d._triggerCascade(),void 0):(g&&(h=h.toLowerCase()),d._select(function(a){return a=e(a),g&&(a=(a+"").toLowerCase()),a===h}),d.selectedIndex<0&&(d._custom(a),f.value=a),d._prev=f.value,d._triggerCascade(),void 0))},toggle:function(a){var b=this;b._toggle(a)},value:function(a){var c,d=this;return a===b?d._accessor():(null!==a&&(a=a.toString()),d._selectedValue=a,!d._open&&a&&d._fetchItems(a)||(c=d._index(a),c>-1?d.select(c):(d.current(A),d._custom(a),d.text(a),d._placeholder()),d._old=d._accessor(),d._oldIndex=d.selectedIndex),void 0)},_accept:function(a){var b=this;a?b._focus(a):(b.text(b.text()),b._change())},_custom:function(b){var c=this,d=c.element,e=c._option;c._state===w&&(c._state=x),c._isSelect?(e||(e=c._option=a("<option/>"),d.append(e)),e.text(b),e[0].selected=!0):d.val(b),c._selectedValue=b},_filter:function(a){var c=this,d=c.options,e=c.dataSource,f=d.ignoreCase,g=function(d){var e=c._text(d);return e!==b?(e+="",""!==e&&""===a?!1:(f&&(e=e.toLowerCase()),0===e.indexOf(a))):void 0};return f&&(a=a.toLowerCase()),c.ul[0].firstChild?(-1!==c._highlight(g)&&(d.suggest&&c._current&&c.suggest(c._current),c.open()),c._hideBusy(),void 0):(e.one(p,function(){e.data()[0]&&c.search(a)}).fetch(),void 0)},_highlight:function(c){var d,f=this;return c===b||null===c?-1:(c=f._get(c),d=e.inArray(c[0],f.ul[0]),-1==d&&(c=f.options.highlightFirst&&!f.text()?a(f.ul[0].firstChild):A),f.current(c),d)},_input:function(){var b,c=this,d=c.element.removeClass("k-input")[0],e=d.accessKey,f=c.wrapper,g="input.k-input",i=d.name||"";i&&(i='name="'+i+'_input" '),b=f.find(g),b[0]||(f.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+i+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(c.element),b=f.find(g)),b[0].style.cssText=d.style.cssText,d.maxLength>-1&&(b[0].maxLength=d.maxLength),b.addClass(d.className).val(d.value).css({width:"100%",height:d.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),h&&b.attr("placeholder",c.options.placeholder),e&&(d.accessKey="",b[0].accessKey=e),c._focused=c.input=b,c._inputWrapper=a(f[0].firstChild),c._arrow=f.find(".k-icon").attr({role:"button",tabIndex:-1}),d.id&&c._arrow.attr("aria-controls",c.ul[0].id)},_keydown:function(a){var b=this,c=a.keyCode;b._last=c,clearTimeout(b._typing),c==j.TAB||b._move(a)||b._search()},_placeholder:function(a){if(!h){var c,d=this,e=d.input,f=d.options.placeholder;if(f){if(c=d.value(),a===b&&(a=!c),e.toggleClass("k-readonly",a),!a){if(c)return;f=""}e.val(f)}}},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.text();a._prev!==b&&(a._prev=b,a.search(b))},a.options.delay)},_select:function(a){var c,d,e=this,f=e._data(),g=e._highlight(a);e.selectedIndex=g,-1!==g&&(e._state===w&&(e._state=x),e._current.addClass(v),f=f[g],c=e._text(f),d=e._value(f),e._prev=e.input[0].value=c,e._accessor(d!==b?d:c,g),e._selectedValue=e._accessor(),e._placeholder(),e._optionID&&e._current.attr("aria-selected",!0))},_wrapper:function(){var a=this,b=a.element,c=b.parent();c.is("span.k-widget")||(c=b.hide().wrap("<span />").parent(),c[0].style.cssText=b[0].style.cssText),a.wrapper=c.addClass("k-widget k-combobox k-header").addClass(b[0].className).css("display","")},_clearSelection:function(a,b){var c=this,d=a._selectedValue||a.value(),e=d&&-1===a.selectedIndex;(b||!d||e)&&c.value("")}});d.plugin(C)}(window.kendo.jQuery),function(a,b){function c(a,b){var c;if(null===a&&null!==b||null!==a&&null===b)return!1;if(c=a.length,c!==b.length)return!1;for(;c--;)if(a[c]!==b[c])return!1;return!0}function d(a){var b=a.firstChild;return b&&"none"===b.style.display&&(b=f(b,w)),b}function e(a){var b=a.lastChild;return b&&"none"===b.style.display&&(b=f(b,x)),b}function f(a,b){return a=a[b],a&&"none"===a.style.display&&(a=f(a,b)),a}var g=window.kendo,h=g.ui,i=h.List,j=g.keys,k=g._activeElement,l=g.data.ObservableArray,m=a.proxy,n="id",o="li",p="accept",q="filter",r="open",s="close",t="change",u="progress",v="select",w="nextSibling",x="previousSibling",y=' style="display:none"',z="aria-disabled",A="aria-readonly",B="k-state-focused",C="k-loading-hidden",D="k-state-hover",E="k-state-disabled",F="disabled",G="readonly",H=".kendoMultiSelect",I="click"+H,J="keydown"+H,K="mouseenter"+H,L="mouseleave"+H,M=K+" "+L,N=/"/g,O=a.isArray,P=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],Q=i.extend({init:function(b,c){var d,e,f=this;f.ns=H,i.fn.init.call(f,b,c),f._wrapper(),f._tagList(),f._input(),f._textContainer(),f._loader(),f._tabindex(f.input),b=f.element.attr("multiple","multiple").hide(),c=f.options,e=c.value,c.placeholder||(c.placeholder=b.data("placeholder")),d=b.attr(n),d&&(f._tagID=d+"_tag_active",d+="_taglist",f.tagList.attr(n,d)),f._aria(d),f._dataSource(),f._ignoreCase(),f._popup(),f._values=[],f._dataItems=[],f._reset(),f._enable(),f._placeholder(),c.autoBind?f.dataSource.fetch():e&&(O(e)||(e=[e]),(a.isPlainObject(e[0])||!c.dataValueField)&&(f._retrieveData=!0,f.dataSource.data(e),f.value(f._initialValues))),g.notify(f)},options:{name:"MultiSelect",enabled:!0,autoBind:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[r,s,t,v,"dataBinding","dataBound"],setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(a){i.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria(this.tagList.attr(n))},current:function(a){return this.currentTag(null),i.fn.current.call(this,a)},currentTag:function(a){var c=this;return a===b?c._currentTag:(c._currentTag&&(c._currentTag.removeClass(B).removeAttr(n),c.input.removeAttr("aria-activedescendant")),a&&(a.addClass(B).attr(n,c._tagID),c.input.attr("aria-activedescendant",c._tagID)),c._currentTag=a,void 0)},dataItems:function(){return this._dataItems},destroy:function(){var a=this,b=a.ns;a.wrapper.off(b),a.tagList.off(b),a.input.off(b),i.fn.destroy.call(a)},_editable:function(b){var c=this,d=b.disable,e=b.readonly,f=c.wrapper.off(H),g=c.tagList.off(H),h=c.element.add(c.input.off(H));e||d?(d?f.addClass(E):f.removeClass(E),h.attr(F,d).attr(G,e).attr(z,d).attr(A,e)):(f.removeClass(E).on(M,c._toggleHover).on("mousedown"+H,function(a){a.preventDefault(),c.input[0]!==k()&&c.input.focus(),-1==a.target.className.indexOf("k-delete")&&0===c.options.minLength&&c.open()}),c.input.on(J,m(c._keydown,c)).on("paste"+H,m(c._search,c)).on("focus"+H,function(){c._placeholder(!1)}).on("blur"+H,function(){clearTimeout(c._typing),c._placeholder(),c.close(),c._state===q&&(c._state=p),c.element.blur()}),h.removeAttr(F).removeAttr(G).attr(z,!1).attr(A,!1),g.on(K,o,function(){a(this).addClass(D)}).on(L,o,function(){a(this).removeClass(D)}).on(I,".k-delete",function(b){c._unselect(a(b.target).closest(o)),c._change(),c.close()}))},close:function(){this.popup.close(),this.current(null)},open:function(){var b=this;!b.ul[0].firstChild||b._state===p||b._retrieveData?(b._state="",b._open=!0,b._retrieveData=!1,b._filterSource()):b._visibleItems&&b._allowSelection()&&(b.popup.open(),b.current(b.options.highlightFirst?a(d(b.ul[0])):null))},toggle:function(a){this[a?r:s]()},refresh:function(){var b,c=this,e=null;c.trigger("dataBinding"),b=c._render(c.dataSource.view()),c._height(b),c._setInitialValues&&(c._setInitialValues=!1,c.value(c._initialValues)),c._open&&(c._open=!1,c.toggle(b)),c.popup.visible()&&(c.popup._position(),c.options.highlightFirst&&(e=a(d(c.ul[0])))),c.current(e),c._touchScroller&&c._touchScroller.reset(),c._makeUnselectable(),c._hideBusy(),c.trigger("dataBound")},search:function(a){var b=this,c=b.options,d=c.ignoreCase,e=c.filter,f=c.dataTextField;clearTimeout(b._typing),a="string"==typeof a?a:b.input.val(),a.length>=c.minLength&&(b._state=q,b._open=!0,b._filterSource({value:d?a.toLowerCase():a,field:f,operator:e,ignoreCase:d}))},value:function(c){var d,e=this,f=a(e.tagList[0].children),g=f.length,h=0;if(c===b)return e._values;if(!e._fetchItems(c)){for(;g>h;h++)e._unselect(f.eq(h));if(null!==c){for(c=O(c)||c instanceof l?c:[c],h=0,g=c.length;g>h;h++)d=e._index(c[h]),d>-1&&e._select(d);e._old=e._values.slice()}}},_dataSource:function(){var a=this,b=a.element,c=a.options,d=c.dataSource||{};d=O(d)?{data:d}:d,d.select=b,d.fields=[{field:c.dataTextField},{field:c.dataValueField}],a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=m(a.refresh,a),a._progressHandler=m(a._showBusy,a)),a.dataSource=g.data.DataSource.create(d).bind(t,a._refreshHandler).bind(u,a._progressHandler)},_fetchItems:function(a){var b=this;return b._fetch||b.ul[0].firstChild?void 0:(b.dataSource.one(t,function(){b.value(a),b._fetch=!1}),b._fetch=!0,b.dataSource.fetch(),!0)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initialValues)})},b._form=e.on("reset",b._resetHandler))},_initValue:function(){var a=this,b=a.options.value||a.element.val();null===b?b=[]:(O(b)||(b=[b]),b=a._mapValues(b)),a._old=a._initialValues=b,a._setInitialValues=!!b[0]},_mapValues:function(b){var c=this;return b&&a.isPlainObject(b[0])&&(b=a.map(b,function(a){return c._value(a)})),b},_change:function(){var a=this,b=a.value();c(b,a._old)||(a._old=b.slice(),a.trigger(t),a.element.trigger(t))},_click:function(b){var c=this,d=a(b.currentTarget);if(!b.isDefaultPrevented()){if(c.trigger(v,{item:d}))return c.close(),void 0;c._select(d),c._change(),c.close()}},_item:function(a,b){return a=a[b](),a[0]&&!a.is(":visible")&&(a=this._item(a,b)),a},_keydown:function(b){var c=this,h=b.keyCode,i=c._currentTag,k=c._current,l=c.input.val(),m=g.support.isRtl(c.wrapper),n=c.popup.visible();if(h===j.DOWN){if(b.preventDefault(),!n)return c.open(),void 0;k=k?f(k[0],w):c.ul[0].firstChild,k&&c.current(a(k))}else if(h===j.UP)n&&(k=k?f(k[0],x):c.ul[0].lastChild,c.current(a(k)),c._current[0]||c.close()),b.preventDefault();else if(h===j.LEFT&&!m||h===j.RIGHT&&m)l||(i=i?i.prev():a(c.tagList[0].lastChild),i[0]&&c.currentTag(i));else if(h===j.RIGHT&&!m||h===j.LEFT&&m)!l&&i&&(i=i.next(),c.currentTag(i[0]?i:null));else if(h===j.ENTER&&n){if(k){if(c.trigger(v,{item:k}))return c.close(),void 0;c._select(k)}c._change(),c.close(),b.preventDefault()}else h===j.ESC?(n?b.preventDefault():c.currentTag(null),c.close()):h===j.HOME?n?c.current(a(d(c.ul[0]))):l||(i=c.tagList[0].firstChild,i&&c.currentTag(a(i))):h===j.END?n?c.current(a(e(c.ul[0]))):l||(i=c.tagList[0].lastChild,i&&c.currentTag(a(i))):h!==j.DELETE&&h!==j.BACKSPACE||l?(clearTimeout(c._typing),setTimeout(function(){c._scale()}),c._search()):(h!==j.BACKSPACE||i||(i=a(c.tagList[0].lastChild)),i&&i[0]&&(c._unselect(i),c._change(),c.close()))},_hideBusy:function(){var a=this;clearTimeout(a._busy),a.input.attr("aria-busy",!1),a._loading.addClass(C),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.input.attr("aria-busy",!0),a._loading.removeClass(C)},100))},_placeholder:function(a){var c=this,d=c.input;a===b?(a=!1,d[0]!==k()&&(a=!c._dataItems[0]),c.wrapper.removeClass(B)):c.wrapper.addClass(B),c._prev="",d.toggleClass("k-readonly",a).val(a?c.options.placeholder:""),c._scale()},_scale:function(){var a,b=this,c=b.wrapper,d=c.width(),e=b._span.text(b.input.val());c.is(":visible")?a=e.width()+25:(e.appendTo(document.documentElement),d=a=e.width()+25,e.appendTo(c)),b.input.width(a>d?d:a)},_option:function(a,c){var d="<option",e=this._text(a),f=this._value(a);return f!==b&&(f+="",-1!==f.indexOf('"')&&(f=f.replace(N,"&quot;")),d+=' value="'+f+'"'),c&&(d+=' selected="selected"'),d+=">",e!==b&&(d+=g.htmlEncode(e)),d+="</option>"},_render:function(a){for(var b,c,d=this,e=a.length,f=d.itemTemplate,g=d._dataItems.slice(0),h=0,i=0,j="",k="";e>i;i++)b=a[i],c=d._selected(g,b),k+=f(b,i,c),j+=d._option(b,c),c||(h+=1);if(e=g.length)for(i=0;e>i;i++)j+=d._option(g[i],!0);return d.ul[0].innerHTML=k,d.element.html(j),d._visibleItems=h,h},_selected:function(a,c){var d,e=this,f=e._text,g=e._value,h=g(c),i=a.length,j=!1,k=0;for(h===b&&(h=f(c));i>k;k++)if(c=a[k],d=g(c),d===b&&(d=f(c)),d!==b&&d===h){j=!0;break}return j&&a.splice(k,1),j},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.input.val();a._prev!==b&&(a._prev=b,a.search(b))},a.options.delay)},_allowSelection:function(){var a=this.options.maxSelectedItems;return null===a||a>this._values.length},_select:function(a){var b,c,d=this,e=d._values;d._allowSelection()&&(isNaN(a)?c=a.hide().data("idx"):(c=a,d.ul[0].children[c].style.display="none"),d.element[0].children[c].selected=!0,b=d.dataSource.view()[c],d.tagList.append(d.tagTemplate(b)),d._dataItems.push(b),e.push(d._dataValue(b)),d._visibleItems-=1,d.currentTag(null),d._placeholder(),d._height(d._visibleItems),d._state===q&&(d._state=p))},_unselect:function(b){var c,d,e,f,g,h=this,i=b.index();if(b.remove(),h.currentTag(null),h._values.splice(i,1),c=h._dataItems.splice(i,1)[0],d=h._dataValue(c),i=h._index(d),-1!==i)a(h.ul[0].children[i]).show(),h.element[0].children[i].selected=!1,h._visibleItems+=1,h._height(h._visibleItems);else for(i=h.dataSource.view().length,e=h.element[0].children,g=e.length;g>i;i++)if(f=e[i],f.value==d){f.selected=!1;break}h._placeholder()},_template:function(){var a,b=this,c=b.options,d=c.itemTemplate,e=c.tagTemplate,f=c.dataSource;b.element[0].length&&!f&&(c.dataTextField=c.dataTextField||"text",c.dataValueField=c.dataValueField||"value"),a=g.template("#:"+g.expr(c.dataTextField,"data")+"#",{useWithBlock:!1}),d=d?g.template(d):a,e=e?g.template(e):a,b.itemTemplate=function(a,b,c){return'<li tabindex="-1" role="option" data-idx="'+b+'" unselectable="on" class="k-item"'+(c?y:"")+">"+d(a)+"</li>"},b.tagTemplate=function(a){return'<li class="k-button" unselectable="on"><span unselectable="on">'+e(a)+'</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'}},_input:function(){var b=this,c=b.element[0].accessKey,d=b._innerWrapper.children("input.k-input");d[0]||(d=a('<input class="k-input" style="width: 25px" />').appendTo(b._innerWrapper)),b.element.removeAttr("accesskey"),b._focused=b.input=d.attr({accesskey:c,role:"listbox","aria-expanded":!1})},_tagList:function(){var b=this,c=b._innerWrapper.children("ul");c[0]||(c=a('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(b._innerWrapper)),b.tagList=c},_loader:function(){this._loading=a('<span class="k-icon k-loading '+C+'"></span>').insertAfter(this.input)},_textContainer:function(){var b=g.getComputedStyles(this.input[0],P);b.position="absolute",b.visibility="hidden",this._span=a("<span/>").css(b).appendTo(this.wrapper)},_wrapper:function(){var b=this,c=b.element,d=c.parent("span.k-multiselect");d[0]||(d=c.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),d[0].style.cssText=c[0].style.cssText,a('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(c)),b.wrapper=d.addClass(c[0].className).css("display",""),b._innerWrapper=a(d[0].firstChild)}});h.plugin(Q)}(window.kendo.jQuery),function(a,b,c){function d(a,b,c){c=g(c),c&&!c.equals(a.color())&&("change"==b&&(a._value=c),c=1!=c.a?c.toCssRgba():c.toCss(),a.trigger(b,{value:c}))}function e(a,b,c){for(c||(c="0"),a=a.toString(16);b>a.length;)a="0"+a;return a}function f(a){return parseFloat((+a).toFixed(3))}function g(a,d){if(null==a||"transparent"==a)return null;if(a instanceof C)return a;var e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a);if(e)return new E(b(e[1],16),b(e[2],16),b(e[3],16),1);if(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a))return new E(b(e[1]+e[1],16),b(e[2]+e[2],16),b(e[3]+e[3],16),1);if(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(a))return new E(b(e[1],10),b(e[2],10),b(e[3],10),1);if(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(a))return new E(b(e[1],10),b(e[2],10),b(e[3],10),parseFloat(e[4]));if(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(a))return new D(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1);if(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(a))return new D(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]));if(!d)throw new Error("Cannot parse color: "+a);return c}function h(a,b,c){a=Array.prototype.slice.call(a);var d=a.length,e=a.indexOf(b);return 0>e?0>c?a[d-1]:a[0]:(e+=c,0>e?e+=d:e%=d,a[e])}function i(a){a.preventDefault()}function j(a,b){return function(){return a.apply(b,arguments)}}var k=window.kendo,l=k.Class,m=k.ui,n=m.Widget,o=k.keys,p="background-color",q="k-state-selected",r="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",s="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",t={apply:"Apply",cancel:"Cancel"},u=".kendoColorTools",v="click"+u,w="keydown"+u,x=k.support.browser,y=x.msie&&x.version<9,z=n.extend({init:function(a,b){var c,d=this;n.fn.init.call(d,a,b),a=d.element,b=d.options,d._value=b.value=g(b.value),c=d._ariaId=b.ariaId,c&&a.attr("aria-labelledby",c),b._standalone&&(d._triggerSelect=d._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(a){return a!==c&&this._updateUI(this._value=g(a)),this._value},value:function(a){return a=this.color(a),a&&(a=this.options.opacity?a.toCssRgba():a.toCss()),a||null},enable:function(b){0===arguments.length&&(b=!0),b?a(".k-disabled-overlay",this.wrapper).remove():this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(b)},_select:function(a,b){var c=this._value;a=this.color(a),b||(a.equals(c)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(a){d(this,"select",a)},_triggerChange:function(a){d(this,"change",a)},destroy:function(){this.element&&this.element.off(u),this.wrapper&&this.wrapper.off(u).find("*").off(u),this.wrapper=null,n.fn.destroy.call(this)},_updateUI:a.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),A=z.extend({init:function(b,c){var d=this;z.fn.init.call(d,b,c),b=d.wrapper=d.element,c=d.options;var e=c.palette;"websafe"==e?(e=s,c.columns=18):"basic"==e&&(e=r),"string"==typeof e&&(e=e.split(",")),a.isArray(e)&&(e=a.map(e,function(a){return g(a)})),b.addClass("k-widget k-colorpalette").append(a(d._template({colors:e,tileSize:c.tileSize,value:d._value,id:c.ariaId}))).on(v,".k-item",function(b){d._select(a(b.currentTarget).css(p))}).attr("tabIndex",0).on(w,j(d._keydown,d));var f,h,i=c.tileSize;if(i){if(/number|string/.test(typeof i))f=h=parseFloat(i);else{if("object"!=typeof i)throw new Error("Unsupported value for the 'tileSize' argument");f=parseFloat(i.width),h=parseFloat(i.height)}b.find(".k-item").css({width:f-2,height:h-2})}c.columns&&b.css("width",c.columns*(f||14))
},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(a){a?this.wrapper.removeAttr("tabIndex"):this.wrapper.attr("tabIndex",0)},_keydown:function(b){var c,d=this,e=d.wrapper,f=e.find(".k-item"),j=f.filter("."+q).get(0),k=b.keyCode;if(k==o.LEFT?c=h(f,j,-1):k==o.RIGHT?c=h(f,j,1):k==o.DOWN?c=h(f,j,d.options.columns):k==o.UP?c=h(f,j,-d.options.columns):k==o.ENTER?(i(b),j&&this._select(a(j).css(p))):k==o.ESC&&this._cancel(),c){i(b),c=a(c),a(j).removeClass(q).removeAttr("aria-selected"),c.addClass(q).attr("aria-selected",!0);try{var l=g(c.css(p));d._triggerSelect(l)}catch(m){}}},_updateUI:function(b){var c=this,d=null;c.wrapper.find(".k-item."+q).removeClass(q).removeAttr("aria-selected"),c.wrapper.find(".k-item").each(function(){var c=g(a(this).css(p));c&&c.equals(b)&&(d=this)}),a(d).addClass(q).attr("aria-selected",!0)},_template:k.template('<ul class="k-palette k-reset"># for (var i = 0; i < colors.length; i++) { #<li unselectable="on" style="background-color:#= colors[i].toCss() #" #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "'+q+'" : "" #" aria-label="#= colors[i].toCss() #">'+"</li>"+"# } #"+"</ul>")}),B=z.extend({init:function(b,c){var d=this;z.fn.init.call(d,b,c),c=d.options,b=d.element,d.wrapper=b.addClass("k-widget k-flatcolorpicker").append(d._template(c)),d._hueElements=a(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",b),d._selectedColor=a(".k-selected-color-display",b),d._colorAsText=a("input.k-color-value",b),d._sliders(),d._hsvArea(),d._updateUI(d._value||new D(1,0,0,1)),b.find("input.k-color-value").on(w,function(b){if(b.keyCode==o.ENTER)try{var c=g(this.value),e=d.color();d._select(c,c.equals(e))}catch(f){a(this).addClass("k-state-error")}}).end().on(v,".k-controls button.apply",function(){d._select(d._getHSV())}).on(v,".k-controls button.cancel",function(){d._updateUI(d.color()),d._cancel()}),y&&d._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,z.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,messages:t},_applyIEFilter:function(){var a=this.element.find(".k-hue-slider .k-slider-track")[0],b=a.currentStyle.backgroundImage;b=b.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"},_sliders:function(){function a(a){c._updateUI(c._getHSV(a.value,null,null,null))}function b(a){c._updateUI(c._getHSV(null,null,null,a.value/100))}var c=this,d=c.element;c._hueSlider=d.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:a,change:a}).data("kendoSlider"),c._opacitySlider=d.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:b,change:b}).data("kendoSlider")},_hsvArea:function(){function a(a,c){var d=this.offset,e=a-d.left,f=c-d.top,g=this.width,h=this.height;e=0>e?0:e>g?g:e,f=0>f?0:f>h?h:f,b._svChange(e/g,1-f/h)}var b=this,c=b.element,d=c.find(".k-hsv-rectangle"),e=d.find(".k-draghandle").attr("tabIndex",0).on(w,j(b._keydown,b));b._hsvEvents=new k.UserEvents(d,{global:!0,press:function(b){this.offset=k.getOffset(d),this.width=d.width(),this.height=d.height(),e.focus(),a.call(this,b.x.location,b.y.location)},start:function(){d.addClass("k-dragging"),e.focus()},move:function(b){b.preventDefault(),a.call(this,b.x.location,b.y.location)},end:function(){d.removeClass("k-dragging")}}),b._hsvRect=d,b._hsvHandle=e},_onEnable:function(a){this._hueSlider.enable(a),this._opacitySlider&&this._opacitySlider.enable(a),this.wrapper.find("input").attr("disabled",!a);var b=this._hsvRect.find(".k-draghandle");a?b.attr("tabIndex",0):b.removeAttr("tabIndex")},_keydown:function(a){function b(b,c){var e=d._getHSV();e[b]+=c*(a.shiftKey?.01:.05),e[b]<0&&(e[b]=0),e[b]>1&&(e[b]=1),d._updateUI(e),i(a)}function c(b){var c=d._getHSV();c.h+=b*(a.shiftKey?1:5),c.h<0&&(c.h=0),c.h>359&&(c.h=359),d._updateUI(c),i(a)}var d=this;switch(a.keyCode){case o.LEFT:a.ctrlKey?c(-1):b("s",-1);break;case o.RIGHT:a.ctrlKey?c(1):b("s",1);break;case o.UP:b(a.ctrlKey&&d._opacitySlider?"a":"v",1);break;case o.DOWN:b(a.ctrlKey&&d._opacitySlider?"a":"v",-1);break;case o.ENTER:d._select(d._getHSV());break;case o.F2:d.wrapper.find("input.k-color-value").focus().select();break;case o.ESC:d._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(a,b,c,d){var e=this._hsvRect,f=e.width(),g=e.height(),h=this._hsvHandle.position();return null==a&&(a=this._hueSlider.value()),null==b&&(b=h.left/f),null==c&&(c=1-h.top/g),null==d&&(d=this._opacitySlider?this._opacitySlider.value()/100:1),new F(a,b,c,d)},_svChange:function(a,b){var c=this._getHSV(null,a,b,null);this._updateUI(c)},_updateUI:function(a){var b=this,c=b._hsvRect;a&&(this._colorAsText.removeClass("k-state-error"),b._selectedColor.css(p,a.toDisplay()),b._colorAsText.val(b._opacitySlider?a.toCssRgba():a.toCss()),b._triggerSelect(a),a=a.toHSV(),b._hsvHandle.css({left:a.s*c.width()+"px",top:(1-a.v)*c.height()+"px"}),b._hueElements.css(p,new F(a.h,1,1,1).toCss()),b._hueSlider.value(a.h),b._opacitySlider&&b._opacitySlider.value(100*a.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:k.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),C=l.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var a=this.toBytes();return"rgba("+a.r+", "+a.g+", "+a.b+", "+f(this.a)+")"},toDisplay:function(){return y?this.toCss():this.toCssRgba()},equals:function(a){return a===this||null!==a&&this.toCssRgba()==g(a).toCssRgba()},diff:function(a){if(null==a)return 0/0;var b=this.toBytes();return a=a.toBytes(),Math.sqrt(Math.pow(.3*(b.r-a.r),2)+Math.pow(.59*(b.g-a.g),2)+Math.pow(.11*(b.b-a.b),2))},clone:function(){var a=this.toBytes();return a===this&&(a=new E(a.r,a.g,a.b,a.a)),a}}),D=C.extend({init:function(a,b,c,d){this.r=a,this.g=b,this.b=c,this.a=d},toHSV:function(){var a,b,c,d,e,f,g=this.r,h=this.g,i=this.b;return a=Math.min(g,h,i),b=Math.max(g,h,i),f=b,c=b-a,0===c?new F(0,0,f,this.a):(0!==b?(e=c/b,d=g==b?(h-i)/c:h==b?2+(i-g)/c:4+(g-h)/c,d*=60,0>d&&(d+=360)):(e=0,d=-1),new F(d,e,f,this.a))},toBytes:function(){return new E(255*this.r,255*this.g,255*this.b,this.a)}}),E=D.extend({init:function(a,b,c,d){this.r=Math.round(a),this.g=Math.round(b),this.b=Math.round(c),this.a=d},toRGB:function(){return new D(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return e(this.r,2)+e(this.g,2)+e(this.b,2)},toBytes:function(){return this}}),F=C.extend({init:function(a,b,c,d){this.h=a,this.s=b,this.v=c,this.a=d},toRGB:function(){var a,b,c,d,e,f,g,h,i=this.h,j=this.s,k=this.v;if(0===j)b=c=d=k;else switch(i/=60,a=Math.floor(i),e=i-a,f=k*(1-j),g=k*(1-j*e),h=k*(1-j*(1-e)),a){case 0:b=k,c=h,d=f;break;case 1:b=g,c=k,d=f;break;case 2:b=f,c=k,d=h;break;case 3:b=f,c=g,d=k;break;case 4:b=h,c=f,d=k;break;default:b=k,c=f,d=g}return new D(b,c,d,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),G=n.extend({init:function(b,c){var d=this;n.fn.init.call(d,b,c),c=d.options,b=d.element;var e;e=b.val()?g(b.val(),!0):g(c.value,!0),d._value=c.value=e;var f=d.wrapper=a(d._template(c));b.hide().after(f),b.is("input")&&b.appendTo(f),d.enable(!b.attr("disabled"));var h=b.attr("accesskey");h&&(b.attr("accesskey",null),f.attr("accesskey",h)),d.bind("activate",function(a){a.isDefaultPrevented()||d.toggle()}),d._updateUI(e)},destroy:function(){this.wrapper.add("*").off(u),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,n.fn.destroy.call(this)},enable:function(a){var b=this,c=b.wrapper,d=c.children(".k-picker-wrap"),e=d.find(".k-select");0===arguments.length&&(a=!0),b.element.attr("disabled",!a),c.attr("disabled",!a),e.off(u).on("mousedown"+u,i),a?c.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+u,function(){d.addClass("k-state-hover")}).on("mouseleave"+u,function(){d.removeClass("k-state-hover")}).on("focus"+u,function(){d.addClass("k-state-focused")}).on("blur"+u,function(){d.removeClass("k-state-focused")}).on(w,j(b._keydown,b)).on(v,".k-icon",j(b.toggle,b)).on(v,b.options.toolIcon?".k-tool-icon":".k-selected-color",function(){b.trigger("activate")}):c.addClass("k-state-disabled").removeAttr("tabIndex").add("*",c).off(u)},_template:k.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:t,opacity:!1,buttons:!0,preview:!0},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:z.fn.color,value:z.fn.value,_select:z.fn._select,_triggerSelect:z.fn._triggerSelect,_isInputTypeColor:function(){var a=this.element[0];return/^input$/i.test(a.tagName)&&/^color$/i.test(a.type)},_updateUI:function(a){a&&(this._isInputTypeColor()||1==a.a?this.element.val(a.toCss()):this.element.val(a.toCssRgba())),this._triggerSelect(a),this.wrapper.find(".k-selected-color").css(p,a?a.toDisplay():"transparent")},_keydown:function(a){var b=a.keyCode;this._getPopup().visible()?(b==o.ESC?this._selector._cancel():this._selector._keydown(a),i(a)):(b==o.ENTER||b==o.DOWN)&&(this.open(),i(a))},_getPopup:function(){var b=this,c=b._popup;if(!c){var d,e=this.options;d=e.palette?A:B,e._standalone=!1,delete e.select,delete e.change,delete e.cancel;var f=this._selector=new d(a("<div />").appendTo(document.body),e);b._popup=c=f.wrapper.kendoPopup({anchor:b.wrapper}).data("kendoPopup"),f.bind({select:function(a){b._updateUI(g(a.value))},change:function(){b._select(f.color()),b.close()},cancel:function(){b.close()}}),c.bind({close:function(a){if(b.trigger("close"))return a.preventDefault(),void 0;b.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var c=f._selectOnHide();c?b._select(c):(b.wrapper.focus(),b._updateUI(b.color()))},open:function(a){b.trigger("open")?a.preventDefault():b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){f._select(b.color(),!0),f.focus(),b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return c}});m.plugin(A),m.plugin(B),m.plugin(G),k.parseColor=g,k.Color={fromBytes:function(a,b,c,d){return new E(a,b,c,null!=d?d:1)},fromRGB:function(a,b,c,d){return new D(a,b,c,null!=d?d:1)},fromHSV:function(a,b,c,d){return new F(a,b,c,null!=d?d:1)}}}(jQuery,parseInt),function(a,b){function c(b){return a.trim(b).replace(/&nbsp;/gi,"")}var d=window.kendo,e=d.ui,f=a.proxy,g=a.extend,h=a.grep,i=a.map,j=a.inArray,k="k-state-selected",l="asc",m="desc",n="change",o="init",p="kendoPopup",q="kendoFilterMenu",r="kendoMenu",s=".kendoColumnMenu",t=/(\[|\]|\$|\.|\:|\+)/g,u=e.Widget,v=u.extend({init:function(b,c){var e,g=this;u.fn.init.call(g,b,c),b=g.element,c=g.options,g.owner=c.owner,g.dataSource=c.dataSource,g.field=b.attr(d.attr("field")),e=b.find(".k-header-column-menu"),e[0]||(e=b.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),g.link=e.attr("tabindex",-1).on("click"+s,f(g._click,g)),g.wrapper=a('<div class="k-column-menu"/>')},_init:function(){var a=this,b=a.options;a.wrapper.html(d.template(w)({ns:d.ns,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns})),a.popup=a.wrapper[p]({anchor:a.link,open:f(a._open,a),activate:f(a._activate,a),close:a.options.closeCallback}).data(p),a._menu(),a._sort(),a._columns(),a._filter(),a.trigger(o,{field:a.field,container:a.wrapper})},events:[o],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns"},columns:!0,sortable:!0,filterable:!0},destroy:function(){var a=this;u.fn.destroy.call(a),a.filterMenu&&a.filterMenu.destroy(),a._refreshHandler&&a.dataSource.unbind(n,a._refreshHandler),a.options.columns&&(a.owner.unbind("columnShow",a._updateColumnsMenuHandler),a.owner.unbind("columnHide",a._updateColumnsMenuHandler)),a.menu&&(a.menu.element.off(s),a.menu.destroy()),a.wrapper.off(s),a.popup&&a.popup.destroy(),a.link.off(s)},close:function(){this.menu.close(),this.popup.close(),this.popup.element.off("keydown"+s)},_click:function(a){a.preventDefault(),a.stopPropagation(),this.popup||this._init(),this.popup.toggle()},_open:function(){var b=this;a(".k-column-menu").not(b.wrapper).each(function(){a(this).data(p).close()}),b.popup.element.on("keydown"+s,function(a){a.keyCode==d.keys.ESC&&b.close()})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var a=this.owner.columns,b=h(a,function(a){var b=!0,d=c(a.title||"");return(a.menu===!1||!a.field&&!d.length)&&(b=!1),b});return i(b,function(b){return{originalField:b.field,field:b.field||b.title,title:b.title||b.field,hidden:b.hidden,index:j(b,a)}})},_menu:function(){this.menu=this.wrapper.children()[r]({orientation:"vertical",closeOnClick:!1}).data(r)},_sort:function(){var b=this;b.options.sortable&&(b.refresh(),b._refreshHandler=f(b.refresh,b),b.dataSource.bind(n,b._refreshHandler),b.menu.bind("select",function(c){var d,e=a(c.item);e.hasClass("k-sort-asc")?d=l:e.hasClass("k-sort-desc")&&(d=m),d&&(e.parent().find(".k-sort-"+(d==l?m:l)).removeClass(k),b._sortDataSource(e,d),b.close())}))},_sortDataSource:function(a,c){var d,e,f=this,g=f.options.sortable,h=f.dataSource,i=h.sort()||[];if(a.hasClass(k)&&g&&g.allowUnsort!==!1?(a.removeClass(k),c=b):a.addClass(k),g===!0||"single"===g.mode)i=[{field:f.field,dir:c}];else{for(d=0,e=i.length;e>d;d++)if(i[d].field===f.field){i.splice(d,1);break}i.push({field:f.field,dir:c})}h.sort(i)},_columns:function(){var b=this;b.options.columns&&(b._updateColumnsMenu(),b._updateColumnsMenuHandler=f(b._updateColumnsMenu,b),b.owner.bind(["columnHide","columnShow"],b._updateColumnsMenuHandler),b.menu.bind("select",function(c){var e,f,g,i,k=a(c.item),l=b.owner.columns;k.parent().closest("li.k-columns-item")[0]&&(e=k.find(":checkbox"),e.attr("disabled")||(i=e.attr(d.attr("field")),g=h(l,function(a){return a.field==i||a.title==i})[0],f=j(g,l),g.hidden===!0?b.owner.showColumn(f):b.owner.hideColumn(f)))}))},_updateColumnsMenu:function(){var a="["+d.attr("field")+"=",b=this._ownerColumns(),c=i(b,function(b){return a+'"'+b.field.replace(t,"\\$1")+'"]'}).join(","),e=h(b,function(a){return!a.hidden}),f=h(e,function(a){return a.originalField}).length,g=i(e,function(b){return a+'"'+b.field.replace(t,"\\$1")+'"]'}).join(",");this.wrapper.find(c).prop("checked",!1),this.wrapper.find(g).prop("checked",!0).prop("disabled",1==f)},_filter:function(){var a=this,b=a.options;b.filterable!==!1&&(a.filterMenu=a.wrapper.find(".k-filterable")[q](g(!0,{},{appendToElement:!0,dataSource:b.dataSource,values:b.values,field:a.field},b.filterable)).data(q))},refresh:function(){var a,b,c,d=this,e=d.options.dataSource.sort()||[],f=d.field;for(d.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(k),b=0,c=e.length;c>b;b++)a=e[b],f==a.field&&d.wrapper.find(".k-sort-"+a.dir).addClass(k)}}),w='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var col in columns) {#<li><input type="checkbox" data-#=ns#field="#=columns[col].field#" data-#=ns#index="#=columns[col].index#"/>#=columns[col].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';e.plugin(v)}(window.kendo.jQuery),kendo_module({id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-paging",name:"Paging",description:"Suppot for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-sorting",name:"Sorting",description:"Support for grid sorting",depends:["sortable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]}]}),function(a,b){function c(a){return new Array(a+1).join('<td class="k-group-cell">&nbsp;</td>')}function d(a){var b,c=" ";if(a){if(typeof a===pb)return a;for(b in a)c+=b+'="'+a[b]+'"'}return c}function e(b){var c=0;return a("> .k-grouping-header, > .k-grid-toolbar",b).each(function(){c+=this.offsetHeight}),c}function f(b,c){a("th, th .k-grid-filter, th .k-link",b).add(document.body).css("cursor",c)}function g(a){var b,c,d={},e={};if(!J(a))for(F(a)||(a=[a]),b=0,c=a.length;c>b;b++)d[a[b].aggregate]=0,e[a[b].field]=d;return e}function h(a,b,c){var d=a.eq(b),e=a.eq(c);d[b>c?"insertBefore":"insertAfter"](e)}function i(a,b,c){var d,e,f,g;for(c=F(c)?c:[c],d=0,e=c.length;e>d;d++)f=c[d],B(f)&&f.click&&(g=f.name||f.text,b.on(lb+V,"a.k-grid-"+(g||"").replace(/\s/g,""),{commandName:g},H(f.click,a)))}function j(a){return E(a,function(a){return!a.hidden})}function k(a){a=a||{};var b=a.style;return b?(b=b.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),b===a.style&&(b=b.replace(/(.*)?/i,"display:none;$1"))):b="display:none",C({},a,{style:b})}function l(a){a=a||{};var b=a.style;return b&&(a.style=b.replace(/(display\s*:\s*none\s*;?)*/gi,"")),a}function m(b,c,d,e){var f,g=b.find(">colgroup"),h=D(c,function(a){return f=a.width,f&&0!==parseInt(f,10)?t.format('<col style="width:{0}"/>',typeof f===pb?f:f+"px"):"<col />"});(d||g.find(".k-hierarchy-col").length)&&h.splice(0,0,'<col class="k-hierarchy-col" />'),g.length&&g.remove(),g=a(new Array(e+1).join('<col class="k-group-col">')+h.join("")),g.is("colgroup")||(g=a("<colgroup/>").append(g)),b.prepend(g),xb.msie&&8==xb.version&&(b.css("display","inline-table"),window.setTimeout(function(){b.css("display","")},1))}function n(a){var b,c,d,e={};for(c=0,d=a.length;d>c;c++)b=a[c],e[b.value]=b.text;return e}function o(a,b,c){var d=c&&c.length&&B(c[0])&&"value"in c[0],e=d?n(c)[a]:a;return e=null!=e?e:"",b?t.format(b,e):e}function p(a,b,c){for(var d,e=0,f=a[e];f;){if(d=c?!0:"none"!==f.style.display,d&&!ub.test(f.className)&&--b<0){f.style.display=c?"":"none";break}f=a[++e]}}function q(a,b){var c,d,e;if(typeof a===pb&&a===b)return a;if(B(a)&&a.name===b)return a;if(F(a))for(c=0,d=a.length;d>c;c++)if(e=a[c],typeof e===pb&&e===b||e.name===b)return e;return null}function r(b,c){var d=xb.msie;if(c===!0){b=a(b);var e,f,g=d&&b.parent().is(".k-grid-content,.k-grid-header-wrap");if(g&&(e=b.parent().scrollTop(),f=b.parent().scrollLeft()),d)try{b[0].setActive()}catch(h){b[0].focus()}else b[0].focus();g&&(b.parent().scrollTop(e),b.parent().scrollLeft(f))}else a(b).one("focusin",function(a){a.preventDefault()}).focus()}function s(b){var c=a(b.currentTarget),d=c.is("th"),e=c.closest("table")[0];t.support.touch||(e===this.table[0]||e===this.thead.parent()[0])&&(this.current(c),(d||!a(b.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input,.k-multiselect-wrap"))&&setTimeout(function(){r(e,!0)}),d&&b.preventDefault())}var t=window.kendo,u=t.ui,v=t.data.DataSource,w=u.Groupable,x=t.support.tbodyInnerHtml,y=t._activeElement,z=u.Widget,A=t.keys,B=a.isPlainObject,C=a.extend,D=a.map,E=a.grep,F=a.isArray,G=a.inArray,H=a.proxy,I=a.isFunction,J=a.isEmptyObject,K=Math,L="progress",M="error",N=":not(.k-group-cell):not(.k-hierarchy-cell):visible",O="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",P="tr:not(.k-footer-template):visible",Q=":not(.k-group-cell):not(.k-hierarchy-cell):visible",R=P+":first>"+Q+":first",S="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",T=S+":visible["+t.attr("field")+"]",U=S+"["+t.attr("field")+"]",V=".kendoGrid",W="edit",X="save",Y="remove",Z="detailInit",$="filterMenuInit",_="columnMenuInit",ab="change",bb="columnHide",cb="columnShow",db="saveChanges",eb="dataBound",fb="detailExpand",gb="detailCollapse",hb="k-state-focused",ib="k-state-selected",jb="columnResize",kb="columnReorder",lb="click",mb="height",nb="tabIndex",ob="function",pb="string",qb="Are you sure you want to delete this record?",rb=/(\}|\#)/gi,sb=/#/gi,tb="[\\x20\\t\\r\\n\\f]",ub=new RegExp("(^|"+tb+")"+"(k-group-cell|k-hierarchy-cell)"+"("+tb+"|$)"),vb='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',wb=!1,xb=t.support.browser,yb=xb.msie&&7==xb.version,zb=z.extend({init:function(a,b){var c=this;z.fn.init.call(c,a,b),c._refreshHandler=H(c.refresh,c),c.setDataSource(b.dataSource),c.wrap()},setDataSource:function(a){var b=this;b.dataSource&&b.dataSource.unbind(ab,b._refreshHandler),b.dataSource=a,b.dataSource.bind(ab,b._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:a.noop},destroy:function(){var a=this;z.fn.destroy.call(a),a.dataSource.unbind(ab,a._refreshHandler),a.wrapper.add(a.verticalScrollbar).off(V),a.drag&&a.drag.destroy()},wrap:function(){var b,c=this,d=t.support.scrollbar()+1,e=c.element;e.css({width:"auto",overflow:"hidden"}).css(wb?"padding-left":"padding-right",d),c.content=e.children().first(),b=c.wrapper=c.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+V+" mousewheel"+V,H(c._wheelScroll,c)),t.support.kineticScrollNeeded&&(c.drag=new t.UserEvents(c.wrapper,{global:!0,move:function(a){c.verticalScrollbar.scrollTop(c.verticalScrollbar.scrollTop()-a.y.delta),b.scrollLeft(b.scrollLeft()-a.x.delta),a.preventDefault()}})),c.verticalScrollbar=a('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:d}).appendTo(e).bind("scroll"+V,H(c._scroll,c))},_wheelScroll:function(a){var c,d=this,e=d.verticalScrollbar.scrollTop(),f=a.originalEvent,g=f.wheelDeltaY;f.wheelDelta?(g===b||g)&&(c=f.wheelDelta):f.detail&&f.axis===f.VERTICAL_AXIS&&(c=10*-f.detail),c&&(a.preventDefault(),d.verticalScrollbar.scrollTop(e+-c))},_scroll:function(a){var b=this,c=a.currentTarget.scrollTop,d=b.dataSource,e=b.itemHeight,f=d.skip()||0,g=b._rangeStart||f,h=b.element.innerHeight(),i=!!(b._scrollbarTop&&b._scrollbarTop>c),j=K.max(K.floor(c/e),0),k=K.max(j+K.floor(h/e),0);b._scrollTop=c-g*e,b._scrollbarTop=c,b._fetch(j,k,i)||(b.wrapper[0].scrollTop=b._scrollTop)},_fetch:function(a,b,c){var d=this,e=d.dataSource,f=d.itemHeight,g=e.take(),h=d._rangeStart||e.skip()||0,i=K.floor(a/g)*g,j=!1,k=.33;return h>a?(j=!0,h=K.max(0,b-g),d._scrollTop=(a-h)*f,d._page(h,g)):b>=h+g&&!c?(j=!0,h=a,d._scrollTop=f,d._page(h,g)):d._fetching||(i+g-g*k>a&&a>g&&e.prefetch(i-g,g),b>i+g*k&&e.prefetch(i+g,g)),j},_page:function(a,b){var c=this,d=c.dataSource;clearTimeout(c._timeout),c._fetching=!0,c._rangeStart=a,d.inRange(a,b)?d.range(a,b):(t.ui.progress(c.wrapper.parent(),!0),c._timeout=setTimeout(function(){d.range(a,b)},100))},refresh:function(){var a,b,c,d=this,e="",f=25e4,g=d.dataSource,h=d._rangeStart,i=t.support.kineticScrollNeeded?0:t.support.scrollbar(),j=d.wrapper[0];t.ui.progress(d.wrapper.parent(),!1),clearTimeout(d._timeout),c=d.itemHeight=d.options.itemHeight()||0;var k=j.scrollWidth>j.offsetWidth?i:0;for(a=g.total()*c+k,b=0;b<K.floor(a/f);b++)e+='<div style="width:1px;height:'+f+'px"></div>';a%f&&(e+='<div style="width:1px;height:'+a%f+'px"></div>'),d.verticalScrollbar.html(e),j.scrollTop=d._scrollTop,d.drag&&d.drag.cancel(),h&&!d._fetching&&(d._rangeStart=g.skip()),d._fetching=!1}}),Ab={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},Bb=z.extend({init:function(a,b){var c=this;b=F(b)?{dataSource:b}:b,z.fn.init.call(c,a,b),wb=t.support.isRtl(a),c._element(),c._aria(),c._columns(c.options.columns),c._dataSource(),c._tbody(),c._pageable(),c._thead(),c._groupable(),c._toolbar(),c._setContentHeight(),c._templates(),c._navigatable(),c._selectable(),c._details(),c._editable(),c._attachCustomCommandsEvent(),c.options.autoBind?c.dataSource.fetch():c._footer(),t.notify(c)},events:[ab,"dataBinding","cancel",eb,fb,gb,Z,$,_,W,X,Y,db,jb,kb,cb,bb],setDataSource:function(a){var b=this;b.options.dataSource=a,b._dataSource(),b._pageable(),b.options.groupable&&b._groupable(),b._thead(),b.virtualScrollable&&b.virtualScrollable.setDataSource(b.options.dataSource),b.options.autoBind&&a.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var a,b=this;z.fn.destroy.call(b),b.pager&&b.pager.destroy(),b.groupable&&b.groupable.destroy(),b.options.reorderable&&b.wrapper.data("kendoReorderable").destroy(),b.resizable&&b.resizable.destroy(),b.virtualScrollable&&b.virtualScrollable.destroy(),b._destroyColumnAttachments(),b._destroyEditable(),b.dataSource.unbind(ab,b._refreshHandler).unbind(L,b._progressHandler).unbind(M,b._errorHandler),a=b.element.add(b.wrapper).add(b.table).add(b.thead).add(b.wrapper.find(">.k-grid-toolbar")),b.content&&(a=a.add(b.content).add(b.content.find(">.k-virtual-scrollable-wrap"))),a.off(V),t.destroy(b.wrapper)},setOptions:function(a){var b=this;z.fn.setOptions.call(this,a),b._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var b=this;b.resizeHandle=null,b.thead.find("th").each(function(){var b=a(this),c=b.data("kendoFilterMenu"),d=b.data("kendoSortable"),e=b.data("kendoColumnMenu");c&&c.destroy(),d&&d.destroy(),e&&e.destroy()})},_attachCustomCommandsEvent:function(){var a,b,c,d=this,e=d.columns||[];for(b=0,c=e.length;c>b;b++)a=e[b].command,a&&i(d,d.wrapper,a)},_aria:function(){var a=this.element.attr("id")||"aria";a&&(this._cellId=a+"_active_cell")},_element:function(){var b=this,c=b.element;c.is("table")||(c=b.options.scrollable?b.element.find("> .k-grid-content > table"):b.element.children("table"),c.length||(c=a("<table />").appendTo(b.element))),yb&&c.attr("cellspacing",0),b.table=c.attr("role",b._hasDetails()?"treegrid":"grid"),b._wrapper()},_positionColumnResizeHandle:function(b){var c,d=this,g=d.options.scrollable,h=d.resizeHandle,i=d.options.columnResizeHandleWidth;d.thead.on("mousemove"+V,"th:not(.k-group-cell,.k-hierarchy-cell)",function(j){var k=a(this),l=j.clientX,m=a(window).scrollLeft(),n=k.offset().left+(wb?0:this.offsetWidth);if(l+m>n-i&&n+i>l+m){if(h||(h=d.resizeHandle=a('<div class="k-resize-handle"/>'),b.append(h)),wb){var o=k.closest(".k-grid-header-wrap"),p=xb.msie?o.scrollLeft():0,q=xb.webkit?o[0].scrollWidth-o[0].offsetWidth-o.scrollLeft():0,r=xb.mozilla?o[0].scrollWidth-o[0].offsetWidth-(o[0].scrollWidth-o[0].offsetWidth-o.scrollLeft()):0;c=k.position().left-q+r-p}else c=this.offsetWidth,k.prevAll(":visible").each(function(){c+=this.offsetWidth});h.css({top:g?0:e(d.wrapper),left:c-i,height:k.outerHeight(),width:3*i}).data("th",k).show()}else h?h.hide():f(d.wrapper,"")})},_resizable:function(){var b,c,d,e,g,h,i=this,j=i.options;j.resizable&&(b=j.scrollable?i.wrapper.find(".k-grid-header-wrap:first"):i.wrapper,i._positionColumnResizeHandle(b),i.resizable=new u.Resizable(b,{handle:".k-resize-handle",hint:function(b){return a('<div class="k-grid-resize-indicator" />').css({height:b.data("th").outerHeight()+i.tbody.attr("clientHeight")})},start:function(b){h=a(b.currentTarget).data("th");var k=a.inArray(h[0],h.parent().children(":visible")),l=i.tbody.parent(),m=i.footer||a();f(i.wrapper,"col-resize"),g=j.scrollable?i.thead.parent().find("col:eq("+k+")").add(l.children("colgroup").find("col:eq("+k+")")).add(m.find("colgroup").find("col:eq("+k+")")):l.children("colgroup").find("col:eq("+k+")"),c=b.x.location,d=h.outerWidth(),e=i.tbody.outerWidth()},resize:function(b){var f=wb?-1:1,h=d+b.x.location*f-c*f,k=i.footer||a();h>10&&(g.css("width",h),j.scrollable&&e&&(i._footerWidth=e+b.x.location*f-c*f,i.tbody.parent().add(i.thead.parent()).add(k.find("table")).css("width",i._footerWidth)))},resizeend:function(){var a,b=h.outerWidth();f(i.wrapper,""),d!=b&&(a=i.columns[h.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(h)],a.width=b,i.trigger(jb,{column:a,oldWidth:d,newWidth:b})),i.resizeHandle.hide(),h=null}}))},_draggable:function(){var b=this;b.options.reorderable&&(b._draggableInstance&&b._draggableInstance.destroy(),b._draggableInstance=b.wrapper.kendoDraggable({group:t.guid(),filter:b.content?".k-grid-header:first "+S:"table:first>.k-grid-header "+S,hint:function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(t.attr("title"))||b.attr(t.attr("field"))||b.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var a=this;a.options.reorderable&&a.wrapper.kendoReorderable({draggable:a._draggableInstance,change:function(b){var c=G(a.columns[b.newIndex],a.columns),d=a.columns[b.oldIndex];a.trigger(kb,{newIndex:c,oldIndex:G(d,a.columns),column:d}),a.reorderColumn(c,d)
}})},reorderColumn:function(a,b){var c,d,e,f=this,g=G(b,f.columns),i=G(b,j(f.columns)),k=G(f.columns[a],j(f.columns)),l=f.footer||f.wrapper.find(".k-grid-footer");if(g!==a)for(f.columns.splice(g,1),f.columns.splice(a,0,b),f._templates(),h(f.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),i,k),f.options.scrollable&&h(f.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),i,k),h(f.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),g,a),l&&l.length&&(h(l.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),i,k),h(l.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),g,a)),c=f.tbody.children(":not(.k-grouping-row,.k-detail-row)"),d=0,e=c.length;e>d;d+=1)h(c.eq(d).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),g,a)},cellIndex:function(b){return a(b).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(b)},_modelForContainer:function(b){b=a(b),b.is("tr")||"popup"===this._editMode()||(b=b.closest("tr"));var c=b.attr(t.attr("uid"));return this.dataSource.getByUid(c)},_editable:function(){var b=this,c=b.selectable&&b.selectable.options.multiple,d=b.options.editable,e=function(){var c=y(),d=b._editContainer;!d||a.contains(d[0],c)||d[0]===c||a(c).closest(".k-animation-container").length||b.editable.end()&&b.closeCell()};if(d){var f=b._editMode();"incell"===f?d.update!==!1&&b.wrapper.on(lb+V,"tr:not(.k-grouping-row) > td",function(d){var e=a(this);e.hasClass("k-hierarchy-cell")||e.hasClass("k-detail-cell")||e.hasClass("k-group-cell")||e.hasClass("k-edit-cell")||e.has("a.k-grid-delete").length||e.has("button.k-grid-delete").length||e.closest("tbody")[0]!==b.tbody[0]||a(d.target).is(":input")||(b.editable?b.editable.end()&&(c&&a(y()).blur(),b.closeCell(),b.editCell(e)):b.editCell(e))}).on("focusin"+V,function(){clearTimeout(b.timer),b.timer=null}).on("focusout"+V,function(){b.timer=setTimeout(e,1)}):d.update!==!1&&b.wrapper.on(lb+V,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(c){c.preventDefault(),b.editRow(a(this).closest("tr"))}),d.destroy!==!1?b.wrapper.on(lb+V,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(c){c.preventDefault(),c.stopPropagation(),b.removeRow(a(this).closest("tr"))}):b.wrapper.on(lb+V,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(a){b._confirmation()||a.preventDefault()})}},editCell:function(b){b=a(b);var c=this,d=c.columns[c.cellIndex(b)],e=c._modelForContainer(b);!e||e.editable&&!e.editable(d.field)||d.command||!d.field||(c._attachModelChange(e),c._editContainer=b,c.editable=b.addClass("k-edit-cell").kendoEditable({fields:{field:d.field,format:d.format,editor:d.editor,values:d.values},model:e,change:function(a){c.trigger(X,{values:a.values,container:b,model:e})&&a.preventDefault()}}).data("kendoEditable"),b.parent().addClass("k-grid-edit-row"),c.trigger(W,{container:b,model:e}))},_destroyEditable:function(){var a=this,b=function(){a.editable&&(a._detachModelChange(),a.editable.destroy(),a.editable=null,a._editContainer=null)};a.editable&&("popup"===a._editMode()?a._editContainer.data("kendoWindow").bind("deactivate",b).close():b())},_attachModelChange:function(a){var b=this;b._modelChangeHandler=function(a){b._modelChange({field:a.field,model:this})},a.bind("change",b._modelChangeHandler)},_detachModelChange:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b);c&&c.unbind(ab,a._modelChangeHandler)},closeCell:function(b){var c,d,e,f=this,g=f._editContainer;g&&(c=g.closest("tr").attr(t.attr("uid")),e=f.dataSource.getByUid(c),b&&f.trigger("cancel",{container:g,model:e})||(g.removeClass("k-edit-cell"),d=f.columns[f.cellIndex(g)],g.parent().removeClass("k-grid-edit-row"),f._destroyEditable(),f._displayCell(g,d,e),g.hasClass("k-dirty-cell")&&a('<span class="k-dirty"/>').prependTo(g)))},_displayCell:function(a,b,c){var d=this,e={storage:{},count:0},f=C({},t.Template,d.options.templateSettings),g=t.template(d._cellTmpl(b,e),f);e.count>0&&(g=H(g,e.storage)),a.empty().html(g(c))},removeRow:function(b){var c,d,e=this;e._confirmation()&&(b=a(b).hide(),c=e._modelForContainer(b),c&&!e.trigger(Y,{row:b,model:c})&&(d=e._editMode(),"incell"!==d&&e.cancelRow(),e.dataSource.remove(c),("inline"===d||"popup"===d)&&e.dataSource.sync()))},_editMode:function(){var a="incell",b=this.options.editable;return b!==!0&&(a="string"==typeof b?b:b.mode||a),a},editRow:function(b){b=a(b);var c,d=this,e=d._modelForContainer(b),f=d._editMode(),g=d.options.navigatable;d.cancelRow(),e&&(d._attachModelChange(e),"popup"===f?d._createPopupEditor(e):"inline"===f?d._createInlineEditor(b,e):"incell"===f&&a(b).children(N).each(function(){var b=a(this),c=d.columns[b.index()];return e=d._modelForContainer(b),e&&(!e.editable||e.editable(c.field))&&c.field?(d.editCell(b),!1):void 0}),c=d._editContainer,c.on(lb+V,"a.k-grid-cancel",function(b){if(b.preventDefault(),b.stopPropagation(),!d.trigger("cancel",{container:c,model:e})){var f=d.items().index(a(d.current()).parent());d.cancelRow(),g&&(d.current(d.items().eq(f).children().filter(Q).first()),r(d.table,!0))}}),c.on(lb+V,"a.k-grid-update",function(a){a.preventDefault(),a.stopPropagation(),d.saveRow()}))},_createPopupEditor:function(b){var c,d,e,f,g,h,i,j,k,l=this,m="<div "+t.attr("uid")+'="'+b.uid+'" class="k-popup-edit-form"><div class="k-edit-form-container">',n=[],o=l.options.editable,p=o.template,s=B(o)?o.window:{},u=C({},t.Template,l.options.templateSettings);if(p)for(typeof p===pb&&(p=window.unescape(p)),m+=t.template(p,u)(b),e=0,f=l.columns.length;f>e;e++)c=l.columns[e],c.command&&(j=q(c.command,"edit"),j&&(d=j));else for(e=0,f=l.columns.length;f>e;e++)if(c=l.columns[e],c.command)c.command&&(j=q(c.command,"edit"),j&&(d=j));else if(m+='<div class="k-edit-label"><label for="'+c.field+'">'+(c.title||c.field||"")+"</label></div>",b.editable&&!b.editable(c.field)||!c.field){var v={storage:{},count:0};g=t.template(l._cellTmpl(c,v),u),v.count>0&&(g=H(g,v.storage)),m+='<div class="k-edit-field">'+g(b)+"</div>"}else n.push({field:c.field,format:c.format,editor:c.editor,values:c.values}),m+="<div "+t.attr("container-for")+'="'+c.field+'" class="k-edit-field"></div>';d&&B(d)&&(d.text&&B(d.text)&&(h=d.text.update,i=d.text.cancel),d.attr&&(k=d.attr)),m+='<div class="k-edit-buttons k-state-default">',m+=l._createButton({name:"update",text:h,attr:k})+l._createButton({name:"canceledit",text:i,attr:k}),m+="</div></div></div>";var w=l._editContainer=a(m).appendTo(l.wrapper).eq(0).kendoWindow(C({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(c){if(c.userTriggered){if(l.trigger("cancel",{container:w,model:b}))return c.preventDefault(),void 0;var d=l.items().index(a(l.current()).parent());l.cancelRow(),l.options.navigatable&&(l.current(l.items().eq(d).children().filter(Q).first()),r(l.table,!0))}}},s));l.editable=l._editContainer.kendoEditable({fields:n,model:b,clearContainer:!1}).data("kendoEditable"),w.data("kendoWindow").center().open(),l.trigger(W,{container:w,model:b})},_createInlineEditor:function(b,c){var d,e,f,g=this,h=[];b.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(e=a(this),d=g.columns[g.cellIndex(e)],d.command||!d.field||c.editable&&!c.editable(d.field)){if(d.command&&(f=q(d.command,"edit"))){e.empty();var b,i,j;B(f)&&(f.text&&B(f.text)&&(b=f.text.update,i=f.text.cancel),f.attr&&(j=f.attr)),a(g._createButton({name:"update",text:b,attr:j})+g._createButton({name:"canceledit",text:i,attr:j})).appendTo(e)}}else h.push({field:d.field,format:d.format,editor:d.editor,values:d.values}),e.attr(t.attr("container-for"),d.field),e.empty()}),g._editContainer=b,g.editable=b.addClass("k-grid-edit-row").kendoEditable({fields:h,model:c,clearContainer:!1}).data("kendoEditable"),g.trigger(W,{container:b,model:c})},cancelRow:function(){var a,b=this,c=b._editContainer;c&&(a=b._modelForContainer(c),b.dataSource.cancelChanges(a),"popup"!==b._editMode()?b._displayRow(c):b._displayRow(b.items().filter("["+t.attr("uid")+"="+a.uid+"]")),b._destroyEditable())},saveRow:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b),d=a.editable;b&&d&&d.end()&&!a.trigger(X,{container:b,model:c})&&a.dataSource.sync()},_displayRow:function(b){var c=this,d=c._modelForContainer(b);d&&b.replaceWith(a((b.hasClass("k-alt")?c.altRowTemplate:c.rowTemplate)(d)))},_showMessage:function(a){return window.confirm(a)},_confirmation:function(){var a=this,b=a.options.editable,c=b===!0||typeof b===pb?qb:b.confirmation;return c!==!1&&null!=c?a._showMessage(c):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var a=this;(a.editable&&a.editable.end()||!a.editable)&&!a.trigger(db)&&a.dataSource.sync()},addRow:function(){var a,b=this,c=b.dataSource,d=b._editMode(),e=b.options.editable.createAt||"",f=c.pageSize(),g=c.view()||[];if(b.editable&&b.editable.end()||!b.editable){"incell"!=d&&b.cancelRow(),a=c.indexOf(g[0]),"bottom"==e.toLowerCase()&&(a+=g.length,f&&!c.options.serverPaging&&f<=g.length&&(a-=1)),0>a&&(a=c.page()>c.totalPages()?(c.page()-1)*f:0);var h=c.insert(a,{}),i=h.uid,j=b.table.find("tr["+t.attr("uid")+"="+i+"]"),k=j.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(b._firstEditableColumnIndex(j));"inline"!==d&&"popup"!==d||!j.length?k.length&&b.editCell(k):b.editRow(j)}},_firstEditableColumnIndex:function(a){var b,c,d,e=this,f=e.columns,g=e._modelForContainer(a);for(c=0,d=f.length;d>c;c++)if(b=f[c],g&&(!g.editable||g.editable(b.field))&&!b.command&&b.field)return c;return-1},_toolbar:function(){var b,c=this,d=c.wrapper,e=c.options.toolbar,f=c.options.editable;e&&(b=c.wrapper.find(".k-grid-toolbar"),b.length||(I(e)||(e=typeof e===pb?e:c._toolbarTmpl(e).replace(sb,"\\#"),e=H(t.template(e),c)),b=a('<div class="k-toolbar k-grid-toolbar" />').html(e({})).prependTo(d)),f&&f.create!==!1&&b.on(lb+V,".k-grid-add",function(a){a.preventDefault(),c.addRow()}).on(lb+V,".k-grid-cancel-changes",function(a){a.preventDefault(),c.cancelChanges()}).on(lb+V,".k-grid-save-changes",function(a){a.preventDefault(),c.saveChanges()}))},_toolbarTmpl:function(a){var b,c,d=this,e="";if(F(a))for(b=0,c=a.length;c>b;b++)e+=d._createButton(a[b]);return e},_createButton:function(a){var b=a.template||vb,c=typeof a===pb?a:a.name||a.text,e=Ab[c]?Ab[c].className:"k-grid-"+(c||"").replace(/\s/g,""),f={className:e,text:c,imageClass:"",attr:"",iconClass:""};if(!(c||B(a)&&a.template))throw new Error("Custom commands should have name specified");return B(a)?(a.className&&(a.className+=" "+f.className),"edit"===c&&B(a.text)&&(a=C(!0,{},a),a.text=a.text.edit),a.attr&&B(a.attr)&&(a.attr=d(a.attr)),f=C(!0,f,Ab[c],a)):f=C(!0,f,Ab[c]),t.template(b)(f)},_groupable:function(){var b=this;b._groupableClickHandler?b.table.off(lb+V,b._groupableClickHandler):b._groupableClickHandler=function(c){var d=a(this),e=d.closest("tr");d.hasClass("k-i-collapse")?b.collapseGroup(e):b.expandGroup(e),c.preventDefault(),c.stopPropagation()},b.table.on(lb+V,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",b._groupableClickHandler),b._attachGroupable()},_attachGroupable:function(){var b=this,c=b.wrapper,d=b.options.groupable;d&&(c.has("div.k-grouping-header")[0]||a("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(c),b.groupable&&b.groupable.destroy(),b.groupable=new w(c,C({},d,{draggable:b._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:b.dataSource,draggableElements:b.content?".k-grid-header:first "+T:"table:first>.k-grid-header "+T,filter:b.content?".k-grid-header:first "+U:"table:first>.k-grid-header "+U,allowDrag:b.options.reorderable})))},_selectable:function(){var a,b,c=this,d=c.options.selectable;d&&(a=typeof d===pb&&d.toLowerCase().indexOf("multiple")>-1,b=typeof d===pb&&d.toLowerCase().indexOf("cell")>-1,c.selectable=new t.ui.Selectable(c.table,{filter:">"+(b?O:"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:!0,multiple:a,change:function(){c.trigger(ab)}}),c.options.navigatable&&c.table.on("keydown"+V,function(d){var e=c.current();if(d.keyCode===A.SPACEBAR&&d.target==c.table[0]&&!e.is(".k-edit-cell,.k-header")&&e.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(d.preventDefault(),d.stopPropagation(),e=b?e:e.parent(),a)if(d.ctrlKey){if(e.hasClass(ib))return e.removeClass(ib),c.trigger(ab),void 0}else c.selectable.clear();else c.selectable.clear();c.selectable.value(e)}}))},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(ab)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),d.value(b),void 0):d.value()},current:function(c){var d=this,e=d.options.scrollable,f=d._current,g=d.table.add(d.thead.parent());return c!==b&&c.length&&(f&&f[0]===c[0]||(f&&(f.removeClass(hb).removeAttr("id"),g.removeAttr("aria-activedescendant")),c.attr("id",d._cellId),d._current=c.addClass(hb),g.attr("aria-activedescendant",d._cellId),c.length&&e&&(a.contains(d.content[0],c[0])&&d._scrollTo(c.parent()[0],d.content[0]),e.virtual?d._scrollTo(c[0],d.content.find(">.k-virtual-scrollable-wrap")[0]):d._scrollTo(c[0],d.content[0])))),d._current},_removeCurrent:function(){this._current&&(this._current.removeClass(hb),this._current=null)},_scrollTo:function(a,b){var c=a.tagName.toLowerCase(),d="td"===c||"th"===c,e=a[d?"offsetLeft":"offsetTop"],f=a[d?"offsetWidth":"offsetHeight"],g=b[d?"scrollLeft":"scrollTop"],h=b[d?"clientWidth":"clientHeight"],i=e+f,j=0;j=g>e?e:i>g+h?h>=f?i-h:e:g,b[d?"scrollLeft":"scrollTop"]=j},_navigatable:function(){var b=this,c=H(b.current,b),d=b.table,e=b.thead.parent(),f=d,g=t.support.isRtl(b.element);b.options.navigatable&&(b.options.scrollable&&(f=d.add(e),e.attr(nb,-1)),e.on("keydown"+V,function(a){a.altKey&&a.keyCode==A.DOWN&&(c().find(".k-grid-filter, .k-header-column-menu").click(),a.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),d.attr(nb,K.max(d.attr(nb)||0,0)).on("mousedown"+V+" keydown"+V,".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()}),f.on(t.support.touch?"touchstart"+V:"mousedown"+V,P+">"+Q,H(s,b)).on("focus"+V,function(){if(!t.support.touch){var b=c();b&&b.is(":visible")?b.addClass(hb):c(a(this).find(R)),this==d[0]?(e.attr(nb,-1),d.attr(nb,0)):(d.attr(nb,-1),e.attr(nb,0))}}).on("focusout"+V,function(){var a=c();a&&a.removeClass(hb)}).on("keydown"+V,function(e){var f,h,i,j,k,l=e.keyCode,m=!1,n=!e.isDefaultPrevented()&&!a(e.target).is(":button,a,:input,a>.k-icon"),o=b.options.pageable,p=b.dataSource,q="incell"==b._editMode(),s=e.shiftKey,t=c();if(t&&t.is("th")&&(n=!0),n&&l==A.UP)t?(i=t.parent().prevAll(P).first(),i[0]||(k=b.thead.parent(),r(k,!0),i=k.find(P).first()),j=t.index(),t=i.children().eq(j),t[0]&&t.is(Q)||(t=i.children(Q).first())):t=d.find(R),m=!0,c(t);else if(n&&l==A.DOWN)t?(i=t.parent().nextAll(P).first(),!i[0]&&t.is("th")&&(r(b.tbody.parent()),i=b.tbody.find(P).first()),j=t.index(),t=i.children().eq(j),t[0]&&t.is(Q)||(t=i.children(Q).first())):t=d.find(R),m=!0,c(t);else if(n&&l==(g?A.RIGHT:A.LEFT))c(t?t.prevAll(N+":first"):d.find(R)),m=!0;else if(n&&l==(g?A.LEFT:A.RIGHT))t?t.next()[0]&&(t=t.nextAll(N+":first")):t=d.find(R),m=!0,c(t);else if(n&&o&&A.PAGEDOWN==l)p.page(p.page()+1),m=!0;else if(n&&o&&A.PAGEUP==l)p.page(p.page()-1),m=!0;else if(l==A.ENTER||A.F2==l)if(t=t?t:d.find(R),t.is("th"))t.find(".k-link").click(),m=!0;else if(t.parent().is(".k-master-row,.k-grouping-row"))t.parent().find(".k-icon:first").click(),m=!0;else{var u=t.find(":focusable:first");if(!t.hasClass("k-edit-cell")&&u[0]&&t.hasClass("k-state-focused"))u.focus(),m=!0;else if(b.options.editable&&!a(e.target).is(":button,.k-button")){var v=a(e.target).closest("[role=gridcell]");v[0]||(v=t),b._handleEditing(v),m=!0}}else if(A.ESC==l)f=y(),t&&a.contains(t[0],f)&&!t.hasClass("k-edit-cell")&&!t.parent().hasClass("k-grid-edit-row")?(r(b.table[0],!0),m=!0):!b._editContainer||t&&!b._editContainer.has(t[0])&&t[0]!==b._editContainer[0]||(q?b.closeCell(!0):(h=b.items().index(a(t).parent()),f&&f.blur(),b.cancelRow(),h>=0&&b.current(b.items().eq(h).children().filter(Q).first())),xb.msie&&xb.version<9&&document.body.focus(),r(d,!0),m=!0);else if(A.TAB==l){var w;t=a(t),b.options.editable&&q&&(w=a(y()).closest(".k-edit-cell"),w[0]&&w[0]!==t[0]&&(t=w)),w=s?t.prevAll(N+":first"):t.nextAll(":visible:first"),w.length||(w=t.parent()[s?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(N+(s?":last":":first"))),!t.is("th")&&w.length&&b.options.editable&&q&&(b._handleEditing(t,w),m=!0)}m&&(e.preventDefault(),e.stopPropagation())}))},_handleEditing:function(b,c){var d,e,f=this,g=a(y()),h=f._editMode(),i=xb.msie,j=i&&xb.version<9,k=f._editContainer;if(e="incell"==h?b.hasClass("k-edit-cell"):b.parent().hasClass("k-grid-edit-row"),f.editable){if(a.contains(k[0],g[0])&&(xb.opera||j?g.change().triggerHandler("blur"):(g.blur(),i&&g.blur())),!f.editable)return r(f.table),void 0;if(!f.editable.end())return"incell"==h?f.current(k):f.current(k.children().filter(N).first()),d=k.find(":focusable:first")[0],d&&d.focus(),void 0;"incell"==h?f.closeCell():(f.saveRow(),e=!0)}c&&f.current(c),j&&document.body.focus(),r(f.table,!0),(!e&&!c||c)&&("incell"==h?f.editCell(f.current()):f.editRow(f.current().parent()))},_wrapper:function(){var a=this,b=a.table,c=a.options.height,d=a.element;d.is("div")||(d=d.wrap("<div/>").parent()),a.wrapper=d.addClass("k-grid k-widget k-secondary"),c&&(a.wrapper.css(mb,c),b.css(mb,"auto"))},_tbody:function(){var b,c=this,d=c.table;b=d.find(">tbody"),b.length||(b=a("<tbody/>").appendTo(d)),c.tbody=b},_scrollable:function(){var b,c,d=this,e=d.options,f=e.scrollable,g=f!==!0&&f.virtual&&!d.virtualScrollable,h=!t.support.kineticScrollNeeded||g?t.support.scrollbar():0;if(f){b=d.wrapper.children(".k-grid-header"),b[0]||(b=a('<div class="k-grid-header" />').insertBefore(d.table)),b.css(wb?"padding-left":"padding-right",f.virtual?h+1:h),c=a('<table role="grid" />'),yb&&c.attr("cellspacing",0),c.append(d.thead),b.empty().append(a('<div class="k-grid-header-wrap" />').append(c)),d.content=d.table.parent(),d.content.is(".k-virtual-scrollable-wrap")&&(d.content=d.content.parent()),d.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(d.content=d.table.wrap('<div class="k-grid-content" />').parent()),g&&(d.virtualScrollable=new zb(d.content,{dataSource:d.dataSource,itemHeight:H(d._averageRowHeight,d)})),d.scrollables=b.children(".k-grid-header-wrap");var i=d.wrapper.find(".k-grid-footer"),j=wb&&xb.webkit?h:0;if(i.length&&(d.scrollables=d.scrollables.add(i.children(".k-grid-footer-wrap"))),f.virtual)d.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+V,function(){d.scrollables.scrollLeft(this.scrollLeft+j)});else{d.content.bind("scroll"+V,function(){d.scrollables.scrollLeft(this.scrollLeft+j)});var k=t.touchScroller(d.content);k&&k.movable&&k.movable.bind("change",function(a){d.scrollables.scrollLeft(-a.sender.x)})}}},_setContentHeight:function(){var a=this,b=a.options,c=a.wrapper.innerHeight(),d=a.wrapper.children(".k-grid-header"),e=t.support.scrollbar();if(b.scrollable){c-=d.outerHeight(),a.pager&&(c-=a.pager.element.outerHeight()),b.groupable&&(c-=a.wrapper.children(".k-grouping-header").outerHeight()),b.toolbar&&(c-=a.wrapper.children(".k-grid-toolbar").outerHeight()),a.footerTemplate&&(c-=a.wrapper.children(".k-grid-footer").outerHeight());var f=function(a){var b,c;return a[0].style.height?!0:(b=a.height(),a.height("auto"),c=a.height(),b!=c?(a.height(""),!0):(a.height(""),!1))};f(a.wrapper)&&(c>2*e?a.content.height(c):a.content.height(2*e+1))}},_averageRowHeight:function(){var a=this,b=a._rowHeight;a._rowHeight||(a._rowHeight=b=a.table.outerHeight()/a.items().length,a._sum=b,a._measures=1);var c=a.table.outerHeight()/a.items().length;return b!==c&&(a._measures++,a._sum+=c,a._rowHeight=a._sum/a._measures),b},_dataSource:function(){var a,c=this,d=c.options,e=d.dataSource;e=F(e)?{data:e}:e,B(e)&&(C(e,{table:c.table,fields:c.columns}),a=d.pageable,B(a)&&a.pageSize!==b&&(e.pageSize=a.pageSize)),c.dataSource&&c._refreshHandler?c.dataSource.unbind(ab,c._refreshHandler).unbind(L,c._progressHandler).unbind(M,c._errorHandler):(c._refreshHandler=H(c.refresh,c),c._progressHandler=H(c._requestStart,c),c._errorHandler=H(c._error,c)),c.dataSource=v.create(e).bind(ab,c._refreshHandler).bind(L,c._progressHandler).bind(M,c._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(b){var c,d,e,f,g=this,h=b.model,i=g.tbody.find("tr["+t.attr("uid")+"="+h.uid+"]"),j=i.hasClass("k-alt"),k=g.items().index(i);if(i.children(".k-edit-cell").length&&!g.options.rowTemplate)i.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){c=a(this),d=g.columns[g.cellIndex(c)],d.field===b.field&&(c.hasClass("k-edit-cell")?c.addClass("k-dirty-cell"):(g._displayCell(c,d,h),a('<span class="k-dirty"/>').prependTo(c)))});else if(!i.hasClass("k-grid-edit-row")){for(e=(j?g.altRowTemplate:g.rowTemplate)(h),i.replaceWith(e),e=g.items().eq(k),k=0,f=g.columns.length;f>k;k++)d=g.columns[k],d.field===b.field&&(c=e.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(k),a('<span class="k-dirty"/>').prependTo(c));g.trigger("itemChange",{item:e,data:h,ns:u})}},_pageable:function(){var b,c=this,d=c.options.pageable;d&&(b=c.wrapper.children("div.k-grid-pager"),b.length||(b=a('<div class="k-pager-wrap k-grid-pager"/>').appendTo(c.wrapper)),c.pager&&c.pager.destroy(),c.pager="object"==typeof d&&d instanceof t.ui.Pager?d:new t.ui.Pager(b,C({},d,{dataSource:c.dataSource})))},_footer:function(){var b,c=this,d=c.dataSource.aggregates(),e="",f=c.footerTemplate,h=c.options,i=c.footer||c.wrapper.find(".k-grid-footer");if(f)if(d=J(d)?g(c.dataSource.aggregate()):d,e=a(c._wrapFooter(f(d))),i.length){var j=e;i.replaceWith(j),i=c.footer=j}else i=c.footer=h.scrollable?h.pageable?e.insertBefore(c.wrapper.children("div.k-grid-pager")):e.appendTo(c.wrapper):e.insertBefore(c.tbody);else i&&!c.footer&&(c.footer=i);i.length&&(h.scrollable&&(b=i.attr("tabindex",-1).children(".k-grid-footer-wrap"),c.scrollables=c.scrollables.not(".k-grid-footer-wrap").add(b)),c._footerWidth&&i.find("table").css("width",c._footerWidth),b&&b.scrollLeft(c.content.scrollLeft()))},_wrapFooter:function(b){var c=this,d="",e=t.support.mobileOS?0:t.support.scrollbar();return c.options.scrollable?(d=a('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(yb?' cellspacing="0"':"")+"><tbody>"+b+"</tbody></table></div></div>"),c._appendCols(d.find("table")),d.css(wb?"padding-left":"padding-right",e),d):'<tfoot class="k-grid-footer">'+b+"</tfoot>"},_columnMenu:function(){var b,c,d,e,f,g,h=this,i=h.columns,j=h.options,k=j.columnMenu,l=function(){r(h.thead.parent(),!0)},m=function(a){h.trigger(_,{field:a.field,container:a.container})};k&&("boolean"==typeof k&&(k={}),h.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(n){c=i[n],g=a(this),c.command||!c.field&&!g.attr("data-"+t.ns+"field")||(b=g.data("kendoColumnMenu"),b&&b.destroy(),e=c.sortable!==!1&&k.sortable!==!1?j.sortable:!1,f=j.filterable&&c.filterable!==!1&&k.filterable!==!1?C({},c.filterable,j.filterable):!1,d={dataSource:h.dataSource,values:c.values,columns:k.columns,sortable:e,filterable:f,messages:k.messages,owner:h,closeCallback:l,init:m},g.kendoColumnMenu(d))}))},_filterable:function(){var b,c,d=this,e=d.columns,f=function(){r(d.thead.parent(),!0)},g=d.options.filterable;g&&!d.options.columnMenu&&d.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(h){b=a(this),e[h].filterable===!1||e[h].command||!e[h].field&&!b.attr("data-"+t.ns+"field")||(c=b.data("kendoFilterMenu"),c&&c.destroy(),b.kendoFilterMenu(C(!0,{},g,e[h].filterable,{dataSource:d.dataSource,values:e[h].values,closeCallback:f,init:function(a){d.trigger($,{field:a.field,container:a.container})}})))})},_sortable:function(){var b,c,d,e=this,f=e.columns,g=e.options.sortable;g&&e.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(h){b=f[h],b.sortable!==!1&&!b.command&&b.field&&(c=a(this),d=c.data("kendoSortable"),d&&d.destroy(),c.attr("data-"+t.ns+"field",b.field).kendoSortable(C({},g,b.sortable,{dataSource:e.dataSource,aria:!0})))})},_columns:function(b){var c,d=this,e=d.table,f=e.find("col"),g=d.options.dataSource;b=b.length?b:D(e.find("th"),function(b,c){b=a(b);var d=b.attr(t.attr("sortable")),e=b.attr(t.attr("filterable")),g=b.attr(t.attr("type")),h=b.attr(t.attr("groupable")),i=b.attr(t.attr("field")),j=b.attr(t.attr("menu"));return i||(i=b.text().replace(/\s|[^A-z0-9]/g,"")),{field:i,type:g,sortable:"false"!==d,filterable:"false"!==e,groupable:"false"!==h,menu:j,template:b.attr(t.attr("template")),width:f.eq(c).css("width")}}),c=!(d.table.find("tbody tr").length>0&&(!g||!g.transport)),d.columns=D(b,function(a){return a=typeof a===pb?{field:a}:a,a.hidden&&(a.attributes=k(a.attributes),a.footerAttributes=k(a.footerAttributes),a.headerAttributes=k(a.headerAttributes)),C({encoded:c},a)})},_groups:function(){var a=this.dataSource.group();return a?a.length:0},_tmpl:function(a,b){var e,f,g,h,i=this,j=C({},t.Template,i.options.templateSettings),k=i.columns.length,l={storage:{},count:0},m=i._hasDetails(),n=[],o=i._groups();if(!a){for(a="<tr",b&&n.push("k-alt"),m&&n.push("k-master-row"),n.length&&(a+=' class="'+n.join(" ")+'"'),k&&(a+=" "+t.attr("uid")+'="#='+t.expr("uid",j.paramName)+'#"'),a+=" role='row'>",o>0&&(a+=c(o)),m&&(a+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),e=0;k>e;e++)g=i.columns[e],f=g.template,h=typeof f,a+="<td"+d(g.attributes)+" role='gridcell'>",a+=i._cellTmpl(g,l),a+="</td>";a+="</tr>"}return a=t.template(a,j),l.count>0?H(a,l.storage):a},_headerCellText:function(a){var b=this,c=C({},t.Template,b.options.templateSettings),d=a.headerTemplate,e=typeof d,f=a.title||a.field||"";return e===ob?f=t.template(d,c)({}):e===pb&&(f=d),f},_cellTmpl:function(a,b){var c,d,e=this,f=C({},t.Template,e.options.templateSettings),g=a.template,h=f.paramName,i=a.field,j="",k=a.format,l=typeof g,m=a.values;if(a.command){if(F(a.command)){for(c=0,d=a.command.length;d>c;c++)j+=e._createButton(a.command[c]);return j.replace(sb,"\\#")}return e._createButton(a.command).replace(sb,"\\#")}return l===ob?(b.storage["tmpl"+b.count]=g,j+="#=this.tmpl"+b.count+"("+h+")#",b.count++):l===pb?j+=g:m&&m.length&&B(m[0])&&"value"in m[0]&&i?(j+="#var v ="+t.stringify(n(m))+"#",j+="#var f = v[",f.useWithBlock||(j+=h+"."),j+=i+"]#",j+="${f != null ? f : ''}"):(j+=a.encoded?"#:":"#=",k&&(j+='kendo.format("'+k.replace(rb,"\\$1")+'",'),i?(i=t.expr(i,h),j+=i+"==null?'':"+i):j+="''",k&&(j+=")"),j+="#"),j},_templates:function(){var b=this,c=b.options,d=b.dataSource,e=d.group(),f=b.footer||b.wrapper.find(".k-grid-footer"),g=d.aggregate();b.rowTemplate=b._tmpl(c.rowTemplate),b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,!0),b._hasDetails()&&(b.detailTemplate=b._detailTmpl(c.detailTemplate||"")),(b._group&&!J(g)||!J(g)&&!f.length||E(b.columns,function(a){return a.footerTemplate}).length)&&(b.footerTemplate=b._footerTmpl(g,"footerTemplate","k-footer-template")),e&&E(b.columns,function(a){return a.groupFooterTemplate}).length&&(g=a.map(e,function(a){return a.aggregates}),b.groupFooterTemplate=b._footerTmpl(g,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(a,b,e){var f,h,i,j,k,l=this,m=C({},t.Template,l.options.templateSettings),n=m.paramName,o="",p=l.columns,q={},r=0,s={},u=l._groups(),v=g(a);for(o+='<tr class="'+e+'">',u>0&&(o+=c(u)),l._hasDetails()&&(o+='<td class="k-hierarchy-cell">&nbsp;</td>'),f=0,h=l.columns.length;h>f;f++)k=p[f],i=k[b],j=typeof i,o+="<td"+d(k.footerAttributes)+">",i?(j!==ob&&(s=v[k.field]?C({},m,{paramName:n+"."+k.field}):{},i=t.template(i,s)),q["tmpl"+r]=i,o+="#=this.tmpl"+r+"("+n+")#",r++):o+="&nbsp;",o+="</td>";return o+="</tr>",o=t.template(o,m),r>0?H(o,q):o},_detailTmpl:function(a){var b=this,d="",e=C({},t.Template,b.options.templateSettings),f=e.paramName,g={},h=0,i=b._groups(),k=j(b.columns).length,l=typeof a;return d+='<tr class="k-detail-row">',i>0&&(d+=c(i)),d+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(k?' colspan="'+k+'"':"")+">",l===ob?(g["tmpl"+h]=a,d+="#=this.tmpl"+h+"("+f+")#",h++):d+=a,d+="</td></tr>",d=t.template(d,e),h>0?H(d,g):d},_hasDetails:function(){var a=this;return null!==a.options.detailTemplate||(a._events[Z]||[]).length},_details:function(){var b=this;b.table.on(lb+V,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(c){var d,e,f=a(this),g=f.hasClass("k-plus"),h=f.closest("tr.k-master-row"),i=b.detailTemplate,j=b._hasDetails();return f.toggleClass("k-plus",!g).toggleClass("k-minus",g),j&&!h.next().hasClass("k-detail-row")&&(e=b.dataItem(h),a(i(e)).addClass(h.hasClass("k-alt")?"k-alt":"").insertAfter(h),b.trigger(Z,{masterRow:h,detailRow:h.next(),data:e,detailCell:h.next().find(".k-detail-cell")})),d=h.next(),b.trigger(g?fb:gb,{masterRow:h,detailRow:d}),d.toggle(g),b._current&&b._current.attr("aria-expanded",g),c.preventDefault(),!1})},dataItem:function(b){if(b=a(b)[0],!b)return null;var c,d,e=this.tbody.children(),f=/k-grouping-row|k-detail-row|k-group-footer/,g=b.sectionRowIndex;for(d=g,c=0;g>c;c++)f.test(e[c].className)&&d--;return this._data[d]},expandRow:function(b){a(b).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(b){a(b).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var c,e,f,g,h,i=this,j=i.columns,k=i._hasDetails()&&j.length,l="",m=i.table.find(">thead");if(m.length||(m=a("<thead/>").insertBefore(i.tbody)),f=i.element.find("tr:has(th):first"),f.length||(f=m.children().first(),f.length||(f=a("<tr/>"))),f.children().length)k&&!f.find(".k-hierarchy-cell")[0]&&f.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(k&&(l+='<th class="k-hierarchy-cell">&nbsp;</th>'),c=0,e=j.length;e>c;c++)h=j[c],g=i._headerCellText(h),h.command?l+="<th"+d(h.headerAttributes)+">"+g+"</th>":(l+="<th role='columnheader' "+t.attr("field")+"='"+(h.field||"")+"' ",h.title&&(l+=t.attr("title")+'="'+h.title.replace(/'/g,"'")+'" '),h.groupable!==b&&(l+=t.attr("groupable")+"='"+h.groupable+"' "),h.aggregates&&(l+=t.attr("aggregates")+"='"+h.aggregates+"'"),l+=d(h.headerAttributes),l+=">"+g+"</th>");f.html(l)}f.find("th").addClass("k-header"),i.options.scrollable||m.addClass("k-grid-header"),f.find("script").remove().end().appendTo(m),i.thead&&i._destroyColumnAttachments(),i.thead=m,i._sortable(),i._filterable(),i._scrollable(),i._updateCols(),i._resizable(),i._draggable(),i._reorderable(),i.groupable&&i._attachGroupable(),i._columnMenu()},_updateCols:function(){var a=this;a._appendCols(a.thead.parent().add(a.table))},_appendCols:function(a){var b=this;m(a,j(b.columns),b._hasDetails(),b._groups())},_autoColumns:function(a){if(a&&a.toJSON){var b,c=this;a=a.toJSON();for(b in a)c.columns.push({field:b});c._thead(),c._templates()}},_rowsHtml:function(a){var b,c,d=this,e="",f=d.rowTemplate,g=d.altRowTemplate;for(b=0,c=a.length;c>b;b++)e+=b%2?g(a[b]):f(a[b]),d._data.push(a[b]);return e},_groupRowHtml:function(a,b,d){var e,f,g=this,h="",i=a.field,j=E(g.columns,function(a){return a.field==i})[0]||{},k=j.groupHeaderTemplate,l=(j.title||i)+": "+o(a.value,j.format,j.values),m=C({},{field:a.field,value:a.value},a.aggregates[a.field]),n=g._groupAggregatesDefaultObject||{},p=a.items;if(k&&(l=typeof k===ob?k(m):t.template(k)(m)),h+='<tr class="k-grouping-row">'+c(d)+'<td colspan="'+b+'" aria-expanded="true">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+l+"</p></td></tr>",a.hasSubgroups)for(e=0,f=p.length;f>e;e++)h+=g._groupRowHtml(p[e],b-1,d+1);else h+=g._rowsHtml(p);return g.groupFooterTemplate&&(h+=g.groupFooterTemplate(C(n,a.aggregates))),h},collapseGroup:function(b){b=a(b).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var c,d,e=b.find(".k-group-cell").length,f=1;b.find("td:first").attr("aria-expanded",!1),b.nextAll("tr").each(function(){return d=a(this),c=d.find(".k-group-cell").length,d.hasClass("k-grouping-row")?f++:d.hasClass("k-group-footer")&&f--,e>=c||d.hasClass("k-group-footer")&&0>f?!1:(d.hide(),void 0)
})},expandGroup:function(b){b=a(b).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var c,d,e=this,f=b.find(".k-group-cell").length,g=1;b.find("td:first").attr("aria-expanded",!0),b.nextAll("tr").each(function(){return c=a(this),d=c.find(".k-group-cell").length,f>=d?!1:(d!=f+1||c.hasClass("k-detail-row")||(c.show(),c.hasClass("k-grouping-row")&&c.find(".k-icon").hasClass("k-i-collapse")&&e.expandGroup(c),c.hasClass("k-master-row")&&c.find(".k-icon").hasClass("k-minus")&&c.next().show()),c.hasClass("k-grouping-row")&&g++,c.hasClass("k-group-footer")&&(1==g?c.show():g--),void 0)})},_updateHeader:function(b){var c=this,d=c.thead.find("th.k-group-cell"),e=d.length;b>e?a(new Array(b-e+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(c.thead.find("tr")):e>b&&(e-=b,a(E(d,function(a,b){return e>b})).remove())},_firstDataItem:function(a,b){return a&&b&&(a=a.hasSubgroups?this._firstDataItem(a.items[0],b):a.items[0]),a},hideColumn:function(b){var c,d,e,f,g,h,i,l,m,n=this,o=0,q=n.footer||n.wrapper.find(".k-grid-footer"),r=n.columns;if(b="number"==typeof b?r[b]:E(r,function(a){return a.field===b})[0],b&&!b.hidden){for(m=G(b,j(r)),b.hidden=!0,b.attributes=k(b.attributes),b.footerAttributes=k(b.footerAttributes),b.headerAttributes=k(b.headerAttributes),n._templates(),n._updateCols(),p(n.thead.find(">tr")[0].cells,m,!1),q[0]&&(n._appendCols(q.find("table:first")),p(q.find(".k-footer-template")[0].cells,m,!1)),c=n.tbody.children(),g=0,l=c.length;l>g;g+=1)d=c.eq(g),d.is(".k-grouping-row,.k-detail-row")?(e=d.children(":not(.k-group-cell):first,.k-detail-cell").last(),e.attr("colspan",parseInt(e.attr("colspan"),10)-1)):(d.hasClass("k-grid-edit-row")&&(e=d.children(".k-edit-container")[0])&&(e=a(e),e.attr("colspan",parseInt(e.attr("colspan"),10)-1),e.find("col").eq(m).remove(),d=e.find("tr:first")),p(d[0].cells,m,!1));for(h=n.thead.prev().find("col"),g=0,l=h.length;l>g;g+=1){if(i=h[g].style.width,!i||-1!=i.indexOf("%")){o=0;break}o+=parseInt(i,10)}f=a(">.k-grid-header table:first,>.k-grid-footer table:first",n.wrapper).add(n.table),n._footerWidth=null,o&&(f.width(o),n._footerWidth=o),xb.msie&&8==xb.version&&(f.css("display","inline-table"),setTimeout(function(){f.css("display","table")},1)),n.trigger(bb,{column:b})}},showColumn:function(b){var c,d,e,f,g,h,i,k,n,o,q=this,r=q.columns,s=q.footer||q.wrapper.find(".k-grid-footer");if(b="number"==typeof b?r[b]:E(r,function(a){return a.field===b})[0],b&&b.hidden){for(o=G(b,r),b.hidden=!1,b.attributes=l(b.attributes),b.footerAttributes=l(b.footerAttributes),b.headerAttributes=l(b.headerAttributes),q._templates(),q._updateCols(),p(q.thead.find(">tr")[0].cells,o,!0),s[0]&&(q._appendCols(s.find("table:first")),p(s.find(".k-footer-template")[0].cells,o,!0)),c=q.tbody.children(),d=0,e=c.length;e>d;d+=1)f=c.eq(d),f.is(".k-grouping-row,.k-detail-row")?(g=f.children(":not(.k-group-cell):first,.k-detail-cell").last(),g.attr("colspan",parseInt(g.attr("colspan"),10)+1)):(f.hasClass("k-grid-edit-row")&&(g=f.children(".k-edit-container")[0])&&(g=a(g),g.attr("colspan",parseInt(g.attr("colspan"),10)+1),m(g.find(">form>table"),j(r),!1,0),f=g.find("tr:first")),p(f[0].cells,o,!0));if(h=a(">.k-grid-header table:first,>.k-grid-footer table:first",q.wrapper).add(q.table),b.width){for(i=0,n=q.thead.prev().find("col"),d=0,e=n.length;e>d;d+=1){if(k=n[d].style.width,k.indexOf("%")>-1){i=0;break}i+=parseInt(k,10)}q._footerWidth=null,i&&(h.width(i),q._footerWidth=i)}else h.width("");q.trigger(cb,{column:b})}},_progress:function(a){var b=this,c=b.element.is("table")?b.element.parent():b.content&&b.content.length?b.content:b.element;t.ui.progress(c,a)},refresh:function(b){var c,d,e,f,h,i,k=this,l="",m=k.dataSource.view(),n=k.options.navigatable,o=a(k.current()),p=!1,q=(k.dataSource.group()||[]).length,s=q+j(k.columns).length;if(!(b&&"itemchange"===b.action&&k.editable||(b=b||{},k.trigger("dataBinding",{action:b.action||"rebind",index:b.index,items:b.items})))){if(i=y(),n&&(k.table[0]===i||a.contains(k.table[0],i)||k._editContainer&&k._editContainer.data("kendoWindow"))&&(p=o.is("th"),h=0,p&&(h=k.thead.find("th:not(.k-group-cell)").index(o))),k._destroyEditable(),k._progress(!1),k._data=[],k.columns.length||(k._autoColumns(k._firstDataItem(m[0],q)),s=q+k.columns.length),k._group=q>0||k._group,k._group&&(k._templates(),k._updateCols(),k._updateHeader(q),k._group=q>0),q>0)for(k.detailTemplate&&s++,k.groupFooterTemplate&&(k._groupAggregatesDefaultObject=g(k.dataSource.aggregate())),d=0,c=m.length;c>d;d++)l+=k._groupRowHtml(m[d],s,0);else l+=k._rowsHtml(m);x?k.tbody[0].innerHTML=l:(f=document.createElement("div"),f.innerHTML="<table><tbody>"+l+"</tbody></table>",e=f.firstChild.firstChild,k.table[0].replaceChild(e,k.tbody[0]),k.tbody=a(e)),k._footer(),k._setContentHeight(),h>=0&&(k._removeCurrent(),p?k.current(k.thead.find("th:not(.k-group-cell)").eq(h)):k.current(k.items().eq(h).children().filter(N).first()),k._current&&r(k._current.closest("table")[0],!0)),k.trigger(eb)}}});u.plugin(Bb),u.plugin(zb)}(window.kendo.jQuery),kendo_module({id:"listview",name:"ListView",category:"web",description:"The ListView widget offers rich support for interacting with data.",depends:["data"],features:[{id:"listview-editing",name:"Editing",description:"Support for record editing",depends:["editable"]},{id:"listview-selection",name:"Selection",description:"Support for selection",depends:["selectable"]}]}),function(a,b){var c=window.kendo,d="change",e="cancel",f="dataBound",g="dataBinding",h=c.ui.Widget,i=c.keys,j=">*",k="progress",l="error",m="k-state-focused",n="k-state-selected",o="k-edit-item",p="string",q="edit",r="remove",s="save",t="click",u=".kendoListView",v=a.proxy,w=c._activeElement,x=c.ui.progress,y=c.data.DataSource,z=h.extend({init:function(b,d){var e=this;d=a.isArray(d)?{dataSource:d}:d,h.fn.init.call(e,b,d),d=e.options,e.wrapper=b=e.element,b[0].id&&(e._itemId=b[0].id+"_lv_active"),e._element(),e._dataSource(),e.template=c.template(d.template||""),e.altTemplate=c.template(d.altTemplate||d.template),e.editTemplate=c.template(d.editTemplate||""),e._navigatable(),e._selectable(),e._pageable(),e._crudHandlers(),e.options.autoBind&&e.dataSource.fetch(),c.notify(e)},events:[d,e,g,f,q,r,s],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},_item:function(a){return this.element.children()[a]()},items:function(){return this.element.children()},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&a.fetch()},_unbindDataSource:function(){var a=this;a.dataSource.unbind(d,a._refreshHandler).unbind(k,a._progressHandler).unbind(l,a._errorHandler)},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=v(a.refresh,a),a._progressHandler=v(a._progress,a),a._errorHandler=v(a._error,a)),a.dataSource=y.create(a.options.dataSource).bind(d,a._refreshHandler).bind(k,a._progressHandler).bind(l,a._errorHandler)},_progress:function(){x(this.element,!0)},_error:function(){x(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(b){var d,e,h,i,j,k=this,l=k.dataSource.view(),m="",n=k.template,o=k.altTemplate,p=w();if(b&&"itemchange"===b.action)return k.editable||(d=b.items[0],i=a.inArray(d,l),i>=0&&(k.items().eq(i).replaceWith(n(d)),h=k.items().eq(i),h.attr(c.attr("uid"),d.uid),k.trigger("itemChange",{item:h,data:d}))),void 0;if(b=b||{},!k.trigger(g,{action:b.action||"rebind",items:b.items,index:b.index})){for(k._destroyEditable(),i=0,j=l.length;j>i;i++)m+=i%2?o(l[i]):n(l[i]);for(k.element.html(m),e=k.items(),i=0,j=l.length;j>i;i++)e.eq(i).attr(c.attr("uid"),l[i].uid).attr("role","option").attr("aria-selected","false");k.element[0]===p&&k.options.navigatable&&k.current(e.eq(0)),k.trigger(f)}},_pageable:function(){var b,d,e=this,f=e.options.pageable;a.isPlainObject(f)&&(d=f.pagerId,b=a.extend({},f,{dataSource:e.dataSource,pagerId:null}),e.pager=new c.ui.Pager(a("#"+d),b))},_selectable:function(){var a,b,e=this,f=e.options.selectable,g=e.options.navigatable;f&&(a=typeof f===p&&f.toLowerCase().indexOf("multiple")>-1,a&&e.element.attr("aria-multiselectable",!0),e.selectable=new c.ui.Selectable(e.element,{aria:!0,multiple:a,filter:j,change:function(){e.trigger(d)}}),g&&e.element.on("keydown"+u,function(c){if(c.keyCode===i.SPACEBAR){if(b=e.current(),c.target==c.currentTarget&&c.preventDefault(),a)if(c.ctrlKey){if(b&&b.hasClass(n))return b.removeClass(n),void 0}else e.selectable.clear();else e.selectable.clear();e.selectable.value(b)}}))},current:function(a){var c=this,d=c.element,e=c._current,f=c._itemId;return a===b?e:(e&&e[0]&&(e[0].id===f&&e.removeAttr("id"),e.removeClass(m),d.removeAttr("aria-activedescendant")),a&&a[0]&&(f=a[0].id||f,c._scrollTo(a[0]),d.attr("aria-activedescendant",f),a.addClass(m).attr("id",f)),c._current=a,void 0)},_scrollTo:function(b){var c,d=this,e=!1,f="scroll";"auto"==d.wrapper.css("overflow")||d.wrapper.css("overflow")==f?c=d.wrapper[0]:(c=window,e=!0);var g=function(d,g){var h=e?a(b).offset()[d.toLowerCase()]:b["offset"+d],i=b["client"+g],j=a(c)[f+d](),k=a(c)[g.toLowerCase()]();h+i>j+k?a(c)[f+d](h+i-k):j>h&&a(c)[f+d](h)};g("Top","Height"),g("Left","Width")},_navigatable:function(){var b=this,d=b.options.navigatable,e=b.element,f=function(c){b.current(a(c.currentTarget)),a(c.target).is(":button,a,:input,a>.k-icon,textarea")||e.focus()};d&&(b._tabindex(),e.on("focus"+u,function(){var a=b._current;a&&a.is(":visible")||(a=b._item("first")),b.current(a)}).on("focusout"+u,function(){b._current&&b._current.removeClass(m)}).on("keydown"+u,function(d){var f,g=d.keyCode,h=b.current(),j=a(d.target),k=!j.is(":button,textarea,a,a>.t-icon,input"),l=j.is(":text"),m=c.preventDefault,n=e.find("."+o),p=w();if(!(!k&&!l&&i.ESC!=g||l&&i.ESC!=g&&i.ENTER!=g))if(i.UP===g||i.LEFT===g)h&&(h=h.prev()),b.current(h&&h[0]?h:b._item("last")),m(d);else if(i.DOWN===g||i.RIGHT===g)h&&(h=h.next()),b.current(h&&h[0]?h:b._item("first")),m(d);else if(i.PAGEUP===g)b.current(null),b.dataSource.page(b.dataSource.page()-1),m(d);else if(i.PAGEDOWN===g)b.current(null),b.dataSource.page(b.dataSource.page()+1),m(d);else if(i.HOME===g)b.current(b._item("first")),m(d);else if(i.END===g)b.current(b._item("last")),m(d);else if(i.ENTER===g)if(0!==n.length&&(k||l)){f=b.items().index(n),p&&p.blur(),b.save();var q=function(){b.element.trigger("focus"),b.current(b.items().eq(f))};b.one("dataBound",q)}else""!==b.options.editTemplate&&b.edit(h);else if(i.ESC===g){if(n=e.find("."+o),0===n.length)return;f=b.items().index(n),b.cancel(),b.element.trigger("focus"),b.current(b.items().eq(f))}}),e.on("mousedown"+u+" touchstart"+u,j,v(f,b)))},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(d)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),d.value(b),void 0):d.value()},_destroyEditable:function(){var a=this;a.editable&&(a.editable.destroy(),delete a.editable)},_modelFromElement:function(a){var b=a.attr(c.attr("uid"));return this.dataSource.getByUid(b)},_closeEditable:function(a){var b,d,e=this,f=e.editable,g=e.template,h=!0;return f&&(a&&(h=f.end()),h&&(f.element.index()%2&&(g=e.altTemplate),b=e._modelFromElement(f.element),e._destroyEditable(),d=f.element.index(),f.element.replaceWith(g(b)),e.items().eq(d).attr(c.attr("uid"),b.uid))),h},edit:function(a){var b,d,e=this,f=e._modelFromElement(a),g=f.uid;e.cancel(),a=e.items().filter("["+c.attr("uid")+"="+g+"]"),d=a.index(),a.replaceWith(e.editTemplate(f)),b=e.items().eq(d).addClass(o).attr(c.attr("uid"),f.uid),e.editable=b.kendoEditable({model:f,clearContainer:!1,errorTemplate:!1}).data("kendoEditable"),e.trigger(q,{model:f,item:b})},save:function(){var a,b=this,c=b.editable;c&&(c=c.element,a=b._modelFromElement(c),!b.trigger(s,{model:a,item:c})&&b._closeEditable(!0)&&b.dataSource.sync())},remove:function(a){var b=this,c=b.dataSource,d=b._modelFromElement(a);b.trigger(r,{model:d,item:a})||(a.hide(),c.remove(d),c.sync())},add:function(){var a=this,b=a.dataSource,c=b.indexOf((b.view()||[])[0]);0>c&&(c=0),a.cancel(),b.insert(c,{}),a.edit(a.element.children().first())},cancel:function(){var a=this,b=a.dataSource;if(a.editable){var c=a.editable.element,d=a._modelFromElement(c);a.trigger(e,{model:d,container:c})||(b.cancelChanges(d),a._closeEditable(!1))}},_crudHandlers:function(){var b=this,d=t+u;b.element.on(d,".k-edit-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.edit(e),d.preventDefault()}),b.element.on(d,".k-delete-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.remove(e),d.preventDefault()}),b.element.on(d,".k-update-button",function(a){b.save(),a.preventDefault()}),b.element.on(d,".k-cancel-button",function(a){b.cancel(),a.preventDefault()})},destroy:function(){var a=this;h.fn.destroy.call(a),a._unbindDataSource(),a._destroyEditable(),a.element.off(u),a.pager&&a.pager.destroy(),a.selectable&&a.selectable.destroy(),c.destroy(a.element)}});c.ui.plugin(z)}(window.kendo.jQuery),function(a,b){function c(a,b,c){var d,e;a.on("dragenter"+s,function(){b(),e=new Date,d||(d=setInterval(function(){var a=new Date-e;a>100&&(c(),clearInterval(d),d=null)},100))}).on("dragover"+s,function(){e=new Date})}function d(a,c){return a!==b&&a.match(/\/$/)||(a=(a||"")+"/"),a+c}function e(a){if(!a)return"";var b=" bytes";return a>=1073741824?(b=" GB",a/=1073741824):a>=1048576?(b=" MB",a/=1048576):a>=1024&&(b=" KB",a/=1024),Math.round(100*a)/100+b}var f=window.kendo,g=f.ui.Widget,h=a.isPlainObject,i=a.proxy,j=a.extend,k=f.support.placeholder,l=f.support.browser,m=a.isFunction,n=/(^\/|\/$)/g,o="change",p="apply",q="error",r="click",s=".kendoImageBrowser",t=".kendoBreadcrumbs",u=".kendoSearchBox",v="name",w="size",x="type",y={field:x,dir:"asc"},z=f.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),A='<div class="k-widget k-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';j(!0,f.data,{schemas:{imagebrowser:{data:function(a){return a.items||a||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),j(!0,f.data,{transports:{imagebrowser:f.data.RemoteTransport.extend({init:function(b){f.data.RemoteTransport.fn.init.call(this,a.extend(!0,{},this.options,b))},_call:function(b,c){c.data=a.extend({},c.data,{path:this.options.path()}),m(this.options[b])?this.options[b].call(this,c):f.data.RemoteTransport.fn[b].call(this,c)},read:function(a){this._call("read",a)},create:function(a){this._call("create",a)},destroy:function(a){this._call("destroy",a)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var B;B=l.msie&&l.version<8?function(a){return a.offsetTop}:function(b){return b.offsetTop-a(b).height()};var C=g.extend({init:function(a,b){var c=this;b=b||{},g.fn.init.call(c,a,b),c.element.addClass("k-imagebrowser k-secondary"),c.element.on(r+s,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",i(c._deleteClick,c)).on(r+s,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",i(c._addClick,c)).on("keydown"+s,"li.k-state-selected input",i(c._directoryKeyDown,c)).on("blur"+s,"li.k-state-selected input",i(c._directoryBlur,c)),c._dataSource(),c.refresh(),c.path(c.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[q,o,p],destroy:function(){var a=this;g.fn.destroy.call(a),a.dataSource.unbind(q,a._errorHandler),a.element.add(a.list).add(a.toolbar).off(s),a.arrangeBy&&a.arrangeBy.destroy(),f.destroy(a.element)},value:function(){var a,b=this,c=b._selectedItem(),e=b.options.transport.imageUrl;return c&&"f"===c.get(x)?(a=d(b.path(),c.get(v)).replace(n,""),e&&(a=m(e)?e(a):f.format(e,encodeURIComponent(a))),a):void 0},_selectedItem:function(){var a=this.listView,b=a.select();return b.length?this.dataSource.getByUid(b.attr(f.attr("uid"))):void 0},_toolbar:function(){var b=this,c=f.template(A),d=b.options.messages,e=[{text:d.orderByName,value:"name"},{text:d.orderBySize,value:"size"}];b.toolbar=a(c({messages:d,showUpload:b.options.transport.uploadUrl,showCreate:b.options.transport.create,showDelete:b.options.transport.destroy})).appendTo(b.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:d.dropFilesHere},async:{saveUrl:b.options.transport.uploadUrl,autoUpload:!0},upload:i(b._fileUpload,b),error:function(a){b._error({xhr:a.XMLHttpRequest,status:"error"})}}).end(),b.upload=b.toolbar.find(".k-upload input").data("kendoUpload"),b.arrangeBy=b.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:e,dataTextField:"text",dataValueField:"value",change:function(){b.orderBy(this.value())}}).data("kendoDropDownList"),b._attachDropzoneEvents()},_attachDropzoneEvents:function(){var b=this;b.options.transport.uploadUrl&&(c(a(document.documentElement),a.proxy(b._dropEnter,b),a.proxy(b._dropLeave,b)),b._scrollHandler=i(b._positionDropzone,b))},_dropEnter:function(){this._positionDropzone(),a(document).on("scroll"+s,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),a(document).off("scroll"+s,this._scrollHandler)},_positionDropzone:function(){var a=this,b=a.element,c=b.offset();a.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(c).css({width:b[0].clientWidth,height:b[0].clientHeight,lineHeight:b[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var a=this,b=a.listView.select(),c=f.format(a.options.messages.deleteFile,b.find("strong").text());b.length&&a._showMessage(c,"confirm")&&a.listView.remove(b)},_addClick:function(){this.createDirectory()},_fileUpload:function(a){var b,c=this,d=c.options,e=d.fileTypes,g=new RegExp(("("+e.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),h=a.files[0].name,i=v,j=w;g.test(h)?(a.data={path:c.path()},b=c._createFile(h),b?c.upload.one("success",function(a){b.set(i,a.response[i]),b.set(j,a.response[j]),c._tiles=c.listView.items().filter("["+f.attr("type")+"=f]"),c._scroll()}):a.preventDefault()):(a.preventDefault(),c._showMessage(f.format(d.messages.invalidFileType,h,e)))},_findFile:function(a){var b,c,d,e=this.dataSource.data(),f=x,g=v;for(a=a.toLowerCase(),b=0,d=e.length;d>b;b++)if("f"===e[b].get(f)&&e[b].get(g).toLowerCase()===a){c=e[b];break}return c},_createFile:function(a){var b,c,d=this,e=0,g={},h=x,i=d.dataSource.view(),j=d._findFile(a);if(j&&!d._showMessage(f.format(d.options.messages.overwriteFile,a),"confirm"))return null;if(j)return j;for(b=0,c=i.length;c>b;b++)if("f"===i[b].get(h)){e=b;break}return g[h]="f",g[v]=a,g[w]=0,d.dataSource.insert(++e,g)},createDirectory:function(){var a,b,c=this,d=0,e=x,g=v,h=c.dataSource.data(),i=c._nameDirectory(),j=new c.dataSource.reader.model;for(a=0,b=h.length;b>a;a++)"d"===h[a].get(e)&&(d=a);j.set(e,"d"),j.set(g,i),c.listView.one("dataBound",function(){var a=c.listView.items().filter("["+f.attr("uid")+"="+j.uid+"]"),b=a.find("input");a.length&&this.edit(a),this.element.scrollTop(a.attr("offsetTop")-this.element[0].offsetHeight),setTimeout(function(){b.select()})}).one("save",function(a){var b=a.model.get(g);b?a.model.set(g,c._nameExists(b,j.uid)?c._nameDirectory():b):a.model.set(g,i)}),c.dataSource.insert(++d,j)},_directoryKeyDown:function(a){13==a.keyCode&&a.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(a,b){var c,d,e=this.dataSource.data(),f=x,g=v;for(c=0,d=e.length;d>c;c++)if("d"===e[c].get(f)&&e[c].get(g).toLowerCase()===a.toLowerCase()&&e[c].uid!==b)return!0;return!1},_nameDirectory:function(){var b,c,d,e="New folder",f=this.dataSource.data(),g=[],h=x,i=v;for(c=0,d=f.length;d>c;c++)"d"===f[c].get(h)&&f[c].get(i).toLowerCase().indexOf(e.toLowerCase())>-1&&g.push(f[c].get(i));if(a.inArray(e,g)>-1){c=2;do b=e+" ("+c+")",c++;while(a.inArray(b,g)>-1);e=b}return e},orderBy:function(a){this.dataSource.sort([{field:x,dir:"asc"},{field:a,dir:"asc"}])},search:function(a){this.dataSource.filter({field:v,operator:"contains",value:a})},_content:function(){var b=this;b.list=a('<ul class="k-reset k-floats k-tiles" />').appendTo(b.element).on("scroll"+s,i(b._scroll,b)).on("dblclick"+s,"li",i(b._dblClick,b)),b.listView=new f.ui.ListView(b.list,{dataSource:b.dataSource,template:b._itemTmpl(),editTemplate:b._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(a){b.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),("remove"===a.action||"sync"===a.action)&&a.preventDefault()},dataBound:function(){b.dataSource.view().length?(b._tiles=this.items().filter("["+f.attr("type")+"=f]"),b._scroll()):this.wrapper.append(z({text:b.options.messages.emptyFolder}))},change:i(b._listViewChange,b)})},_dblClick:function(b){var c=this,e=a(b.currentTarget);if(e.filter("["+f.attr("type")+"=d]").length){var g=c.dataSource.getByUid(e.attr(f.attr("uid")));g&&(c.path(d(c.path(),g.get(v))),c.breadcrumbs.value(c.path()))}else e.filter("["+f.attr("type")+"=f]").length&&c.trigger(p)},_listViewChange:function(){var a=this._selectedItem();a&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),"f"===a.get(x)&&this.trigger(o))},_dataSource:function(){var a,b=this,c=b.options,d=c.transport,e=j({},y),g={field:v,dir:"asc"},k={type:d.type||"imagebrowser",sort:[e,g]};h(d)&&(d.path=i(b.path,b),k.transport=d),h(c.schema)?k.schema=c.schema:d.type&&h(f.data.schemas[d.type])&&(a=f.data.schemas[d.type]),b.dataSource&&b._errorHandler?b.dataSource.unbind(q,b._errorHandler):b._errorHandler=i(b._error,b),b.dataSource=f.data.DataSource.create(k).bind(q,b._errorHandler)},_navigation:function(){var b=this,c=a('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);b.breadcrumbs=c.find("input:first").kendoBreadcrumbs({value:b.options.path,change:function(){b.path(this.value())}}).data("kendoBreadcrumbs"),b.searchBox=c.parent().find("input:last").kendoSearchBox({label:b.options.messages.search,change:function(){b.search(this.value())}}).data("kendoSearchBox")},_error:function(a){var b,c=this;c.trigger(q,a)||(b=a.xhr.status,"error"==a.status?"404"==b?c._showMessage(c.options.messages.directoryNotFound):"0"!=b&&c._showMessage("Error! The requested URL returned "+b+" - "+a.xhr.statusText):"timeout"==b&&c._showMessage("Error! Server timeout."))},_showMessage:function(a,b){return window[b||"alert"](a)},refresh:function(){var a=this;a._navigation(),a._toolbar(),a._content()},_loadImage:function(b){var c=this,d=a(b),e=c.dataSource.getByUid(d.attr(f.attr("uid"))),g=e.get(v),h=c.options.transport.thumbnailUrl,i=a("<img />",{alt:g}),j="?";i.hide().on("load"+s,function(){a(this).prev().remove().end().addClass("k-image").fadeIn()}),d.find(".k-loading").after(i),m(h)?h=h(c.path(),encodeURIComponent(g)):(h.indexOf("?")>=0&&(j="&"),h=h+j+"path="+c.path()+encodeURIComponent(g)),i.attr("src",h),b.loaded=!0},_scroll:function(){var a=this;a.options.transport&&a.options.transport.thumbnailUrl&&(clearTimeout(a._timeout),a._timeout=setTimeout(function(){var b=a.list.outerHeight(),c=a.list.scrollTop(),d=c+b;a._tiles.each(function(){var b=B(this),e=b+this.offsetHeight;return(b>=c&&d>b||e>=c&&d>e)&&a._loadImage(this),b>d?!1:void 0}),a._tiles=a._tiles.filter(function(){return!this.loaded})},250))},_editTmpl:function(){var a='<li class="k-tile k-state-selected" '+f.attr("uid")+'="#=uid#" ';return a+=f.attr("type")+'="${'+x+'}">',a+="#if("+x+' == "d") { #',a+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',a+="#}else{#",a+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>',a+="#}#",a+="#if("+x+' == "d") { #',a+='<input class="k-input" '+f.attr("bind")+'="value:'+v+'"/>',a+="#}#",a+="</li>",i(f.template(a),{sizeFormatter:e})},_itemTmpl:function(){var a=this,b='<li class="k-tile" '+f.attr("uid")+'="#=uid#" ';return b+=f.attr("type")+'="${'+x+'}">',b+="#if("+x+' == "d") { #',b+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',b+="#}else{#",b+=a.options.transport&&a.options.transport.thumbnailUrl?'<div class="k-thumb"><span class="k-icon k-loading"></span></div>':'<div class="k-thumb"><span class="k-icon k-file"></span></div>',b+="#}#",b+="<strong>${"+v+"}</strong>",b+="#if("+x+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+w+")}</span> #}#",b+="</li>",i(f.template(b),{sizeFormatter:e})},path:function(a){var c=this,d=c._path||"";return a!==b?(c._path=a.replace(n,"")+"/",c.dataSource.read({path:c._path}),void 0):(d&&(d=d.replace(n,"")),"/"===d||""===d?"":d+"/")}}),D=g.extend({init:function(a,b){var c=this;b=b||{},g.fn.init.call(c,a,b),k&&c.element.attr("placeholder",c.options.label),c._wrapper(),c.element.on("keydown"+u,i(c._keydown,c)).on("change"+u,i(c._updateValue,c)),c.wrapper.on(r+u,"a",i(c._click,c)),k||c.element.on("focus"+u,i(c._focus,c)).on("blur"+u,i(c._blur,c))},options:{name:"SearchBox",label:"Search",value:""},events:[o],destroy:function(){var a=this;a.wrapper.add(a.element).add(a.label).off(u),g.fn.destroy.call(a)},_keydown:function(a){13===a.keyCode&&this._updateValue()},_click:function(a){a.preventDefault(),this._updateValue()},_updateValue:function(){var a=this,b=a.element.val();b!==a.value()&&(a.value(b),a.trigger(o))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){k||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var b=this.element,c=b.parents(".k-search-wrap");b[0].style.width="",b.addClass("k-input"),c.length||(c=b.wrap(a('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),k||a('<label style="display:block">'+this.options.label+"</label>").insertBefore(b),a('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(c)),this.wrapper=c,this.label=c.find(">label")},value:function(a){var c=this;return a!==b?(c.options.value=a,c.element.val(a),c._toggleLabel(),void 0):c.options.value}}),E=g.extend({init:function(a,b){var c=this;b=b||{},g.fn.init.call(c,a,b),c._wrapper(),c.wrapper.on("focus"+t,"input",i(c._focus,c)).on("blur"+t,"input",i(c._blur,c)).on("keydown"+t,"input",i(c._keydown,c)).on(r+t,"a.k-i-arrow-n:first",i(c._rootClick,c)).on(r+t,"a:not(.k-i-arrow-n)",i(c._click,c)),c.value(c.options.value)},options:{name:"Breadcrumbs",gap:50},events:[o],destroy:function(){var a=this;g.fn.destroy.call(a),a.wrapper.add(a.wrapper.find("input")).add(a.wrapper.find("a")).off(t)},_update:function(a){a="/"===(a||"").charAt(0)?a:"/"+(a||""),a!==this.value()&&(this.value(a),this.trigger(o))},_click:function(b){b.preventDefault(),this._update(this._path(a(b.target).prevAll("a:not(.k-i-arrow-n)").andSelf()))},_rootClick:function(a){a.preventDefault(),this._update("")},_focus:function(){var a=this,b=a.element;a.overlay.hide(),a.element.val(a.value()),setTimeout(function(){b.select()})},_blur:function(){if(!this.overlay.is(":visible")){var a=this,b=a.element,c=b.val().replace(/\/{2,}/g,"/");a.overlay.show(),b.val(""),a._update(c)}},_keydown:function(a){var b=this;13===a.keyCode&&(b._blur(),setTimeout(function(){b.overlay.find("a:first").focus()}))},_wrapper:function(){var b,c=this.element,d=c.parents(".k-breadcrumbs");c[0].style.width="",c.addClass("k-input"),d.length||(d=c.wrap(a('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),b=d.find(".k-breadcrumbs-wrap"),b.length||(b=a('<div class="k-breadcrumbs-wrap"/>').appendTo(d)),this.wrapper=d,this.overlay=b},refresh:function(){var c,d,e,f,g="",h=this.value();for(h!==b&&h.match(/^\//)||(h="/"+(h||"")),c=h.split("/"),e=0,f=c.length;f>e;e++)d=c[e],d&&(g||(g+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),g+='<a class="k-link" href="#">'+c[e]+"</a>",g+='<span class="k-icon k-i-arrow-e">&gt;</span>');this.overlay.empty().append(a(g)),this._adjustSectionWidth()},_adjustSectionWidth:function(){var b,c=this,d=c.wrapper,e=d.width()-c.options.gap,f=c.overlay.find("a");f.each(function(c){b=a(this),b.parent().width()>e&&(c==f.length-1?b.width(e):b.prev().andSelf().hide())})},value:function(a){return a!==b?(this._value=a.replace(/\/{2,}/g,"/"),this.refresh(),void 0):this._value},_path:function(b){return"/"+a.map(b,function(b){return a(b).text()}).join("/")}});f.ui.plugin(C),f.ui.plugin(E),f.ui.plugin(D)}(window.kendo.jQuery),kendo_module({id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]}]}),function(a,b){var c=window.kendo,d=c.Class,e=c.ui.Widget,f=c.support.mobileOS,g=c.support.browser,h=a.extend,i=a.proxy,j=c.deepExtend,k=".kendoEditor",l=c.keys,m=d.extend({init:function(a){this.options=a},getHtml:function(){var a=this.options;return c.template(a.template,{useWithBlock:!1})(a)}}),n={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap k-secondary" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<li class="k-editor-button" role="presentation"><a href="" role="button" class="k-tool-icon #= data.cssClass #"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #">#= data.title #</a></li>',colorPickerTemplate:'<li class="k-editor-colorpicker" role="presentation"><div class="k-colorpicker #= data.cssClass #" /></li>',comboBoxTemplate:'<li class="k-editor-combobox"><select title="#= data.title #" class="#= data.cssClass #" /></li>',dropDownListTemplate:'<li class="k-editor-selectbox"><select title="#= data.title #" class="#= data.cssClass #" /></li>',separatorTemplate:'<li class="k-separator" />',formatByName:function(b,c){for(var d=0;d<c.length;d++)if(a.inArray(b,c[d].tags)>=0)return c[d]},registerTool:function(a,b){var c=b.options;c&&c.template&&(c.template.options.cssClass="k-"+a),b.name||(b.options.name=a,b.name=a.toLowerCase()),s.defaultTools[a]=b},registerFormat:function(a,b){s.fn.options.formats[a]=b}},o={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel"},p=!f||f.ios&&f.flatVersion>=500||!f.ios&&"undefined"!=typeof document.documentElement.contentEditable,q={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},r="textarea,main,article,section,aside,nav,header,footer,div".split(","),s=e.extend({init:function(b,d){var f,g,l,m=this,n=c.ui.editor,o=n.Dom.name(b);
p&&-1!=a.inArray(o,r)&&(e.fn.init.call(m,b,d),m.options=j({},m.options,d),b=m.element,b.closest("form").on("submit"+k,function(){m.update()}),l=h({},m.options),l.editor=m,"textarea"==o?(m._wrapTextarea(),g=m.wrapper.find(".k-editor-toolbar"),b[0].id&&g.attr("aria-controls",b[0].id)):(m.element.addClass("k-widget k-editor k-editor-inline"),l.popup=!0,g=a('<ul class="k-editor-toolbar k-secondary" role="toolbar" />').insertBefore(b)),m.toolbar=new n.Toolbar(g[0],l),m.toolbar.bindTo(m),m._initializeContentElement(m),m.keyboard=new n.Keyboard([new n.TypingHandler(m),new n.SystemHandler(m)]),m.clipboard=new n.Clipboard(this),m.undoRedoStack=new n.UndoRedoStack,f=d&&d.value?d.value:m.textarea?b.val().replace(/[\r\n\v\f\t ]+/gi," "):b[0].innerHTML,m.value(f),a(document).on("mousedown",i(m._endTyping,m)).on("mouseup",i(m._mouseup,m)),c.notify(m))},_endTyping:function(){var a=this.keyboard;try{a.isTypingInProgress()&&(a.endTyping(!0),this.saveSelection())}catch(b){}},_selectionChange:function(){this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_wrapTextarea:function(){var b=this,c=b.element,d=c[0].style.width,e=c[0].style.height,f=n.editorWrapperTemplate,g=a(f).insertBefore(c).width(d).height(e),h=g.find(".k-editable-area");c.attr("autocomplete","off").appendTo(h).addClass("k-content k-raw-content").css("display","none"),b.textarea=c,b.wrapper=g},_createContentElement:function(b){var d,e,f,g=this,h=g.textarea,i=c.support.isRtl(h)?"direction:rtl;":"";return h.hide(),d=a("<iframe />",{src:'javascript:""',frameBorder:"0"}).css("display","").addClass("k-content").insertBefore(h)[0],e=d.contentWindow||d,f=e.document||d.contentDocument,a(d).one("load",function(){var a=g.toolbar.items().filter(".k-decorated");a.kendoSelectBox("decorate",f)}),f.open(),f.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;background:#fff;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+i+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"a{color:#00a}"+"code{font-size:1.23em}"+".k-table{width:100%;border-spacing:0;margin: 0 0 1em;}"+".k-table td{min-width:1px;padding:.2em .3em;}"+".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}"+".k-table p{margin:0;padding:0;}"+"</style>"+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+a.map(b,function(a){return"<link rel='stylesheet' href='"+a+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),f.close(),e},_initializeContentElement:function(){var b,d=this;if(d.textarea)d.window=d._createContentElement(d.options.stylesheets),b=d.document=d.window.contentDocument||d.window.document,d.body=b.body,a(d.window).on("blur"+k,function(){var a=d.textarea.val(),b=d.encodedValue();d.update(),b!=a&&d.trigger("change")}),a(b).on("mouseup"+k,i(d._mouseup,d));else{d.window=window,b=d.document=document,d.body=d.element[0];var e=d.toolbar.items().filter(".k-decorated");e.kendoSelectBox("decorate",b)}try{b.execCommand("enableObjectResizing",!1,"false"),b.execCommand("enableInlineTableEditing",null,!1)}catch(f){}c.support.touch&&a(b).on("selectionchange"+k,function(){d._selectionChange()}),a(d.body).on("keydown"+k,function(a){var b;if(a.keyCode===l.F10)return setTimeout(i(d.toolbar.focus,d.toolbar),100),a.preventDefault(),void 0;if(a.keyCode===l.BACKSPACE){b=d.getRange();var e,f=g.msie?"":'<br _moz_dirty="" />',h=c.ui.editor.Dom;b.deleteContents(),e=b.commonAncestorContainer,"p"===h.name(e)&&""===e.innerHTML&&(e.innerHTML=f,b.setStart(e,0),b.collapse(!0),d.selectRange(b))}else if(a.keyCode==l.LEFT||a.keyCode==l.RIGHT){b=d.getRange();var j=a.keyCode==l.LEFT,k=b[j?"startContainer":"endContainer"],m=b[j?"startOffset":"endOffset"],n=j?-1:1;j&&(m-=1),m+n>0&&3==k.nodeType&&""==k.nodeValue[m]&&(b.setStart(k,m+n),b.collapse(!0),d.selectRange(b))}var o=d.keyboard.toolFromShortcut(d.toolbar.tools,a);return o?(a.preventDefault(),/undo|redo/.test(o)||d.keyboard.endTyping(!0),d.trigger("keydown",a),d.exec(o),!1):(d.keyboard.clearTimeout(),d.keyboard.keydown(a),void 0)}).on("keyup"+k,function(b){var c=[8,9,33,34,35,36,37,38,39,40,40,45,46];(a.inArray(b.keyCode,c)>-1||65==b.keyCode&&b.ctrlKey&&!b.altKey&&!b.shiftKey)&&d._selectionChange(),d.keyboard.keyup(b)}).on("mousedown"+k,function(b){d._selectionStarted=!0;var c=a(b.target);!g.gecko&&2==b.which&&c.is("a[href]")&&window.open(c.attr("href"),"_new")}).on("click"+k,function(a){var b,e=c.ui.editor.Dom;"img"===e.name(a.target)&&(b=d.createRange(),b.selectNode(a.target),d.selectRange(b))}).on("cut"+k+" paste"+k,function(a){d.clipboard["on"+a.type](a)}).on("focusin"+k,function(){a(this).addClass("k-state-active"),d.toolbar.show()}).on("focusout"+k,function(){setTimeout(function(){var b=c._activeElement(),e=d.body,f=d.toolbar;b==e||a.contains(e,b)||f.focused()||(a(e).removeClass("k-state-active"),f.hide())},10)})},_mouseup:function(){var a=this;a._selectionStarted&&setTimeout(function(){a._selectionChange()},1)},refresh:function(){var a=this;a.textarea.val(a.value()),a.wrapper.find("iframe").remove(),a._initializeContentElement(a),a.value(a.textarea.val())},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:o,formats:{},encoded:!0,stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],q.basic,q.alignment,q.lists,q.indenting,q.links,["insertImage"],q.tables)},destroy:function(){var b=this;e.fn.destroy.call(b),a(b.window).add(b.document).add(b.body).add(b.wrapper).add(b.element.closest("form")).off(k),a(document).off("mousedown",i(b._endTyping,b)).off("mouseup",i(b._mouseup,b)),c.destroy(b.wrapper)},value:function(d){var e=this.body,f=c.ui.editor,h=f.Dom,i=f.Serializer.domToXhtml(e);if(d===b)return i;if(d!=i){var j=/onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;if(d=(d||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<telerik:script $1>$2</telerik:script>").replace(/<img([^>]*)>/gi,function(a){return a.replace(j,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/<p([^>]*)>(\s*)?<\/p>/gi,"<p$1>"+f.emptyElementContent+"</p>"),g.msie&&g.version<9){d="<br/>"+d;var k="originalsrc",l="originalhref";d=d.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,l+'="$1"'),d=d.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,k+'="$1"'),e.innerHTML=d,h.remove(e.firstChild),a(e).find("telerik\\:script,script,link,img,a").each(function(){var a=this;a[l]&&(a.setAttribute("href",a[l]),a.removeAttribute(l)),a[k]&&(a.setAttribute("src",a[k]),a.removeAttribute(k))})}else e.innerHTML=d,g.msie&&(h.normalize(e),setTimeout(function(){var a,b,c,d=e.getElementsByTagName("ol");for(a=0;a<d.length;a++)b=d[a],c=b.getAttribute("start"),b.setAttribute("start",1),c?b.setAttribute("start",c):b.removeAttribute(c)},1));a("table",this.body).addClass("k-table"),this.selectionRestorePoint=null,this.update()}},saveSelection:function(b){b=b||this.getRange();var d=b.commonAncestorContainer,e=this.body;(d==e||a.contains(e,d))&&(this.selectionRestorePoint=new c.ui.editor.RestorePoint(b))},_focusBody:function(){var a=this.body;c._activeElement()!=a&&a.focus()},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(a){this.textarea&&this.textarea.val(a||this.options.encoded?this.encodedValue():this.value())},encodedValue:function(){return c.ui.editor.Dom.encode(this.value())},createRange:function(a){return c.ui.editor.RangeUtils.createRange(a||this.document)},getSelection:function(){return c.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(a){this._focusBody();var b=this.getSelection();b.removeAllRanges(),b.addRange(a),this.saveSelection(a)},getRange:function(){var a=this.getSelection(),b=a.rangeCount>0?a.getRangeAt(0):this.createRange(),c=this.document;return b.startContainer!=c||b.endContainer!=c||b.startOffset||b.endOffset||(b.setStart(this.body,0),b.collapse(!0)),b},selectedHtml:function(){return c.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(a){this.clipboard.paste(a)},exec:function(a,b){var c,d,e=this,f=null;if(!a)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if(a=a.toLowerCase(),e.keyboard.isTypingInProgress()||e.restoreSelection(),d=e.toolbar.toolById(a),!d)for(var g in s.defaultTools)if(g.toLowerCase()==a){d=s.defaultTools[g];break}if(d){if(c=e.getRange(),d.command&&(f=d.command(h({range:c},b))),e.trigger("execute",{name:a,command:f}),/undo|redo/i.test(a))e.undoRedoStack[a]();else if(f&&(f.managesUndoRedo||e.undoRedoStack.push(f),f.editor=e,f.exec(),f.async))return f.change=i(e._selectionChange,e),void 0;e._selectionChange()}}});s.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},c.ui.plugin(s);var t=d.extend({init:function(a){this.options=a},initialize:function(a,b){a.attr({unselectable:"on",title:b.title})},command:function(a){return new this.options.command(a)},update:a.noop});t.exec=function(a,b,c){a.exec(b,{value:c})};var u=t.extend({init:function(a){t.fn.init.call(this,a)},command:function(a){var b=this;return new c.ui.editor.FormatCommand(h(a,{formatter:b.options.formatter}))},update:function(a,b){var c=this.options.finder.isFormatted(b);a.toggleClass("k-state-selected",c),a.attr("aria-pressed",c)}});n.registerTool("separator",new t({template:new m({template:n.separatorTemplate})})),h(c.ui,{editor:{ToolTemplate:m,EditorUtils:n,Tool:t,FormatTool:u,_bomFill:g.msie&&g.version<9?"":"",emptyElementContent:g.msie?g.version<9?"":"":'<br _moz_dirty="" />'}})}(window.jQuery),function(a){function b(a){var b,c,d={};for(b=0,c=a.length;c>b;b++)d[a[b]]=!0;return d}var c=window.kendo,d=a.map,e=a.extend,f=c.support.browser,g="style",h="float",i="cssFloat",j="styleFloat",k="class",l="k-marker",m=b("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),n="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),o=b(n),p="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),q=b(p),r=b("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),s=function(a){1==a.nodeType&&a.normalize()};f.msie&&f.version>=8&&(s=function(a){if(1==a.nodeType&&a.firstChild)for(var b=a.firstChild,c=b;;){if(c=c.nextSibling,!c)break;3==c.nodeType&&3==b.nodeType&&(c.nodeValue=b.nodeValue+c.nodeValue,A.remove(b)),b=c}});var t,u=/^\s+$/,v=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,w=/\ufeff/g,x="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),y=/[\u00A0-\u2666<>\&]/g,z={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},A={findNodeIndex:function(a,b){for(var c=0;;){if(a=a.previousSibling,!a)break;b&&3==a.nodeType||c++}return c},isDataNode:function(a){return a&&null!==a.nodeValue&&null!==a.data},isAncestorOf:function(b,c){try{return!A.isDataNode(b)&&(a.contains(b,A.isDataNode(c)?c.parentNode:c)||c.parentNode==b)}catch(d){return!1}},isAncestorOrSelf:function(a,b){return A.isAncestorOf(a,b)||a==b},findClosestAncestor:function(a,b){if(A.isAncestorOf(a,b))for(;b&&b.parentNode!=a;)b=b.parentNode;return b},getNodeLength:function(a){return A.isDataNode(a)?a.length:a.childNodes.length},splitDataNode:function(a,b){for(var c=a.cloneNode(!1),d="",e=a;e.nextSibling&&3==e.nextSibling.nodeType&&e.nextSibling.nodeValue;)d+=e.nextSibling.nodeValue,e=e.nextSibling;a.deleteData(b,a.length),c.deleteData(0,b),c.nodeValue+=d,A.insertAfter(c,a)},attrEquals:function(b,c){for(var d in c){var e=b[d];if(d==h&&(e=b[a.support.cssFloat?i:j]),"object"==typeof e){if(!A.attrEquals(e,c[d]))return!1}else if(e!=c[d])return!1}return!0},blockParentOrBody:function(a){return A.parentOfType(a,n)||a.ownerDocument.body},blockParents:function(b){var c,d,e=[];for(c=0,d=b.length;d>c;c++){var f=A.parentOfType(b[c],A.blockElements);f&&a.inArray(f,e)<0&&e.push(f)}return e},windowFromDocument:function(a){return a.defaultView||a.parentWindow},normalize:s,blockElements:n,inlineElements:p,empty:m,fillAttrs:r,toHex:function(a){var b=v.exec(a);return b?"#"+d(b.slice(1),function(a){return a=parseInt(a,10).toString(16),a.length>1?a:"0"+a}).join(""):a},encode:function(a){return a.replace(y,function(a){var b=a.charCodeAt(0),c=z[b];return c?"&"+c+";":a})},stripBom:function(a){return a.replace(w,"")},name:function(a){return a.nodeName.toLowerCase()},significantChildNodes:function(b){return a.grep(b.childNodes,function(a){return 3!=a.nodeType||!A.isWhitespace(a)})},lastTextNode:function(a){var b=null;if(3==a.nodeType)return a;for(var c=a.lastChild;c;c=c.previousSibling)if(b=A.lastTextNode(c))return b;return b},is:function(a,b){return A.name(a)==b},isMarker:function(a){return a.className==l},isWhitespace:function(a){return u.test(a.nodeValue)},isBlock:function(a){return o[A.name(a)]},isEmpty:function(a){return m[A.name(a)]},isInline:function(a){return q[A.name(a)]},scrollContainer:function(a){var b=A.windowFromDocument(a),d=(b.contentWindow||b).document||b.ownerDocument||b;return d=c.support.browser.webkit||"BackCompat"==d.compatMode?d.body:d.documentElement},scrollTo:function(b){var c,d,e=a(A.isDataNode(b)?b.parentNode:b),f=A.windowFromDocument(b.ownerDocument),g=f.innerHeight,h=A.scrollContainer(b.ownerDocument);"br"==A.name(e[0])&&(e=e.parent()),c=e.offset().top,d=e[0].offsetHeight,d+c>h.scrollTop+g&&(h.scrollTop=d+c-g)},persistScrollTop:function(a){t=A.scrollContainer(a).scrollTop},restoreScrollTop:function(a){A.scrollContainer(a).scrollTop=t},insertAt:function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)},insertBefore:function(a,b){return b.parentNode?b.parentNode.insertBefore(a,b):b},insertAfter:function(a,b){return b.parentNode.insertBefore(a,b.nextSibling)},remove:function(a){a.parentNode.removeChild(a)},removeTextSiblings:function(a){for(var b=a.parentNode;a.nextSibling&&3==a.nextSibling.nodeType;)b.removeChild(a.nextSibling);for(;a.previousSibling&&3==a.previousSibling.nodeType;)b.removeChild(a.previousSibling)},trim:function(a){for(var b=a.childNodes.length-1;b>=0;b--){var c=a.childNodes[b];A.isDataNode(c)?(A.stripBom(c.nodeValue).length||A.remove(c),A.isWhitespace(c)&&A.insertBefore(c,a)):c.className!=l&&(A.trim(c),c.childNodes.length||A.isEmpty(c)||A.remove(c))}return a},closest:function(a,b){for(;a&&A.name(a)!=b;)a=a.parentNode;return a},sibling:function(a,b){do a=a[b];while(a&&1!=a.nodeType);return a},next:function(a){return A.sibling(a,"nextSibling")},prev:function(a){return A.sibling(a,"previousSibling")},parentOfType:function(a,b){do a=a.parentNode;while(a&&!A.ofType(a,b));return a},ofType:function(b,c){return a.inArray(A.name(b),c)>=0},changeTag:function(a,b){var c,d,e,f,h,i=A.create(a.ownerDocument,b),j=a.attributes;for(c=0,d=j.length;d>c;c++)h=j[c],h.specified&&(e=h.nodeName,f=h.nodeValue,e==k?i.className=f:e==g?i.style.cssText=a.style.cssText:i.setAttribute(e,f));for(;a.firstChild;)i.appendChild(a.firstChild);return A.insertBefore(i,a),A.remove(a),i},wrap:function(a,b){return A.insertBefore(b,a),b.appendChild(a),b},unwrap:function(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)},create:function(a,b,c){return A.attr(a.createElement(b),c)},attr:function(a,b){b=e({},b),b&&g in b&&(A.style(a,b.style),delete b.style);for(var c in b)null===b[c]?(a.removeAttribute(c),delete b[c]):"className"==c&&(a[c]=b[c]);return e(a,b)},style:function(b,c){a(b).css(c||{})},unstyle:function(b,c){for(var d in c)d==h&&(d=a.support.cssFloat?i:j),b.style[d]="";""===b.style.cssText&&b.removeAttribute(g)},inlineStyle:function(b,c,e){var g,h=a(A.create(b,c,e));return b.body.appendChild(h[0]),g=d(x,function(a){return f.msie&&"line-height"==a&&"1px"==h.css(a)?"line-height:1.5":a+":"+h.css(a)}).join(";"),h.remove(),g},removeClass:function(b,c){var d,e,f=" "+b.className+" ",g=c.split(" ");for(d=0,e=g.length;e>d;d++)f=f.replace(" "+g[d]+" "," ");f=a.trim(f),f.length?b.className=f:b.removeAttribute(k)},commonAncestor:function(){var a,b,c,d,e,f=arguments.length,g=[],h=1/0,i=null;if(!f)return null;if(1==f)return arguments[0];for(a=0;f>a;a++){for(b=[],c=arguments[a];c;)b.push(c),c=c.parentNode;g.push(b.reverse()),h=Math.min(h,b.length)}if(1==f)return g[0][0];for(a=0;h>a;a++){for(d=g[0][a],e=1;f>e;e++)if(d!=g[e][a])return i;i=d}return i},closestSplittableParent:function(a){var b;return b=1==a.length?A.parentOfType(a[0],["ul","ol"]):A.commonAncestor.apply(null,a),b||(b=A.parentOfType(a[0],["p","td"])||a[0].ownerDocument.body),A.isInline(b)&&(b=A.blockParentOrBody(b)),b}};c.ui.editor.Dom=A}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.editor,e=d.Dom,f=a.extend,g="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),h=/"/g,i=/<br[^>]*>/i,j=/<p><\/p>/i,k=/([\w|\-]+)\s*:\s*([^;]+);?/i,l={domToXhtml:function(c){function d(c){var d,f,g,i=[],j=c.attributes,l=a.trim;if(e.is(c,"img")){var m=c.style.width,o=c.style.height,p=a(c);m&&(p.attr("width",parseInt(m,10)),e.unstyle(c,{width:b})),o&&(p.attr("height",parseInt(o,10)),e.unstyle(c,{height:b}))}for(f=0,g=j.length;g>f;f++){d=j[f];var q=d.nodeName;("class"!=q||d.nodeValue)&&(d.specified||"value"==q&&!c.value||"type"==q&&"text"==d.nodeValue)&&q.indexOf("_moz")<0&&"complete"!=q&&"altHtml"!=q&&i.push(d)}if(i.length)for(i.sort(function(a,b){return a.nodeName>b.nodeName?1:a.nodeName<b.nodeName?-1:0}),f=0,g=i.length;g>f;f++){d=i[f];var r=d.nodeName,s=d.nodeValue;if(!("contenteditable"==r.toLowerCase()&&(e.is(c,"table")||e.is(c,"td"))||"class"==r&&"k-table"==s)){if(n.push(" "),n.push(r),n.push('="'),"style"==r)for(var t=l(s||c.style.cssText).split(";"),u=0,v=t.length;v>u;u++){var w=t[u];if(w.length){var x=k.exec(w);if(!x)continue;var y=l(x[1].toLowerCase()),z=l(x[2]);if("font-size-adjust"==y||"font-stretch"==y)continue;y.indexOf("color")>=0?z=e.toHex(z):y.indexOf("font")>=0?z=z.replace(h,"'"):/\burl\(/g.test(z)&&(z=z.replace(h,"")),n.push(y),n.push(":"),n.push(z),n.push(";")}}else"src"==r||"href"==r?n.push(c.getAttribute(r,2)):n.push(e.fillAttrs[r]?r:s);n.push('"')}}}function f(a,b){for(var c=a.firstChild;c;c=c.nextSibling)m(c,b)}function l(a){return a.nodeValue.replace(/\ufeff/g,"")}function m(b,c){var g,h,i,j,k,m=b.nodeType;if(1==m){if(g=e.name(b),!g||(b.attributes._moz_dirty||b.attributes._moz_editor_bogus_node)&&e.is(b,"br")||"k-marker"==b.className)return;if(e.isInline(b)&&1==b.childNodes.length&&3==b.firstChild.nodeType&&!l(b.firstChild))return;if(h=o[g])return h.start(b),f(b),h.end(b),void 0;n.push("<"),n.push(g),d(b),e.empty[g]?n.push(" />"):(n.push(">"),f(b,c||e.is(b,"pre")),n.push("</"),n.push(g),n.push(">"))}else 3==m?(j=l(b),!c&&a.support.leadingWhitespace&&(i=b.parentNode,k=b.previousSibling,k||(k=(e.isInline(i)?i:b).previousSibling),(!k||""===k.innerHTML||e.isBlock(k))&&(j=j.replace(/^[\r\n\v\f\t ]+/,"")),j=j.replace(/ +/," ")),n.push(e.encode(j))):4==m?(n.push("<![CDATA["),n.push(b.data),n.push("]]>")):8==m&&(b.data.indexOf("[CDATA[")<0?(n.push("<!--"),n.push(b.data),n.push("-->")):(n.push("<!"),n.push(b.data),n.push(">")))}var n=[],o={"telerik:script":{start:function(a){n.push("<script"),d(a),n.push(">")},end:function(){n.push("</script>")}},b:{start:function(){n.push("<strong>")},end:function(){n.push("</strong>")}},i:{start:function(){n.push("<em>")},end:function(){n.push("</em>")}},u:{start:function(){n.push('<span style="text-decoration:underline;">')},end:function(){n.push("</span>")}},iframe:{start:function(a){n.push("<iframe"),d(a),n.push(">")},end:function(){n.push("</iframe>")}},font:{start:function(a){n.push('<span style="');var b=a.getAttribute("color"),c=g[a.getAttribute("size")],d=a.getAttribute("face");b&&(n.push("color:"),n.push(e.toHex(b)),n.push(";")),d&&(n.push("font-face:"),n.push(d),n.push(";")),c&&(n.push("font-size:"),n.push(c),n.push(";")),n.push('">')},end:function(){n.push("</span>")}}};return 1==c.childNodes.length&&3==c.firstChild.nodeType?e.encode(l(c.firstChild).replace(/[\r\n\v\f\t ]+/," ")):(f(c),n=n.join(""),""===n.replace(i,"").replace(j,"")?"":n)}};f(d,{Serializer:l})}(window.kendo.jQuery),function(a){function b(a,b,c,d){if(a==b)return d-c;for(var e=b;e&&e.parentNode!=a;)e=e.parentNode;if(e)return n(e)-c;for(e=a;e&&e.parentNode!=b;)e=e.parentNode;if(e)return d-n(e)-1;for(var f=m.commonAncestor(a,b),g=a;g&&g.parentNode!=f;)g=g.parentNode;g||(g=f);for(var h=b;h&&h.parentNode!=f;)h=h.parentNode;return h||(h=f),g==h?0:n(h)-n(g)}function c(a,c){function d(a){try{return b(a.startContainer,a.endContainer,a.startOffset,a.endOffset)<0}catch(c){return!0}}d(a)&&(c?(a.commonAncestorContainer=a.endContainer=a.startContainer,a.endOffset=a.startOffset):(a.commonAncestorContainer=a.startContainer=a.endContainer,a.startOffset=a.endOffset),a.collapsed=!0)}function d(a){a.collapsed=a.startContainer==a.endContainer&&a.startOffset==a.endOffset;for(var b=a.startContainer;b&&b!=a.endContainer&&!m.isAncestorOf(b,a.endContainer);)b=b.parentNode;a.commonAncestorContainer=b}function e(a){var b=a.duplicate(),c=a.duplicate();return b.collapse(!0),c.collapse(!1),m.commonAncestor(a.parentElement(),b.parentElement(),c.parentElement())}function f(a,b,c){var d,e=b[c?"startContainer":"endContainer"],f=b[c?"startOffset":"endOffset"],g=0,h=o(e),i=h?e:e.childNodes[f]||null,j=h?e.parentNode:e,k=b.ownerDocument,l=k.body.createTextRange();(3==e.nodeType||4==e.nodeType)&&(g=f),j||(j=k.body),"img"==j.nodeName.toLowerCase()?(l.moveToElementText(j),l.collapse(!1),a.setEndPoint(c?"StartToStart":"EndToStart",l)):(d=j.insertBefore(m.create(k,"a"),i),l.moveToElementText(d),m.remove(d),l[c?"moveStart":"moveEnd"]("character",g),l.collapse(!1),a.setEndPoint(c?"StartToStart":"EndToStart",l))}function g(a,b,c,d){var e,f,g,h,i,j,k,l=m.create(b.ownerDocument,"a"),p=a.duplicate(),q=d?"StartToStart":"StartToEnd";l.innerHTML="",p.collapse(d),f=p.parentElement(),m.isAncestorOrSelf(c,f)||(f=c);do f.insertBefore(l,l.previousSibling),p.moveToElementText(l);while((e=p.compareEndPoints(q,a))>0&&l.previousSibling);g=l.nextSibling,-1==e&&o(g)?(p.setEndPoint(d?"EndToStart":"EndToEnd",a),m.remove(l),j=[g,p.text.length]):(h=!d&&l.previousSibling,i=d&&l.nextSibling,o(i)?j=[i,0]:o(h)?j=[h,h.length]:(k=n(l),j=f.nextSibling&&k==f.childNodes.length-1?[f.nextSibling,0]:[f,k]),m.remove(l)),b[d?"setStart":"setEnd"].apply(b,j)}var h=window.kendo,i=h.Class,j=a.extend,k=h.ui.editor,l=h.support.browser,m=k.Dom,n=m.findNodeIndex,o=m.isDataNode,p=m.findClosestAncestor,q=m.getNodeLength,r=m.normalize,s={selectionFromWindow:function(a){return"getSelection"in a?a.getSelection():new v(a.document)},selectionFromRange:function(a){var b=A.documentFromRange(a);return s.selectionFromDocument(b)},selectionFromDocument:function(a){return s.selectionFromWindow(m.windowFromDocument(a))}},t=i.extend({init:function(b){a.extend(this,{ownerDocument:b,startContainer:b,endContainer:b,commonAncestorContainer:b,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(a,b){this.startContainer=a,this.startOffset=b,d(this),c(this,!0)},setEnd:function(a,b){this.endContainer=a,this.endOffset=b,d(this),c(this,!1)},setStartBefore:function(a){this.setStart(a.parentNode,n(a))},setStartAfter:function(a){this.setStart(a.parentNode,n(a)+1)},setEndBefore:function(a){this.setEnd(a.parentNode,n(a))},setEndAfter:function(a){this.setEnd(a.parentNode,n(a)+1)},selectNode:function(a){this.setStartBefore(a),this.setEndAfter(a)},selectNodeContents:function(a){this.setStart(a,0),this.setEnd(a,a[1===a.nodeType?"childNodes":"nodeValue"].length)},collapse:function(a){var b=this;a?b.setEnd(b.startContainer,b.startOffset):b.setStart(b.endContainer,b.endOffset)},deleteContents:function(){var a=this,b=a.cloneRange();a.startContainer!=a.commonAncestorContainer&&a.setStartAfter(p(a.commonAncestorContainer,a.startContainer)),a.collapse(!0),function c(a){for(;a.next();)a.hasPartialSubtree()?c(a.getSubtreeIterator()):a.remove()}(new u(b))},cloneContents:function(){var a=A.documentFromRange(this);return function b(c){for(var d,e=a.createDocumentFragment();d=c.next();)d=d.cloneNode(!c.hasPartialSubtree()),c.hasPartialSubtree()&&d.appendChild(b(c.getSubtreeIterator())),e.appendChild(d);return e}(new u(this))},extractContents:function(){var a=this,b=a.cloneRange();a.startContainer!=a.commonAncestorContainer&&a.setStartAfter(p(a.commonAncestorContainer,a.startContainer)),a.collapse(!0);var c=A.documentFromRange(a);return function d(b){for(var e,f=c.createDocumentFragment();e=b.next();)b.hasPartialSubtree()?(e=e.cloneNode(!1),e.appendChild(d(b.getSubtreeIterator()))):b.remove(a.originalRange),f.appendChild(e);return f}(new u(b))},insertNode:function(a){var b=this;o(b.startContainer)?(b.startOffset!=b.startContainer.nodeValue.length&&m.splitDataNode(b.startContainer,b.startOffset),m.insertAfter(a,b.startContainer)):m.insertAt(b.startContainer,a,b.startOffset),b.setStart(b.startContainer,b.startOffset)},cloneRange:function(){return a.extend(new t(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var a=this.startContainer.nodeName,b=this.endContainer.nodeName;return["#text"==a?this.startContainer.nodeValue:a,"(",this.startOffset,") : ","#text"==b?this.endContainer.nodeValue:b,"(",this.endOffset,")"].join("")}}),u=i.extend({init:function(b){if(a.extend(this,{range:b,_current:null,_next:null,_end:null}),!b.collapsed){var c=b.commonAncestorContainer;this._next=b.startContainer!=c||o(b.startContainer)?p(c,b.startContainer):b.startContainer.childNodes[b.startOffset],this._end=b.endContainer!=c||o(b.endContainer)?p(c,b.endContainer).nextSibling:b.endContainer.childNodes[b.endOffset]}},hasNext:function(){return!!this._next},next:function(){var a=this,b=a._current=a._next;return a._next=a._current&&a._current.nextSibling!=a._end?a._current.nextSibling:null,o(a._current)&&(a.range.endContainer==a._current&&(b=b.cloneNode(!0),b.deleteData(a.range.endOffset,b.length-a.range.endOffset)),a.range.startContainer==a._current&&(b=b.cloneNode(!0),b.deleteData(0,a.range.startOffset))),b},traverse:function(a){function b(){return d._current=d._next,d._next=d._current&&d._current.nextSibling!=d._end?d._current.nextSibling:null,d._current}for(var c,d=this;c=b();)d.hasPartialSubtree()?d.getSubtreeIterator().traverse(a):a(c);return c},remove:function(a){var b,c,d,e=this,f=e.range.startContainer==e._current,g=e.range.endContainer==e._current;if(o(e._current)&&(f||g))b=f?e.range.startOffset:0,c=g?e.range.endOffset:e._current.length,d=c-b,a&&(f||g)&&(e._current==a.startContainer&&b<=a.startOffset&&(a.startOffset-=d),e._current==a.endContainer&&c<=a.endOffset&&(a.endOffset-=d)),e._current.deleteData(b,d);
else{var h=e._current.parentNode;if(a&&(e.range.startContainer==h||e.range.endContainer==h)){var i=n(e._current);h==a.startContainer&&i<=a.startOffset&&(a.startOffset-=1),h==a.endContainer&&i<a.endOffset&&(a.endOffset-=1)}m.remove(e._current)}},hasPartialSubtree:function(){return!o(this._current)&&(m.isAncestorOrSelf(this._current,this.range.startContainer)||m.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var a=this,b=a.range.cloneRange();return b.selectNodeContents(a._current),m.isAncestorOrSelf(a._current,a.range.startContainer)&&b.setStart(a.range.startContainer,a.range.startOffset),m.isAncestorOrSelf(a._current,a.range.endContainer)&&b.setEnd(a.range.endContainer,a.range.endOffset),new u(b)}}),v=i.extend({init:function(a){this.ownerDocument=a,this.rangeCount=1},addRange:function(a){var b=this.ownerDocument.body.createTextRange();f(b,a,!1),f(b,a,!0),b.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var a,b,c,d=new t(this.ownerDocument),f=this.ownerDocument.selection;try{if(a=f.createRange(),b=a.item?a.item(0):a.parentElement(),b.ownerDocument!=this.ownerDocument)return d}catch(h){return d}if("Control"==f.type)d.selectNode(a.item(0));else{c=e(a),g(a,d,c,!0),g(a,d,c,!1),9==d.startContainer.nodeType&&d.setStart(d.endContainer,d.startOffset),9==d.endContainer.nodeType&&d.setEnd(d.startContainer,d.endOffset),0===a.compareEndPoints("StartToEnd",a)&&d.collapse(!1);var i=d.startContainer,j=d.endContainer,k=this.ownerDocument.body;if(!(d.collapsed||0!==d.startOffset||d.endOffset!=q(d.endContainer)||i==j&&o(i)&&i.parentNode==k)){for(var l=!1,m=!1;0===n(i)&&i==i.parentNode.firstChild&&i!=k;)i=i.parentNode,l=!0;for(;n(j)==q(j.parentNode)-1&&j==j.parentNode.lastChild&&j!=k;)j=j.parentNode,m=!0;i==k&&j==k&&l&&m&&(d.setStart(i,0),d.setEnd(j,q(k)))}}return d}}),w=i.extend({init:function(a){this.enumerate=function(){function b(a){if(m.is(a,"img")||3==a.nodeType&&(!m.isWhitespace(a)||""==a.nodeValue))c.push(a);else for(a=a.firstChild;a;)b(a),a=a.nextSibling}var c=[];return new u(a).traverse(b),c}}}),x=i.extend({init:function(a){var b=this;b.range=a,b.rootNode=A.documentFromRange(a),b.body=b.getEditable(a),"body"!=m.name(b.body)&&(b.rootNode=b.body),b.html=b.body.innerHTML,b.startContainer=b.nodeToPath(a.startContainer),b.endContainer=b.nodeToPath(a.endContainer),b.startOffset=b.offset(a.startContainer,a.startOffset),b.endOffset=b.offset(a.endContainer,a.endOffset)},index:function(a){for(var b=0,c=a.nodeType;a=a.previousSibling;){var d=a.nodeType;(3!=d||c!=d)&&b++,c=d}return b},getEditable:function(a){for(var b=a.commonAncestorContainer;b&&(3==b.nodeType||b.attributes&&!b.attributes.contentEditable);)b=b.parentNode;return b},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(a,b){if(3==a.nodeType)for(;(a=a.previousSibling)&&3==a.nodeType;)b+=a.nodeValue.length;return b},nodeToPath:function(a){for(var b=[];a!=this.rootNode;)b.push(this.index(a)),a=a.parentNode;return b},toRangePoint:function(a,b,c,d){for(var e=this.rootNode,f=c.length,g=d;f--;)e=e.childNodes[c[f]];for(;3==e.nodeType&&e.nodeValue.length<g;)g-=e.nodeValue.length,e=e.nextSibling;a[b?"setStart":"setEnd"](e,g)},toRange:function(){var a=this,b=a.range.cloneRange();return a.toRangePoint(b,!0,a.startContainer,a.startOffset),a.toRangePoint(b,!1,a.endContainer,a.endOffset),b}}),y=i.extend({init:function(){this.caret=null},addCaret:function(a){var b=this;return b.caret=m.create(A.documentFromRange(a),"span",{className:"k-marker"}),a.insertNode(b.caret),a.selectNode(b.caret),b.caret},removeCaret:function(a){var b=this,c=b.caret.previousSibling,d=0;c&&(d=o(c)?c.nodeValue.length:n(c));var e=b.caret.parentNode,f=c?n(c):0;m.remove(b.caret),r(e);var g=e.childNodes[f];if(o(g))a.setStart(g,d);else if(g){var h=m.lastTextNode(g);h?a.setStart(h,h.nodeValue.length):a[c?"setStartAfter":"setStartBefore"](g)}else l.msie||e.innerHTML||(e.innerHTML='<br _moz_dirty="" />'),a.selectNodeContents(e);a.collapse(!0)},add:function(a,b){var c=this,d=a.collapsed&&!A.isExpandable(a),e=A.documentFromRange(a);b&&a.collapsed&&(c.addCaret(a),a=A.expand(a));var f=a.cloneRange();if(f.collapse(!1),c.end=m.create(e,"span",{className:"k-marker"}),f.insertNode(c.end),f=a.cloneRange(),f.collapse(!0),c.start=c.end.cloneNode(!0),f.insertNode(c.start),d){var g=e.createTextNode("");m.insertAfter(g.cloneNode(),c.start),m.insertBefore(g,c.end)}return a.setStartBefore(c.start),a.setEndAfter(c.end),r(a.commonAncestorContainer),a},remove:function(a){var b,c,d,e=this,f=e.start,g=e.end;for(r(a.commonAncestorContainer);!f.nextSibling&&f.parentNode;)f=f.parentNode;for(;!g.previousSibling&&g.parentNode;)g=g.parentNode;b=f.previousSibling&&3==f.previousSibling.nodeType&&f.nextSibling&&3==f.nextSibling.nodeType,c=g.previousSibling&&3==g.previousSibling.nodeType&&g.nextSibling&&3==g.nextSibling.nodeType,d=b&&c,f=f.nextSibling,g=g.previousSibling;var h=!1,i=!1;if(f==e.end&&(i=!!e.start.previousSibling,f=g=e.start.previousSibling||e.end.nextSibling,h=!0),m.remove(e.start),m.remove(e.end),!f||!g)return a.selectNodeContents(a.commonAncestorContainer),a.collapse(!0),void 0;var j=h?o(f)?f.nodeValue.length:f.childNodes.length:0,k=o(g)?g.nodeValue.length:g.childNodes.length;if(3==f.nodeType)for(;f.previousSibling&&3==f.previousSibling.nodeType;)f=f.previousSibling,j+=f.nodeValue.length;if(3==g.nodeType)for(;g.previousSibling&&3==g.previousSibling.nodeType;)g=g.previousSibling,k+=g.nodeValue.length;for(var l=n(f),p=f.parentNode,q=n(g),s=g.parentNode,t=f;t.previousSibling;t=t.previousSibling)3==t.nodeType&&3==t.previousSibling.nodeType&&l--;for(var u=g;u.previousSibling;u=u.previousSibling)3==u.nodeType&&3==u.previousSibling.nodeType&&q--;r(p),3==f.nodeType&&(f=p.childNodes[l]),r(s),3==g.nodeType&&(g=s.childNodes[q]),h?(3==f.nodeType?a.setStart(f,j):a[i?"setStartAfter":"setStartBefore"](f),a.collapse(!0)):(3==f.nodeType?a.setStart(f,j):a.setStartBefore(f),3==g.nodeType?a.setEnd(g,k):a.setEndAfter(g)),e.caret&&e.removeCaret(a)}}),z=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,A={nodes:function(a){var b=A.textNodes(a);return b.length||(a.selectNodeContents(a.commonAncestorContainer),b=A.textNodes(a),b.length||(b=m.significantChildNodes(a.commonAncestorContainer))),b},textNodes:function(a){return new w(a).enumerate()},documentFromRange:function(a){var b=a.startContainer;return 9==b.nodeType?b:b.ownerDocument},createRange:function(a){return l.msie&&l.version<9?new t(a):a.createRange()},selectRange:function(a){var b=A.image(a);b&&(a.setStartAfter(b),a.setEndAfter(b));var c=s.selectionFromRange(a);c.removeAllRanges(),c.addRange(a)},stringify:function(a){return h.format("{0}:{1} - {2}:{3}",m.name(a.startContainer),a.startOffset,m.name(a.endContainer),a.endOffset)},split:function(a,b,c){function d(d){var e=a.cloneRange();e.collapse(d),e[d?"setStartBefore":"setEndAfter"](b);var f=e.extractContents();c&&(f=m.trim(f)),m[d?"insertBefore":"insertAfter"](f,b)}d(!0),d(!1)},getMarkers:function(a){var b=[];return new u(a).traverse(function(a){"k-marker"==a.className&&b.push(a)}),b},image:function(a){var b=[];return new u(a).traverse(function(a){m.is(a,"img")&&b.push(a)}),1==b.length?b[0]:void 0},expand:function(a){var b=a.cloneRange(),c=b.startContainer.childNodes[0===b.startOffset?0:b.startOffset-1],d=b.endContainer.childNodes[b.endOffset];if(!o(c)||!o(d))return b;var e=c.nodeValue,f=d.nodeValue;if(!e||!f)return b;var g=e.split("").reverse().join("").search(z),h=f.search(z);return g&&h?(h=-1==h?f.length:h,g=-1==g?0:e.length-g,b.setStart(c,g),b.setEnd(d,h),b):b},isExpandable:function(a){var b=a.startContainer,c=A.documentFromRange(a);if(b==c||b==c.body)return!1;var d=a.cloneRange(),e=b.nodeValue;if(!e)return!1;var f=e.substring(0,d.startOffset),g=e.substring(d.startOffset),h=0,i=0;return f&&(h=f.split("").reverse().join("").search(z)),g&&(i=g.search(z)),h&&i}};j(k,{SelectionUtils:s,W3CRange:t,RangeIterator:u,W3CSelection:v,RangeEnumerator:w,RestorePoint:x,Marker:y,RangeUtils:A})}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=d.EditorUtils,f=e.registerTool,g=d.Dom,h=d.Tool,i=d.ToolTemplate,j=d.RestorePoint,k=d.Marker,l=a.extend,m=c.extend({init:function(a){var b=this;b.options=a,b.restorePoint=new j(a.range),b.marker=new k,b.formatter=a.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(a){return this.marker.add(this.getRange(),a)},releaseRange:function(a){this.marker.remove(a),this.editor.selectRange(a)},undo:function(){var a=this.restorePoint;a.restoreHtml(),this.editor.selectRange(a.toRange())},redo:function(){this.exec()},createDialog:function(c,d){var e=this.editor;return a(c).appendTo(document.body).kendoWindow(l({},e.options.dialogOptions,d)).closest(".k-window").toggleClass("k-rtl",b.support.isRtl(e.wrapper)).end()},exec:function(){var a=this,b=a.lockRange(!0);a.formatter.editor=a.editor,a.formatter.toggle(b),a.releaseRange(b)}}),n=c.extend({init:function(a,b){this.body=a.body,this.startRestorePoint=a,this.endRestorePoint=b},redo:function(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),o=m.extend({init:function(a){m.fn.init.call(this,a),this.managesUndoRedo=!0},exec:function(){var a=this.editor,b=this.options.range,c=new j(b);a.selectRange(b),a.clipboard.paste(this.options.value||""),a.undoRedoStack.push(new n(c,new j(a.getRange()))),a.focus()}}),p=h.extend({initialize:function(a,b){var c=b.editor,e=this.options,f=e.items?e.items:c.options.insertHtml;new d.SelectBox(a,{dataSource:f,dataTextField:"text",dataValueField:"value",change:function(){h.exec(c,"insertHtml",this.value())},title:c.options.messages.insertHtml,highlightFirst:!1})},command:function(a){return new o(a)},update:function(a){var b=a.data("kendoSelectBox")||a.find("select").data("kendoSelectBox");b.close(),b.value(b.options.title)}}),q=c.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(a){var b=this;b.stack=b.stack.slice(0,b.currentCommandIndex+1),b.currentCommandIndex=b.stack.push(a)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),r=c.extend({init:function(a){this.editor=a},keydown:function(b){var c=this,d=c.editor,e=d.keyboard,f=e.isTypingKey(b),g=l(a.Event(),b);if(c.editor.trigger("keydown",g),g.isDefaultPrevented()&&b.preventDefault(),!g.isDefaultPrevented()&&f&&!e.isTypingInProgress()){var h=d.getRange();return c.startRestorePoint=new j(h),e.startTyping(function(){d.selectionRestorePoint=c.endRestorePoint=new j(d.getRange()),d.undoRedoStack.push(new n(c.startRestorePoint,c.endRestorePoint))}),!0}return!1},keyup:function(a){var b=this.editor.keyboard;return this.editor.trigger("keyup",a),b.isTypingInProgress()?(b.endTyping(),!0):!1}}),s=c.extend({init:function(a){this.editor=a,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var a=this;a.endRestorePoint=new j(a.editor.getRange()),a.editor.undoRedoStack.push(new n(a.startRestorePoint,a.endRestorePoint)),a.startRestorePoint=a.endRestorePoint},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(a){var b=this,c=b.editor,d=c.keyboard;return d.isModifierKey(a)?(d.isTypingInProgress()&&d.endTyping(!0),b.startRestorePoint=new j(c.getRange()),!0):d.isSystem(a)?(b.systemCommandIsInProgress=!0,b.changed()&&(b.systemCommandIsInProgress=!1,b.createUndoCommand()),!0):!1},keyup:function(a){var b=this;return b.systemCommandIsInProgress&&b.changed()?(b.systemCommandIsInProgress=!1,b.createUndoCommand(a),!0):!1}}),t=c.extend({init:function(a){this.handlers=a,this.typingInProgress=!1},isCharacter:function(a){return a>=48&&90>=a||a>=96&&111>=a||a>=186&&192>=a||a>=219&&222>=a},toolFromShortcut:function(b,c){var d,e,f=String.fromCharCode(c.keyCode);for(d in b)if(e=a.extend({ctrl:!1,alt:!1,shift:!1},b[d].options),(e.key==f||e.key==c.keyCode)&&e.ctrl==c.ctrlKey&&e.alt==c.altKey&&e.shift==c.shiftKey)return d},isTypingKey:function(a){var b=a.keyCode;return this.isCharacter(b)&&!a.ctrlKey&&!a.altKey||32==b||13==b||8==b||46==b&&!a.shiftKey&&!a.ctrlKey&&!a.altKey},isModifierKey:function(a){var b=a.keyCode;return 17==b&&!a.shiftKey&&!a.altKey||16==b&&!a.ctrlKey&&!a.altKey||18==b&&!a.ctrlKey&&!a.shiftKey},isSystem:function(a){return 46==a.keyCode&&a.ctrlKey&&!a.altKey&&!a.shiftKey},startTyping:function(a){this.onEndTyping=a,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(b){var c=this;c.clearTimeout(),b?c.stopTyping():c.timeout=window.setTimeout(a.proxy(c.stopTyping,c),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(a,b){var c,d=this.handlers;for(c=0;c<d.length&&!d[c][b](a);c++);},keydown:function(a){this.notify(a,"keydown")},keyup:function(a){this.notify(a,"keyup")}}),u=c.extend({init:function(a){this.editor=a,this.cleaners=[new w,new x]},htmlToFragment:function(a){var b=this.editor,c=b.document,d=g.create(c,"div"),e=c.createDocumentFragment();for(d.innerHTML=a;d.firstChild;)e.appendChild(d.firstChild);return e},isBlock:function(a){return/<(div|p|ul|ol|table|h[1-6])/i.test(a)},oncut:function(){var a=this.editor,b=new j(a.getRange());setTimeout(function(){a.undoRedoStack.push(new n(b,new j(a.getRange())))})},onpaste:function(b){var c=this.editor,d=c.getRange(),e="",f=new j(d),h=g.create(c.document,"div",{className:"k-paste-container",innerHTML:e});if(g.persistScrollTop(c.document),c.body.appendChild(h),c.body.createTextRange){b.preventDefault();var i=c.createRange();i.selectNodeContents(h),c.selectRange(i);var k=c.body.createTextRange();k.moveToElementText(h),a(c.body).unbind("paste"),k.execCommand("Paste"),a(c.body).bind("paste",a.proxy(arguments.callee,this))}else{var l=c.createRange();l.selectNodeContents(h),c.selectRange(l)}d.deleteContents(),setTimeout(function(){var b,e="",h={html:""};c.selectRange(d),b=a(c.body).children(".k-paste-container"),b.each(function(){this.lastChild&&g.is(this.lastChild,"br")&&g.remove(this.lastChild),e+=this.innerHTML}),b.remove(),e=e.replace(/\ufeff/g,""),h.html=e,c.trigger("paste",h),c.clipboard.paste(h.html,!0),c.undoRedoStack.push(new n(f,new j(c.getRange()))),c._selectionChange()})},splittableParent:function(a,b){var c,d;if(a)return g.parentOfType(b,["p","ul","ol"])||b.parentNode;if(c=b.parentNode,d=b.ownerDocument.body,g.isInline(c))for(;c.parentNode!=d&&!g.isBlock(c.parentNode);)c=c.parentNode;return c},paste:function(a,b){var c,e,f=this.editor;for(c=0,e=this.cleaners.length;e>c;c++)this.cleaners[c].applicable(a)&&(a=this.cleaners[c].clean(a));b&&(a=a.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),a=a.replace(/<(a|span)[^>]*><\/\1>/gi,"")),a=a.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var h=this.isBlock(a);f.focus();var i=f.getRange();i.deleteContents(),i.startContainer==f.document&&i.selectNodeContents(f.body);var j=new k,l=j.addCaret(i),m=this.splittableParent(h,l),n=!1,o=m!=f.body&&!g.is(m,"td");o&&(h||g.isInline(m))&&(i.selectNode(l),d.RangeUtils.split(i,m,!0),n=!0);var p=this.htmlToFragment(a);if(p.firstChild&&"k-paste-container"===p.firstChild.className){var q=[];for(c=0,e=p.childNodes.length;e>c;c++)q.push(p.childNodes[c].innerHTML);p=this.htmlToFragment(q.join("<br />"))}if(i.insertNode(p),m=this.splittableParent(h,l),n){for(;l.parentNode!=m;)g.unwrap(l.parentNode);g.unwrap(l.parentNode)}g.normalize(i.commonAncestorContainer),l.style.display="inline",g.restoreScrollTop(f.document),g.scrollTo(l),j.removeCaret(i),f.selectRange(i)}}),v=c.extend({clean:function(a){var b,c,d=this,e=d.replacements;for(b=0,c=e.length;c>b;b+=2)a=a.replace(e[b],e[b+1]);return a}}),w=v.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/style=(["|'])\s*\1/g,""]},applicable:function(a){return/class="?Mso|style="[^"]*mso-/i.test(a)},stripEmptyAnchors:function(a){return a.replace(/<a([^>]*)>\s*<\/a>/gi,function(a,b){return!b||b.indexOf("href")<0?"":a})},listType:function(a){var b;return/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(a)&&(b=!0),a=a.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),!b&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(a)||b&&/^.\u00a0+/.test(a)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(a)?"ol":void 0},lists:function(b){var c,d,e,f,h,i,j,k,l=a(g.blockElements.join(","),b),m=-1,n={ul:{},ol:{}},o=b;for(d=0;d<l.length;d++)if(e=l[d],f=this.listType(e.innerHTML),f&&"p"==g.name(e)){if(h=parseFloat(e.style.marginLeft||0),i=n[f][h],(h>m||!i)&&(i=g.create(document,f),o==b?g.insertBefore(i,e):o.appendChild(i),n[f][h]=i),c!=f)for(j in n)for(k in n[j])a.contains(i,n[j][k])&&delete n[j][k];g.remove(e.firstChild),o=g.create(document,"li",{innerHTML:e.innerHTML}),i.appendChild(o),g.remove(e),m=h,c=f}else e.innerHTML?(n={ul:{},ol:{}},o=b,m=-1):g.remove(e)},removeAttributes:function(a){for(var b=a.attributes,c=b.length;c--;)a.removeAttributeNode(b[c])},createColGroup:function(c){var d,e=c.cells;e.length<2||(d=a(a.map(e,function(a){var c=a.width;return c&&0!==parseInt(c,10)?b.format('<col style="width:{0}px;"/>',c):"<col />"}).join("")),d.is("colgroup")||(d=a("<colgroup/>").append(d)),d.prependTo(a(c).closest("table")))},convertHeaders:function(b){var c=b.cells,d=a.map(c,function(b){var c=a(b).children("p").children("strong")[0];return c&&"strong"==g.name(c)?c:void 0});if(d.length==c.length){for(var e=0;e<d.length;e++)g.unwrap(d[e]);a(b).closest("table").find("colgroup").after("<thead><tr>"+a.map(c,function(b){return"<th>"+a(b).html()+"</th>"}).join("")+"</tr></thead>").end().end().remove()}},removeParagraphs:function(b){var c,d,e,f,h;for(c=0;c<b.length;c++)for(this.removeAttributes(b[c]),f=a(b[c]),h=f.children("p"),d=0,e=h.length;e>d;d++)e-1>d&&g.insertAfter(g.create(document,"br"),h[d]),g.unwrap(h[d])},removeDefaultColors:function(a){for(var b=0;b<a.length;b++)/^\s*color:\s*[^;]*;?$/i.test(a[b].style.cssText)&&g.unwrap(a[b])},tables:function(b){var c,d,e=a(b).find("table"),f=this;for(d=0;d<e.length;d++)c=e[d].rows[0],f.createColGroup(c),f.convertHeaders(c),f.removeAttributes(e[d]),f.removeParagraphs(e.eq(d).find("td,th")),f.removeDefaultColors(e.eq(d).find("span"))},clean:function(a){var b,c=this;return a=v.fn.clean.call(c,a),a=c.stripEmptyAnchors(a),b=g.create(document,"div",{innerHTML:a}),c.lists(b),c.tables(b),a=b.innerHTML.replace(/\s+class="?[^"\s>]*"?/gi,"")}}),x=v.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(a){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(a)}});l(d,{Command:m,GenericCommand:n,InsertHtmlCommand:o,InsertHtmlTool:p,UndoRedoStack:q,TypingHandler:r,SystemHandler:s,Keyboard:t,Clipboard:u,Cleaner:v,MSWordFormatCleaner:w,WebkitFormatCleaner:x}),f("insertHtml",new p({template:new i({template:e.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=b.ui.Editor.fn.options.formats,f=d.EditorUtils,g=d.Tool,h=d.ToolTemplate,i=d.FormatTool,j=d.Dom,k=d.RangeUtils,l=a.extend,m=d.EditorUtils.registerTool,n=d.EditorUtils.registerFormat,o="k-marker",p=c.extend({init:function(a){this.format=a},numberOfSiblings:function(a){var b,c=0,d=0,e=0,f=a.parentNode;for(b=f.firstChild;b;b=b.nextSibling)b!=a&&(b.className==o?e++:3==b.nodeType?c++:d++);return e>1&&f.firstChild.className==o&&f.lastChild.className==o?0:d+c},findSuitable:function(a,b){return!b&&this.numberOfSiblings(a)>0?null:j.parentOfType(a,this.format[0].tags)},findFormat:function(a){var b,c,d,e,f,g=this.format,h=j.attrEquals;for(b=0,c=g.length;c>b;b++){if(d=a,e=g[b].tags,f=g[b].attr,d&&j.ofType(d,e)&&h(d,f))return d;for(;d;)if(d=j.parentOfType(d,e),d&&h(d,f))return d}return null},isFormatted:function(a){var b,c;for(b=0,c=a.length;c>b;b++)if(this.findFormat(a[b]))return!0;return!1}}),q=c.extend({init:function(a,b){var c=this;c.finder=new p(a),c.attributes=l({},a[0].attr,b),c.tag=a[0].tags[0]},wrap:function(a){return j.wrap(a,j.create(a.ownerDocument,this.tag,this.attributes))},activate:function(a,b){var c=this;c.finder.isFormatted(b)?(c.split(a),c.remove(b)):c.apply(b)},toggle:function(a){var b=k.textNodes(a);b.length>0&&this.activate(a,b)},apply:function(a){var b,c,d,e,f=this,g=[];for(b=0,c=a.length;c>b;b++)d=a[b],e=f.finder.findSuitable(d),e?j.attr(e,f.attributes):e=f.wrap(d),g.push(e);f.consolidate(g)},remove:function(a){var b,c,d,e=this;for(b=0,c=a.length;c>b;b++)d=e.finder.findFormat(a[b]),d&&(e.attributes&&e.attributes.style?(j.unstyle(d,e.attributes.style),d.style.cssText||d.attributes["class"]||j.unwrap(d)):j.unwrap(d))},split:function(a){var b,c,d=k.textNodes(a),e=d.length;if(e>0)for(b=0;e>b;b++)c=this.finder.findFormat(d[b]),c&&k.split(a,c,!0)},consolidate:function(a){for(var b,c;a.length>1;)if(b=a.pop(),c=a[a.length-1],b.previousSibling&&b.previousSibling.className==o&&c.appendChild(b.previousSibling),b.tagName==c.tagName&&b.previousSibling==c&&b.style.cssText==c.style.cssText){for(;b.firstChild;)c.appendChild(b.firstChild);j.remove(b)}}}),r=p.extend({init:function(a,b){var c=this;c.format=a,c.greedyProperty=b,p.fn.init.call(c,a)},getInlineCssValue:function(b){var c,d,e,f,g,h,i,k,l,m,n,o,p=b.attributes,q=a.trim;if(p)for(c=0,d=p.length;d>c;c++)if(e=p[c],f=e.nodeName,g=e.nodeValue,e.specified&&"style"==f)for(h=q(g||b.style.cssText).split(";"),k=0,l=h.length;l>k;k++)if(i=h[k],i.length){if(m=i.split(":"),n=q(m[0].toLowerCase()),o=q(m[1]),n!=this.greedyProperty)continue;return n.indexOf("color")>=0?j.toHex(o):o}},getFormatInner:function(b){var c,d,e,f=a(j.isDataNode(b)?b.parentNode:b),g=f.parentsUntil("[contentEditable]").addBack();for(c=0,d=g.length;d>c;c++)if(e="className"==this.greedyProperty?g[c].className:this.getInlineCssValue(g[c]))return e;return"inherit"},getFormat:function(a){var b,c,d=this.getFormatInner(a[0]);for(b=1,c=a.length;c>b;b++)if(d!=this.getFormatInner(a[b]))return"";return d},isFormatted:function(a){return""!==this.getFormat(a)}}),s=q.extend({init:function(a,b,c){var d=this;q.fn.init.call(d,a,b),d.greedyProperty=c,d.values=b,d.finder=new r(a,c)},activate:function(a,b){var c,d=this,e=d.greedyProperty,f="apply";d.split(a),e&&(c=e.replace(/-([a-z])/,function(a,b){return b.toUpperCase()}),"inherit"==d.values.style[c]&&(f="remove")),d[f](b)}}),t=i.extend({init:function(a){i.fn.init.call(this,l(a,{finder:new p(a.format),formatter:function(){return new q(a.format)}}))}}),u=g.extend({update:function(a,b){var c=a.data(this.type);c.close(),c.value(this.finder.getFormat(b))}}),v=u.extend({init:function(a){var c=this;g.fn.init.call(c,a),c.type=b.support.browser.msie||b.support.touch?"kendoDropDownList":"kendoComboBox",c.format=[{tags:["span"]}],c.finder=new r(c.format,a.cssAttr)},command:function(a){var b=this.options,c=this.format,e={};return new d.FormatCommand(l(a,{formatter:function(){return e[b.domAttr]=a.value,new s(c,{style:e},b.cssAttr)}}))},initialize:function(a,b){var c,d=b.editor,e=this.options,f=e.name,h=[];e.defaultValue&&(h=[{text:d.options.messages[e.defaultValue[0].text],value:e.defaultValue[0].value}]),c=h.concat(e.items?e.items:d.options[f]),a[this.type]({dataTextField:"text",dataValueField:"value",dataSource:c,change:function(){g.exec(d,f,this.value())},highlightFirst:!1}),a.closest(".k-widget").removeClass("k-"+f).find("*").addBack().attr("unselectable","on"),a.data(this.type).value("inherit")}}),w=g.extend({init:function(a){g.fn.init.call(this,a),this.format=[{tags:["span"]}]},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(a){var b=this.options,c=this.format,e={};return new d.FormatCommand(l(a,{formatter:function(){return e[b.domAttr]=a.value,new s(c,{style:e},b.cssAttr)}}))},initialize:function(c,d){var e=d.editor,f=this.name,h=l({},w.fn.options,this.options),i=h.palette;c=this._widget=new b.ui.ColorPicker(c,{value:a.isArray(i)?i[0]:"#000",toolIcon:"k-"+h.name,palette:i,change:function(){var a=c.value();a&&g.exec(e,f,a),e.focus()},activate:function(a){a.preventDefault(),c.trigger("change")}}),c.wrapper.attr({title:d.title,unselectable:"on"}).find("*").attr("unselectable","on")}});l(d,{InlineFormatFinder:p,InlineFormatter:q,DelayedExecutionTool:u,GreedyInlineFormatFinder:r,GreedyInlineFormatter:s,InlineFormatTool:t,FontTool:v,ColorTool:w}),n("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),m("bold",new t({key:"B",ctrl:!0,format:e.bold,template:new h({template:f.buttonTemplate,title:"Bold"})})),n("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),m("italic",new t({key:"I",ctrl:!0,format:e.italic,template:new h({template:f.buttonTemplate,title:"Italic"})})),n("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),m("underline",new t({key:"U",ctrl:!0,format:e.underline,template:new h({template:f.buttonTemplate,title:"Underline"})})),n("strikethrough",[{tags:["del"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),m("strikethrough",new t({format:e.strikethrough,template:new h({template:f.buttonTemplate,title:"Strikethrough"})})),n("superscript",[{tags:["sup"]}]),m("superscript",new t({format:e.superscript,template:new h({template:f.buttonTemplate,title:"Superscript"})})),n("subscript",[{tags:["sub"]}]),m("subscript",new t({format:e.subscript,template:new h({template:f.buttonTemplate,title:"Subscript"})})),m("foreColor",new w({cssAttr:"color",domAttr:"color",name:"foreColor",template:new h({template:f.colorPickerTemplate,title:"Color"})})),m("backColor",new w({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new h({template:f.colorPickerTemplate,title:"Background Color"})})),m("fontName",new v({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new h({template:f.comboBoxTemplate,title:"Font Name"})})),m("fontSize",new v({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new h({template:f.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=b.ui.Editor.fn.options.formats,g=e.Dom,h=e.Command,i=e.ToolTemplate,j=e.FormatTool,k=e.EditorUtils,l=k.registerTool,m=k.registerFormat,n=e.RangeUtils,o=c.extend({init:function(a){this.format=a},contains:function(a,b){var c,d,e;for(c=0,d=b.length;d>c;c++)if(e=b[c],!e||!g.isAncestorOrSelf(a,e))return!1;return!0},findSuitable:function(b){var c,d,e,f=this.format,h=[];for(c=0,d=b.length;d>c;c++){if(e=g.ofType(b[c],f[0].tags)?b[c]:g.parentOfType(b[c],f[0].tags),!e)return[];a.inArray(e,h)<0&&h.push(e)}for(c=0,d=h.length;d>c;c++)if(this.contains(h[c],h))return[h[c]];return h},findFormat:function(a){var b,c,d,e,f,h=this.format;for(b=0,c=h.length;c>b;b++)for(d=a,e=h[b].tags,f=h[b].attr;d;){if(g.ofType(d,e)&&g.attrEquals(d,f))return d;d=d.parentNode}return null},getFormat:function(a){var b,c,d=this,e=function(a){return d.findFormat(g.isDataNode(a)?a.parentNode:a)},f=e(a[0]);if(!f)return"";for(b=1,c=a.length;c>b;b++)if(f!=e(a[b]))return"";return f.nodeName.toLowerCase()},isFormatted:function(a){for(var b=0,c=a.length;c>b;b++)if(!this.findFormat(a[b]))return!1;return!0}}),p=c.extend({init:function(a,b){this.format=a,this.values=b,this.finder=new o(a)},wrap:function(a,b,c){var d=1==c.length?g.blockParentOrBody(c[0]):g.commonAncestor.apply(null,c);g.isInline(d)&&(d=g.blockParentOrBody(d));var e,f,h=g.significantChildNodes(d),i=g.findNodeIndex(h[0]),j=g.create(d.ownerDocument,a,b);for(e=0;e<h.length;e++)f=h[e],g.isBlock(f)?(g.attr(f,b),j.childNodes.length&&(g.insertBefore(j,f),j=j.cloneNode(!1)),i=g.findNodeIndex(f)+1):j.appendChild(f);j.firstChild&&g.insertAt(d,j,i)},apply:function(a){var b,c,e,f,h=this,i=g.is(a[0],"img")?[a[0]]:h.finder.findSuitable(a),j=i.length?k.formatByName(g.name(i[0]),h.format):h.format[0];if(j)if(b=j.tags[0],c=d({},j.attr,h.values),i.length)for(e=0,f=i.length;f>e;e++)g.attr(i[e],c);else h.wrap(b,c,a)},remove:function(a){var b,c,d,e,f;for(b=0,c=a.length;c>b;b++)d=this.finder.findFormat(a[b]),d&&(f=g.name(d),"div"!=f||d.getAttribute("class")?(e=k.formatByName(f,this.format),e.attr.style&&g.unstyle(d,e.attr.style),e.attr.className&&g.removeClass(d,e.attr.className)):g.unwrap(d))},toggle:function(a){var b=this,c=n.nodes(a);b.finder.isFormatted(c)?b.remove(c):b.apply(c)}}),q=c.extend({init:function(a,b){var c=this;c.format=a,c.values=b,c.finder=new o(a)},apply:function(a){var b,c,d,f,h,i,j=this.format,k=g.blockParents(a),l=j[0].tags[0];if(k.length&&k[0].attributes.contentEditable&&(k=[]),k.length)for(b=0,c=k.length;c>b;b++)g.is(k[b],"li")?(d=k[b].parentNode,f=new e.ListFormatter(d.nodeName.toLowerCase(),l),h=this.editor.createRange(),h.selectNode(k[b]),f.toggle(h)):(i=g.changeTag(k[b],l),g.attr(i,j[0].attr));else new p(j,this.values).apply(a)},toggle:function(a){var b=n.textNodes(a);b.length||(a.selectNodeContents(a.commonAncestorContainer),b=n.textNodes(a),b.length||(b=g.significantChildNodes(a.commonAncestorContainer))),this.apply(b)}}),r=h.extend({init:function(a){a.formatter=a.formatter(),h.fn.init.call(this,a)}}),s=j.extend({init:function(a){j.fn.init.call(this,d(a,{finder:new o(a.format),formatter:function(){return new p(a.format)}}))}});d(e,{BlockFormatFinder:o,BlockFormatter:p,GreedyBlockFormatter:q,FormatCommand:r,BlockFormatTool:s}),m("justifyLeft",[{tags:g.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left"}}}]),l("justifyLeft",new s({format:f.justifyLeft,template:new i({template:k.buttonTemplate,title:"Justify Left"})})),m("justifyCenter",[{tags:g.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]),l("justifyCenter",new s({format:f.justifyCenter,template:new i({template:k.buttonTemplate,title:"Justify Center"})})),m("justifyRight",[{tags:g.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right"}}}]),l("justifyRight",new s({format:f.justifyRight,template:new i({template:k.buttonTemplate,title:"Justify Right"})})),m("justifyFull",[{tags:g.blockElements,attr:{style:{textAlign:"justify"}}}]),l("justifyFull",new s({format:f.justifyFull,template:new i({template:k.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=a.extend,d=b.ui.editor,e=d.Dom,f=d.Command,g=d.Tool,h=d.BlockFormatter,i=e.normalize,j=d.RangeUtils,k=d.EditorUtils.registerTool,l=f.extend({init:function(a){this.options=a,f.fn.init.call(this,a)},_insertMarker:function(a,b){var c,d=e.create(a,"a");return b.insertNode(d),d.parentNode||(c=b.commonAncestorContainer,c.innerHTML="",c.appendChild(d)),i(d.parentNode),d},shouldTrim:function(a){var b="p,h1,h2,h3,h4,h5,h6".split(","),c=e.parentOfType(a.startContainer,b),d=e.parentOfType(a.endContainer,b);return c&&!d||!c&&d
},exec:function(){var a,b,c,f,g,k,l,m,n=this.getRange(),o=j.documentFromRange(n),p=d.emptyElementContent,q=this.shouldTrim(n);if(n.deleteContents(),g=this._insertMarker(o,n),k=e.parentOfType(g,["li"]),l=e.parentOfType(g,"h1,h2,h3,h4,h5,h6".split(",")),k?(m=n.cloneRange(),m.selectNode(k),j.textNodes(m).length||(f=e.create(o,"p"),k.nextSibling&&j.split(m,k.parentNode),e.insertAfter(f,k.parentNode),e.remove(1==k.parentNode.childNodes.length?k.parentNode:k),f.innerHTML=p,c=f)):l&&!g.nextSibling&&(f=e.create(o,"p"),e.insertAfter(f,l),f.innerHTML=p,e.remove(g),c=f),c||(k||l||new h([{tags:["p"]}]).apply([g]),n.selectNode(g),a=e.parentOfType(g,[k?"li":l?e.name(l):"p"]),j.split(n,a,q),b=a.previousSibling,e.is(b,"li")&&b.firstChild&&!e.is(b.firstChild,"br")&&(b=b.firstChild),c=a.nextSibling,e.is(c,"li")&&c.firstChild&&!e.is(c.firstChild,"br")&&(c=c.firstChild),e.remove(a),this.clean(b),this.clean(c),i(b)),i(c),e.is(c,"img"))n.setStartBefore(c);else{n.selectNodeContents(c);var r=j.textNodes(n)[0];r&&n.selectNodeContents(r)}n.collapse(!0),e.scrollTo(c),j.selectRange(n)},clean:function(a){if(a.firstChild&&e.is(a.firstChild,"br")&&e.remove(a.firstChild),e.isDataNode(a)&&!a.nodeValue&&(a=a.parentNode),a){for(;a.firstChild&&1==a.firstChild.nodeType;)a=a.firstChild;!e.is(a,"img")&&/^\s*$/.test(a.innerHTML)&&(a.innerHTML=d.emptyElementContent)}}}),m=f.extend({init:function(a){this.options=a,f.fn.init.call(this,a)},exec:function(){var a,c=this.getRange(),d=e.create(j.documentFromRange(c),"br");c.deleteContents(),c.insertNode(d),i(d.parentNode),b.support.browser.msie||d.nextSibling&&!e.isWhitespace(d.nextSibling)||(a=d.cloneNode(!0),a.setAttribute("_moz_dirty",""),e.insertAfter(a,d)),c.setStartAfter(d),c.collapse(!0),e.scrollTo(d.nextSibling||d),j.selectRange(c)}});c(d,{ParagraphCommand:l,NewLineCommand:m}),k("insertLineBreak",new g({key:13,shift:!0,command:m})),k("insertParagraph",new g({key:13,command:l}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=e.Dom,g=e.RangeUtils,h=e.EditorUtils,i=e.Command,j=e.ToolTemplate,k=e.FormatTool,l=e.BlockFormatFinder,m=g.textNodes,n=e.EditorUtils.registerTool,o=l.extend({init:function(a){this.tag=a;var b=this.tags=["ul"==a?"ol":"ul",a];l.fn.init.call(this,[{tags:b}])},isFormatted:function(a){for(var b,c=[],d=0;d<a.length;d++)(b=this.findFormat(a[d]))&&f.name(b)==this.tag&&c.push(b);if(c.length<1)return!1;if(c.length!=a.length)return!1;for(d=0;d<c.length&&c[d].parentNode==b.parentNode;d++)if(c[d]!=b)return!1;return!0},findSuitable:function(a){var b=f.parentOfType(a[0],this.tags);return b&&f.name(b)==this.tag?b:null}}),p=c.extend({init:function(a,b){var c=this;c.finder=new o(a),c.tag=a,c.unwrapTag=b},wrap:function(a,b){var c,d,e=f.create(a.ownerDocument,"li");for(c=0;c<b.length;c++)if(d=b[c],f.is(d,"li"))a.appendChild(d);else if(f.is(d,"ul")||f.is(d,"ol"))for(;d.firstChild;)a.appendChild(d.firstChild);else if(f.is(d,"td")){for(;d.firstChild;)e.appendChild(d.firstChild);a.appendChild(e),d.appendChild(a),a=a.cloneNode(!1),e=e.cloneNode(!1)}else e.appendChild(d),f.isBlock(d)&&(a.appendChild(e),f.unwrap(d),e=e.cloneNode(!1));e.firstChild&&a.appendChild(e)},containsAny:function(a,b){for(var c=0;c<b.length;c++)if(f.isAncestorOrSelf(a,b[c]))return!0;return!1},suitable:function(a,b){if("k-marker"==a.className){var c=a.nextSibling;if(c&&f.isBlock(c))return!1;if(c=a.previousSibling,c&&f.isBlock(c))return!1}return this.containsAny(a,b)||f.isInline(a)||3==a.nodeType},split:function(b){var c,d,e=m(b);if(e.length){c=f.parentOfType(e[0],["li"]),d=f.parentOfType(e[e.length-1],["li"]),b.setStartBefore(c),b.setEndAfter(d);for(var h=0,i=e.length;i>h;h++){var j=this.finder.findFormat(e[h]);if(j){var k=a(j).parents("ul,ol");k[0]?g.split(b,k.last()[0],!0):g.split(b,j,!0)}}}},merge:function(a,b){for(var c,d=b.previousSibling;d&&("k-marker"==d.className||3==d.nodeType&&f.isWhitespace(d));)d=d.previousSibling;if(d&&f.name(d)==a){for(;b.firstChild;)d.appendChild(b.firstChild);f.remove(b),b=d}for(c=b.nextSibling;c&&("k-marker"==c.className||3==c.nodeType&&f.isWhitespace(c));)c=c.nextSibling;if(c&&f.name(c)==a){for(;b.lastChild;)c.insertBefore(b.lastChild,c.firstChild);f.remove(b)}},applyOnSection:function(b,c){function d(){h.push(this)}var e=this.tag,g=f.closestSplittableParent(c),h=[],i=this.finder.findSuitable(c);i||(i=new o("ul"==e?"ol":"ul").findSuitable(c));var j=f.significantChildNodes(g);j.length||(j=c),/table|tbody/.test(f.name(g))&&(j=a.map(c,function(a){return f.parentOfType(a,["td"])}));for(var k=0;k<j.length;k++){var l=j[k],m=f.name(l);!this.suitable(l,c)||i&&f.isAncestorOrSelf(i,l)||(!i||"ul"!=m&&"ol"!=m?h.push(l):(a.each(l.childNodes,d),f.remove(l)))}h.length!=j.length||g==c[0].ownerDocument.body||/table|tbody|tr|td/.test(f.name(g))||(h=[g]),i||(i=f.create(g.ownerDocument,e),f.insertBefore(i,h[0])),this.wrap(i,h),f.is(i,e)||f.changeTag(i,e),this.merge(e,i)},apply:function(a){var b,c,d,e=0,g=[];do d=f.parentOfType(a[e],["td","body"]),b&&d==b?c.push(a[e]):(b&&g.push({section:b,nodes:c}),c=[a[e]],b=d),e++;while(e<a.length);for(g.push({section:b,nodes:c}),e=0;e<g.length;e++)this.applyOnSection(g[e].section,g[e].nodes)},unwrap:function(b){var c,d,e,g,h=b.ownerDocument.createDocumentFragment(),i=this.unwrapTag;for(d=b.firstChild;d;d=d.nextSibling){for(e=f.create(b.ownerDocument,i||"p");d.firstChild;)g=d.firstChild,f.isBlock(g)?(e.firstChild&&(h.appendChild(e),e=f.create(b.ownerDocument,i||"p")),h.appendChild(g)):e.appendChild(g);e.firstChild&&h.appendChild(e)}c=a(b).parents("ul,ol"),c[0]?(f.insertAfter(h,c.last()[0]),c.last().remove()):f.insertAfter(h,b),f.remove(b)},remove:function(a){for(var b,c=0,d=a.length;d>c;c++)b=this.finder.findFormat(a[c]),b&&this.unwrap(b)},toggle:function(a){var b=this,c=m(a),d=a.commonAncestorContainer;if(!c.length&&(a.selectNodeContents(d),c=m(a),!c.length)){var e=d.ownerDocument.createTextNode("");a.startContainer.appendChild(e),c=[e],a.selectNode(e.parentNode)}b.finder.isFormatted(c)?(b.split(a),b.remove(c)):b.apply(c)}}),q=i.extend({init:function(a){a.formatter=new p(a.tag),i.fn.init.call(this,a)}}),r=k.extend({init:function(a){this.options=a,k.fn.init.call(this,d(a,{finder:new o(a.tag)}))},command:function(a){return new q(d(a,{tag:this.options.tag}))}});d(e,{ListFormatFinder:o,ListFormatter:p,ListCommand:q,ListTool:r}),n("insertUnorderedList",new r({tag:"ul",template:new j({template:h.buttonTemplate,title:"Remove Link"})})),n("insertOrderedList",new r({tag:"ol",template:new j({template:h.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=e.Dom,g=e.RangeUtils,h=e.EditorUtils,i=e.Command,j=e.Tool,k=e.ToolTemplate,l=e.InlineFormatter,m=e.InlineFormatFinder,n=g.textNodes,o=e.EditorUtils.registerTool,p=c.extend({findSuitable:function(a){return f.parentOfType(a,["a"])}}),q=c.extend({init:function(){this.finder=new p},apply:function(a,b){var c,d,e,h,i=n(a);b.innerHTML?(c=g.getMarkers(a),d=g.documentFromRange(a),a.deleteContents(),h=f.create(d,"a",b),a.insertNode(h),"a"==f.name(h.parentNode)&&f.insertAfter(h,h.parentNode),c.length>1&&(f.insertAfter(c[c.length-1],h),f.insertAfter(c[1],h),f[i.length>0?"insertBefore":"insertAfter"](c[0],h))):(e=new l([{tags:["a"]}],b),e.finder=this.finder,e.apply(i))}}),r=i.extend({init:function(a){a.formatter={toggle:function(a){new l([{tags:["a"]}]).remove(n(a))}},this.options=a,i.fn.init.call(this,a)}}),s=i.extend({init:function(a){var b=this;b.options=a,i.fn.init.call(b,a),b.formatter=new q,a.url?this.exec=function(){this.formatter.apply(a.range,{href:a.url,innerHTML:a.text||a.url,target:a.target})}:(b.attributes=null,b.async=!0)},_dialogTemplate:function(){return b.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button k-secondary\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){function c(b){var c,g,j,l=o.element,m=a("#k-editor-link-url",l).val();m&&"http://"!=m&&(m.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(m)&&(m="mailto:"+m),h.attributes={href:m},c=a("#k-editor-link-title",l).val(),c&&(h.attributes.title=c),g=a("#k-editor-link-text",l).val(),g===k||!g&&0!==e.length||(h.attributes.innerHTML=f.stripBom(g)||m),j=a("#k-editor-link-target",l).is(":checked"),h.attributes.target=j?"_blank":null,h.formatter.apply(i,h.attributes)),d(b),h.change&&h.change()}function d(a){a.preventDefault(),o.destroy(),f.windowFromDocument(g.documentFromRange(i)).focus(),h.releaseRange(i)}var e,h=this,i=h.getRange(),j=i.collapsed,k=null,l=h.editor.options.messages;i=h.lockRange(!0),e=n(i);var m=e.length?h.formatter.finder.findSuitable(e[0]):null,o=this.createDialog(h._dialogTemplate(),{title:l.createLink,close:d,visible:!1}).find(".k-dialog-insert").click(c).end().find(".k-dialog-close").click(d).end().find(".k-edit-field input").keydown(function(a){var e=b.keys;a.keyCode==e.ENTER?c(a):a.keyCode==e.ESC&&d(a)}).end().find("#k-editor-link-url").val(m?m.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(e.length>0?1==e.length?e[0].nodeValue:e[0].nodeValue+e[1].nodeValue:"").end().find("#k-editor-link-title").val(m?m.title:"").end().find("#k-editor-link-target").attr("checked",m?"_blank"==m.target:!1).end().data("kendoWindow").center().open();e.length>0&&!j&&(k=a("#k-editor-link-text",o.element).val()),a("#k-editor-link-url",o.element).focus().select()},redo:function(){var a=this,b=a.lockRange(!0);a.formatter.apply(b,a.attributes),a.releaseRange(b)}}),t=j.extend({init:function(b){this.options=b,this.finder=new m([{tags:["a"]}]),j.fn.init.call(this,a.extend(b,{command:r}))},initialize:function(a,b){j.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(a,b){a.toggleClass("k-state-disabled",!this.finder.isFormatted(b)).removeClass("k-state-hover")}});d(b.ui.editor,{LinkFormatFinder:p,LinkFormatter:q,UnlinkCommand:r,LinkCommand:s,UnlinkTool:t}),o("createLink",new j({key:"K",ctrl:!0,command:s,template:new k({template:h.buttonTemplate,title:"Create Link"})})),o("unlink",new t({key:"K",ctrl:!0,shift:!0,template:new k({template:h.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.extend,e=c.ui.editor,f=e.EditorUtils,g=e.Dom,h=f.registerTool,i=e.ToolTemplate,j=e.RangeUtils,k=e.Command,l=c.keys,m="#k-editor-image-url",n="#k-editor-image-title",o=k.extend({init:function(a){var b=this;k.fn.init.call(b,a),b.async=!0,b.attributes={}},insertImage:function(a,b){var c=this.attributes,d=j.documentFromRange(b);if(c.src&&"http://"!=c.src){if(!a)return a=g.create(d,"img",c),a.onload=a.onerror=function(){a.removeAttribute("complete"),a.removeAttribute("width"),a.removeAttribute("height")},b.deleteContents(),b.insertNode(a),a.nextSibling||g.insertAfter(d.createTextNode(""),a),b.setStartAfter(a),b.setEndAfter(a),j.selectRange(b),!0;g.attr(a,c)}return!1},_dialogTemplate:function(a){return c.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button><button class="k-dialog-close k-button k-secondary">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:a})},redo:function(){var a=this,b=a.lockRange();a.insertImage(j.image(b),b)||a.releaseRange(b)},exec:function(){function e(a){var b=i.element;k.attributes={src:b.find(m).val().replace(/ /g,"%20"),alt:b.find(n).val()},p=k.insertImage(q,o),f(a),k.change&&k.change()}function f(a){a.preventDefault(),i.destroy(),g.windowFromDocument(j.documentFromRange(o)).focus(),p||k.releaseRange(o)}function h(a){a.keyCode==l.ENTER?e(a):a.keyCode==l.ESC&&f(a)}var i,k=this,o=k.lockRange(),p=!1,q=j.image(o),r=k.editor.options,s=r.messages,t=r.imageBrowser,u=!!(c.ui.ImageBrowser&&t&&t.transport&&t.transport.read!==b);i=this.createDialog(k._dialogTemplate(u),{title:s.insertImage,close:f,visible:!1,resizable:u,activate:function(){if(u){var a=this;new c.ui.ImageBrowser(a.element.find(".k-imagebrowser"),d({},t,{change:function(){a.element.find(m).val(this.value())},apply:e}))}}}).toggleClass("k-imagebrowser-dialog",u).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(f).end().find(".k-edit-field input").keydown(h).end().find(m).val(q?q.getAttribute("src",2):"http://").end().find(n).val(q?q.alt:"").end().data("kendoWindow").center().open(),a(m,i.element).focus().select()}});c.ui.editor.ImageCommand=o,h("insertImage",new e.Tool({command:o,template:new i({template:f.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.DropDownList,e=c.ui.editor.Dom,f=d.extend({init:function(a,b){var e=this;d.fn.init.call(e,a,b),e.value(e.options.title),c.support.mobileOS.ios&&e._initSelectOverlay(a),e.bind("open",function(){if(e.options.autoSize){var a,b=e.list;b.css({whiteSpace:"nowrap",width:"auto"}),a=b.width(),a?a+=20:a=e._listWidth,b.css("width",a+c.support.scrollbar()),e._listWidth=a}})},options:{name:"SelectBox"},_initSelectOverlay:function(b){b=a(b);var c=a("<select class='k-select-overlay' />"),d=b.closest(".k-widget"),e=b.data(this.type).kendoSelectBox;c.on("change",function(){e.value(this.value),e.trigger("change")}),this.bind("dataBound",function(){for(var a,b=e.value(),d=this.dataSource.view(),f="",g=0;g<d.length;g++)a=d[g],f+="<option value='"+a.value+"'",a.value==b&&(f+=" selected"),f+=">"+a.text+"</option>";c.html(f)}),c.insertAfter(d)},value:function(a){var c=this,e=d.fn.value.call(c,a);return a===b?e:(a!==d.fn.value.call(c)&&(c.text(c.options.title),c._current&&c._current.removeClass("k-state-selected"),c.current(null),c._oldIndex=c.selectedIndex=-1),void 0)},decorate:function(a){var b,c,d,f=this.dataSource.data();for(b=0;b<f.length;b++)c=f[b].tag||"span",d=f[b].className,f[b].style=e.inlineStyle(a,c,{className:d})+";display:inline-block";this.dataSource.trigger("change")}});c.ui.plugin(f),c.ui.editor.SelectBox=f}(window.kendo.jQuery),function(a,b){function c(c,d){var e="rtl"==a(c).css("direction"),f=e?"Right":"Left",g="td"!=h.name(c)?"margin"+f:"padding"+f;return d===b?c.style[g]||0:(d>0?c.style[g]=d+"px":(c.style[g]="",c.style.cssText||c.removeAttribute("style")),void 0)}var d=window.kendo,e=d.Class,f=a.extend,g=d.ui.editor,h=g.Dom,i=g.EditorUtils,j=i.registerTool,k=g.Command,l=g.Tool,m=g.ToolTemplate,n=g.RangeUtils,o=h.blockElements,p=g.BlockFormatFinder,q=g.BlockFormatter,r=e.extend({init:function(){this.finder=new p([{tags:h.blockElements}])},apply:function(b){var d,e,f,g,i,j=this.finder.findSuitable(b),k=[];if(j.length){for(d=0,e=j.length;e>d;d++)h.is(j[d],"li")?a(j[d]).index()?a.inArray(j[d].parentNode,k)<0&&k.push(j[d]):k.push(j[d].parentNode):k.push(j[d]);for(;k.length;)if(f=k.shift(),h.is(f,"li")){g=f.parentNode,i=a(f).prev("li");var l=i.find("ul,ol").last(),m=a(f).children("ul,ol")[0];if(m&&i[0])l[0]?(l.append(f),l.append(a(m).children()),h.remove(m)):(i.append(m),m.insertBefore(f,m.firstChild));else for(m=i.children("ul,ol")[0],m||(m=h.create(f.ownerDocument,h.name(g)),i.append(m));f&&f.parentNode==g;)m.appendChild(f),f=k.shift()}else{var n=parseInt(c(f),10)+30;c(f,n);for(var o=0;o<k.length;o++)a.contains(f,k[o])&&k.splice(o,1)}}else{var p=new q([{tags:["p"]}],{style:{marginLeft:30}});p.apply(b)}},remove:function(b){var d,e,f,g,h,i,j,k,l=this.finder.findSuitable(b);for(e=0,f=l.length;f>e;e++){if(j=a(l[e]),j.is("li")){if(g=j.parent(),h=g.parent(),h.is("li,ul,ol")&&!c(g[0])){if(d&&a.contains(d,h[0]))continue;i=j.nextAll("li"),i.length&&a(g[0].cloneNode(!1)).appendTo(j).append(i),h.is("li")?j.insertAfter(h):j.appendTo(h),g.children("li").length||g.remove();continue}if(d==g[0])continue;d=g[0]}else d=l[e];k=parseInt(c(d),10)-30,c(d,k)}}}),s=k.extend({init:function(a){a.formatter={toggle:function(a){(new r).apply(n.nodes(a))}},k.fn.init.call(this,a)}}),t=k.extend({init:function(a){a.formatter={toggle:function(a){(new r).remove(n.nodes(a))}},k.fn.init.call(this,a)}}),u=l.extend({init:function(a){l.fn.init.call(this,a),this.finder=new p([{tags:o}])},initialize:function(a,b){l.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(b,d){var e,f,g,i,j=this.finder.findSuitable(d);for(g=0,i=j.length;i>g;g++)if(e=c(j[g]),e||(f=a(j[g]).parents("ul,ol").length,e=h.is(j[g],"li")&&(f>1||c(j[g].parentNode))||h.ofType(j[g],["ul","ol"])&&f>0),e)return b.removeClass("k-state-disabled"),void 0;b.addClass("k-state-disabled").removeClass("k-state-hover")}});f(g,{IndentFormatter:r,IndentCommand:s,OutdentCommand:t,OutdentTool:u}),j("indent",new l({command:s,template:new m({template:i.buttonTemplate,title:"Indent"})})),j("outdent",new u({command:t,template:new m({template:i.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=a.extend,d=b.ui.editor,e=d.Dom,f=d.RangeUtils,g=d.EditorUtils,h=d.Command,i=d.Tool,j=d.ToolTemplate,k=h.extend({init:function(a){var b=this;b.options=a,h.fn.init.call(b,a),b.attributes=null,b.async=!0},exec:function(){function c(a){h.value(l.find(n).val()),d(a),g.change&&g.change(),h.trigger("change")}function d(a){a.preventDefault(),l.data("kendoWindow").destroy();try{e.windowFromDocument(f.documentFromRange(i)).focus()}catch(b){}}var g=this,h=g.editor,i=h.getRange(),j=h.options.messages,l=a(b.template(k.template)(j)).appendTo(document.body),m=k.indent(h.value()),n=".k-editor-textarea";this.createDialog(l,{title:j.viewHtml,close:d,visible:!1}).find(n).val(m).end().find(".k-dialog-update").click(c).end().find(".k-dialog-close").click(d).end().data("kendoWindow").center().open(),l.find(n).focus()}});c(k,{template:"<div class='k-editor-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-button-wrapper'><button class='k-dialog-update k-button'>#: dialogUpdate #</button>&nbsp;#: dialogButtonSeparator #&nbsp;<a href='\\#' class='k-dialog-close k-link'>#: dialogCancel #</a></div></div>",indent:function(a){return a.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),b.ui.editor.ViewHtmlCommand=k,d.EditorUtils.registerTool("viewHtml",new i({command:k,template:new j({template:g.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(a){function b(b,c,d){return k.extend({init:function(a){k.fn.init.call(this,a),this.finder=d},command:function(b){var d=b.value;return a.isPlainObject(d)?d[c]=d.value:(b.value={},b.value[c]=d),k.fn.command.call(this,b)},initialize:function(a,b){var d,e=window.console,f=this.options.items;for(d=0;d<f.length;d++)f[d][c]=f[d].value;e&&e.warn("The `"+this.options.name+"` tool has been deprecated in favor of the `formatting` tool. See http://docs.kendoui.com/getting-started/changes-and-backward-compatibility for more information"),k.fn.initialize.call(this,a,b)}})}var c=window.kendo,d=c.ui.editor,e=d.Tool,f=d.ToolTemplate,g=d.DelayedExecutionTool,h=d.Dom,i=d.EditorUtils.dropDownListTemplate,j=d.EditorUtils.registerTool,k=g.extend({init:function(a){var b=this;e.fn.init.call(b,c.deepExtend({},b.options,a)),b.type="kendoSelectBox",b.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:90},toFormattingItem:function(a){var b=a.value;if(!b)return a;if(a.tag||a.className)return a;var c=b.indexOf(".");return 0===c?a.className=b.substring(1):-1==c?a.tag=b:(a.tag=b.substring(0,c),a.className=b.substring(c+1)),a},command:function(a){var b=a.value;return b=this.toFormattingItem(b),new d.FormatCommand({range:a.range,formatter:function(){var a,c=(b.tag||b.context||"span").split(","),e=[{tags:c,attr:{className:b.className||""}}];return a=h.inlineElements.indexOf(c[0])>=0?new d.GreedyInlineFormatter(e):new d.GreedyBlockFormatter(e)}})},initialize:function(a,b){var d=b.editor,f=this.options,g=f.name,h=this;a.width(f.width),a.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:f.items||d.options[g],title:d.options.messages[g],autoSize:!0,change:function(){e.exec(d,g,this.dataItem().toJSON())},dataBound:function(){var a,b=this.dataSource.data();for(a=0;a<b.length;a++)b[a]=h.toFormattingItem(b[a])},highlightFirst:!1,template:c.template('<span unselectable="on" style="display:block;#=data.style#">#:data.text#</span>')}),a.addClass("k-decorated").closest(".k-widget").removeClass("k-"+g).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.tag||e.context||"",g=e.className?"."+e.className:"",h=f+g,i=a(c[0]).closest(h)[0];if(i){if(1==c.length)return e.value;for(var j=1;j<c.length&&a(c[j]).closest(h)[0]==i;j++)if(j==c.length-1)return e.value}}return""},update:function(b,c){var d=a(b).data(this.type);if(d){var e,f,i=d.dataSource,j=i.data(),k=h.commonAncestor.apply(null,c);for(e=0;e<j.length;e++)f=j[e].context,j[e].visible=!f||!!a(k).closest(f).length;i.filter([{field:"visible",operator:"eq",value:!0}]),g.fn.update.call(this,b,c),d.value(this.getFormattingValue(i.view(),c)),d.wrapper.toggleClass("k-state-disabled",!i.view().length)}}}),l=b("style","className",new d.GreedyInlineFormatFinder([{tags:["span"]}],"className")),m=b("formatBlock","tag",new d.BlockFormatFinder([{tags:h.blockElements}]));a.extend(d,{FormattingTool:k,StyleTool:l,FormatBlockTool:m}),j("formatting",new k({template:new f({template:i,title:"Format"})})),j("style",new l({template:new f({template:i,title:"Styles"})})),j("formatBlock",new m({template:new f({template:i})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.ui,d=c.editor,e=c.Widget,f=a.extend,g=a.proxy,h=b.keys,i=".kendoEditor",j=".k-colorpicker,a.k-tool-icon:not(.k-state-disabled),.k-selectbox, .k-combobox .k-input",k=e.extend({init:function(a,b){var c=this;b=f({},b,{name:"EditorToolbar"}),e.fn.init.call(c,a,b),b.popup&&c._initPopup()},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml"]},_initPopup:function(){this.window=a(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(b){a(b.target).is(".k-icon")||b.preventDefault()}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(a){var b,c=this.tools;for(b in c)if(b.toLowerCase()==a)return c[b]},toolGroupFor:function(b){var c,d=this.groups;for(c in d)if(a.inArray(b,d[c])>=0)return c},bindTo:function(b){var c=this,d=c.window;c._editor&&c._editor.unbind("select",g(c._update,c)),c._editor=b,c.tools=c.expandTools(b.options.tools),c.render(),c.element.find(".k-combobox .k-input").keydown(function(b){var c=a(this).closest(".k-combobox").data("kendoComboBox"),d=b.keyCode;d==h.RIGHT||d==h.LEFT?c.close():d==h.DOWN&&(c.dropDown.isOpened()||(b.stopImmediatePropagation(),c.open()))}),c._attachEvents(),c.items().each(function(){var d=c._toolFromClassName(this),e=c.tools[d],f=b.options.messages,g=f[d],h=a(this);if(e&&e.initialize){if("fontSize"==d||"fontName"==d){var i=f[d+"Inherit"];h.find("input").val(i).end().find("span.k-input").text(i).end()}e.initialize(h,{title:c._appendShortcutSequence(g,e),editor:c._editor})}}),b.bind("select",g(c._update,c)),c._updateContext(),c.updateGroups(),d&&d.wrapper.css({top:"",left:"",width:""})},show:function(){var a,b,c=this,d=c.window,e=c.options.editor;d&&(a=d.wrapper,b=e.element,a.is(":visible")&&c.window.options.visible||(a[0].style.width||a.width(b.outerWidth()-parseInt(a.css("border-left-width"),10)-parseInt(a.css("border-right-width"),10)),d._moved||(a.css("top",parseInt(b.offset().top,10)-a.outerHeight()-parseInt(c.window.element.css("padding-bottom"),10)),a.css("left",parseInt(b.offset().left,10))),d.open()))},hide:function(){this.window&&this.window.close()},focus:function(){var a="tabIndex",b=this._editor.element,c=b.attr(a);b.attr(a,c||0).focus().find("li:has("+j+")").first().focus(),c||0===c||b.removeAttr(a)},_appendShortcutSequence:function(a,b){if(!b.key)return a;var c=a+" (";return b.ctrl&&(c+="Ctrl + "),b.shift&&(c+="Shift + "),b.alt&&(c+="Alt + "),c+=b.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},expandTools:function(c){var e,g,h,i,j=this._nativeTools,k=b.deepExtend({},b.ui.Editor.defaultTools),l={};for(g=0;g<c.length;g++)e=c[g],i=e.name,a.isPlainObject(e)?i&&k[i]?(l[i]=f({},k[i]),f(l[i].options,e)):(h=f({cssClass:"k-i-custom",type:"button",title:""},e),h.name||(h.name="custom"),h.cssClass="k-"+("custom"==h.name?"i-custom":h.name),h.template||"button"!=h.type||(h.template=d.EditorUtils.buttonTemplate),l[i]={options:h}):k[e]&&(l[e]=k[e]);for(g=0;g<j.length;g++)l[j[g]]||(l[j[g]]=k[j[g]]);return l},render:function(){var c,d,e,f,h=this.tools,i=this._editor.element,j=this.element.empty();j.empty();for(f in h)c=h[f]&&h[f].options,d=c&&c.template,d&&(d.getHtml?d=d.getHtml():(a.isFunction(d)||(d=b.template(d)),d=d(c)),0!==d.indexOf("<li")&&(d="<li class='k-editor-template'>"+d+"</li>"),e=a(d).appendTo(j),"button"==c.type&&c.exec&&e.find(".k-tool-icon").click(g(c.exec,i[0])))},updateGroups:function(){var b,c,d,e,f=this,g=f.element,h=/k-group-end/,i=!1;g.children().filter(".k-group-break").remove(),e=g.children().filter(function(){return!a(this).children(".k-state-disabled").length}),e.each(function(g,h){h=a(h);var j=f._toolFromClassName(h.children()[0]),k=f.toolGroupFor(j),l=g==e.length-1;d=c!=k,c=k,b&&d&&b.addClass("k-group-end"),i=i||d,h.toggleClass("k-group-start",d||!i&&l).toggleClass("k-group-end",l),b=h}),f.element.children(".k-group-start").each(function(){for(var b,c=this;!h.test(c.className);)c=c.nextSibling,b=c.offsetLeft+c.offsetWidth;b>this.parentNode.offsetWidth&&a(this).before("<li class='k-group-break' />")})},_attachEvents:function(){var b=this,c=".k-editor-button .k-tool-icon",d=c+":not(.k-state-disabled)",e=c+".k-state-disabled";b.element.off(i).on("mouseenter"+i,d,function(){a(this).addClass("k-state-hover")}).on("mouseleave"+i,d,function(){a(this).removeClass("k-state-hover")}).on("mousedown"+i,c,!1).on("keydown"+i,j,function(c){var d,e=a(this).closest("li"),f="li:has("+j+")",g=c.keyCode;if(g==h.RIGHT)d=e.nextAll(f).first().find(j);else if(g==h.LEFT)d=e.prevAll(f).first().find(j);else if(g==h.ESC)d=b;else if(g==h.TAB&&!c.ctrlKey&&!c.altKey)if(c.shiftKey){if(d=e.prevAll(f).first().find(j),!d.length)return;c.preventDefault()}else c.preventDefault(),d=e.nextAll(f).first().find(j),d.length||(d=b);d&&d.focus()}).on("click"+i,d,function(c){var d=a(this);c.preventDefault(),c.stopPropagation(),d.removeClass("k-state-hover"),d.is("[data-popup]")||b._editor.exec(b._toolFromClassName(this))}).on("click"+i,e,function(a){a.preventDefault()})},_toolFromClassName:function(b){if(b){var c=a.grep(b.className.split(" "),function(a){return!/^k-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(a)});return c[0]?c[0].substring(c[0].lastIndexOf("-")+1):"custom"}},_update:function(){var c=this,d=c._editor,e=d.getRange(),f=b.ui.editor.RangeUtils.textNodes(e);f.length||(f=[e.startContainer]),c.items().each(function(){var b=c.tools[c._toolFromClassName(this)];b&&b.update&&b.update(a(this),f)}),this._updateContext(),c.updateGroups()},_updateContext:function(){this.element.children().show().filter(":has(.k-state-disabled)").hide()}});a.extend(d,{Toolbar:k})}(window.jQuery),function(a){var b=window.kendo,c=a.extend,d=a.proxy,e=b.ui.editor,f=e.Dom,g=e.EditorUtils,h=e.Command,i=".kendoEditor",j="k-state-active",k="k-state-selected",l=e.Tool,m=e.ToolTemplate,n=e.BlockFormatFinder,o=e.EditorUtils.registerTool,p="<td contentEditable='true'>"+e.emptyElementContent+"</td>",q=new n([{tags:["table"]}]),r=h.extend({_tableHtml:function(a,b){return a=a||1,b=b||1,"<table class='k-table' contentEditable='false' data-last>"+new Array(a+1).join("<tr>"+new Array(b+1).join(p)+"</tr>")+"</table>"},exec:function(){var b,c,d=this.options,e=this.editor,f=this._tableHtml(d.rows,d.columns);e.selectRange(d.range),e.clipboard.paste(f),b=e.getRange(),c=a("table[data-last]",e.document).removeAttr("data-last"),b.selectNodeContents(c.find("td")[0]),e.selectRange(b)}}),s=l.extend({initialize:function(b,c){l.fn.initialize.call(this,b,c);var e=a(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:b,copyAnchorStyles:!1,open:d(this._open,this),activate:d(this._activate,this),close:d(this._close,this)}).data("kendoPopup");b.click(d(this._toggle,this)),this._editor=c.editor,this._popup=e},popup:function(){return this._popup},_activate:a.noop,_open:function(){this._popup.options.anchor.addClass(j)},_close:function(){this._popup.options.anchor.removeClass(j)},_toggle:function(b){var c=a(b.target).closest(".k-tool-icon");c.hasClass("k-state-disabled")||this.popup().toggle()},update:function(a){this.popup().close(),a.removeClass("k-state-hover")}}),t=s.extend({init:function(b){this.cols=8,this.rows=6,s.fn.init.call(this,a.extend(b,{command:r,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<div class='k-ct-cell k-state-disabled' />")+"<div class='k-status'>Cancel</div>"+"</div>"}))},_activate:function(){function c(b){var c=a(window);return{row:Math.floor((b.clientY+c.scrollTop()-o.top)/f)+1,col:Math.floor((b.clientX+c.scrollLeft()-o.left)/e)+1}}function d(a){return a.row>0&&a.col>0&&a.row<=r&&a.col<=q}var e,f,g=this,h=g._popup.element,j=h.find(".k-status"),l=h.find(".k-ct-cell"),m=l.eq(0),n=l.eq(l.length-1),o=b.getOffset(m),p=b.getOffset(n),q=g.cols,r=g.rows;p.left+=n[0].offsetWidth,p.top+=n[0].offsetHeight,e=(p.left-o.left)/q,f=(p.top-o.top)/r,h.on("mousemove"+i,function(e){var f=c(e);d(f)?(j.text(b.format("Create a {0} x {1} table",f.row,f.col)),l.each(function(b){a(this).toggleClass(k,b%q<f.col&&b/q<f.row)
})):(j.text("Cancel"),l.removeClass(k))}).on("mouseleave"+i,function(){l.removeClass(k),j.text("Cancel")}).on("mousedown"+i,!1).on("mouseup"+i,function(a){var b=c(a);d(b)&&(g._editor.exec("createTable",{rows:b.row,columns:b.col}),g._popup.close())})},_open:function(){s.fn._open.call(this),this.popup().element.find(".k-ct-cell").removeClass(k)},_close:function(){s.fn._close.call(this),this.popup().element.off(i)},update:function(a,b){var c;s.fn.update.call(this,a),c=q.isFormatted(b),a.toggleClass("k-state-disabled",c)}}),u=h.extend({exec:function(){for(var a,b,c,d=this.lockRange(!0),g=d.endContainer;"td"!=f.name(g);)g=g.parentNode;b=g.parentNode,a=b.children.length,c=b.cloneNode(!0);for(var h=0;h<b.cells.length;h++)c.cells[h].innerHTML=e.emptyElementContent;"before"==this.options.position?f.insertBefore(c,b):f.insertAfter(c,b),this.releaseRange(d)}}),v=h.extend({exec:function(){var a,b,c,d,g=this.lockRange(!0),h=f.closest(g.endContainer,"td"),i=f.closest(h,"table"),j=i.rows,k=this.options.position;for(a=f.findNodeIndex(h),b=0;b<j.length;b++)c=j[b].cells[a],d=c.cloneNode(),d.innerHTML=e.emptyElementContent,"before"==k?f.insertBefore(d,c):f.insertAfter(d,c);this.releaseRange(g)}}),w=h.extend({exec:function(){var a,b=this.lockRange(),c=f.closest(b.endContainer,"tr"),d=f.closest(c,"table"),e=d.rows.length;1==e?(a=f.next(d)||f.prev(d),f.remove(d)):(f.removeTextSiblings(c),a=f.next(c)||f.prev(c),a=a.cells[0],f.remove(c)),a&&(b.setStart(a,0),b.collapse(!0),this.editor.selectRange(b))}}),x=h.extend({exec:function(){var a,b,c=this.lockRange(),d=f.closest(c.endContainer,"td"),e=f.closest(d,"table"),g=e.rows,h=f.findNodeIndex(d,!0),i=g[0].cells.length;if(1==i)a=f.next(e)||f.prev(e),f.remove(e);else for(f.removeTextSiblings(d),a=f.next(d)||f.prev(d),b=0;b<g.length;b++)f.remove(g[b].cells[h]);a&&(c.setStart(a,0),c.collapse(!0),this.editor.selectRange(c))}}),y=l.extend({command:function(a){return a=c(a,this.options),"delete"==a.action?"row"==a.type?new w(a):new x(a):"row"==a.type?new u(a):new v(a)},initialize:function(a,b){l.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(a,b){var c=!q.isFormatted(b);a.toggleClass("k-state-disabled",c)}});c(b.ui.editor,{PopupTool:s,TableCommand:r,InsertTableTool:t,TableModificationTool:y,InsertRowCommand:u,InsertColumnCommand:v,DeleteRowCommand:w,DeleteColumnCommand:x}),o("createTable",new t({template:new m({template:g.buttonTemplate,popup:!0,title:"Create table"})})),o("addColumnLeft",new y({type:"column",position:"before",template:new m({template:g.buttonTemplate,title:"Add column on the left"})})),o("addColumnRight",new y({type:"column",template:new m({template:g.buttonTemplate,title:"Add column on the right"})})),o("addRowAbove",new y({type:"row",position:"before",template:new m({template:g.buttonTemplate,title:"Add row above"})})),o("addRowBelow",new y({type:"row",template:new m({template:g.buttonTemplate,title:"Add row below"})})),o("deleteRow",new y({type:"row",action:"delete",template:new m({template:g.buttonTemplate,title:"Delete row"})})),o("deleteColumn",new y({type:"column",action:"delete",template:new m({template:g.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery),function(a,b){function c(a,b){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+a+'" title="'+b+'">'+b+"</span></span>"}function d(c,d){var e,f=d!==b;if(c.selectionStart!==b)f?(c.focus(),c.setSelectionRange(d,d)):d=[c.selectionStart,c.selectionEnd];else if(document.selection)if(a(c).is(":visible")&&c.focus(),e=document.selection.createRange(),f)e.move("character",d),e.select();else{var g,h,i=c.createTextRange(),j=i.duplicate();i.moveToBookmark(e.getBookmark()),j.setEndPoint("EndToStart",i),g=j.text.length,h=g+i.text.length,d=[g,h]}return d}var e=window.kendo,f=e.keys,g=e.ui,h=g.Widget,i=e._activeElement,j=e._extractFormat,k=e.parseFloat,l=e.support.placeholder,m=e.getCulture,n=e._round,o="change",p="disabled",q="readonly",r="k-input",s="spin",t=".kendoNumericTextBox",u="touchend",v="mouseleave"+t,w="mouseenter"+t+" "+v,x="k-state-default",y="k-state-focused",z="k-state-hover",A="focus",B=".",C="k-state-selected",D="k-state-disabled",E="aria-disabled",F="aria-readonly",G=null,H=a.proxy,I={190:".",188:","},J=h.extend({init:function(a,c){var d,f,g,i,k,l=this,m=c&&c.step!==b;h.fn.init.call(l,a,c),c=l.options,a=l.element.on("blur"+t,H(l._focusout,l)).attr("role","spinbutton"),c.placeholder=c.placeholder||a.attr("placeholder"),l._reset(),l._wrapper(),l._arrows(),l._input(),e.support.mobileOS?l._text.on(u+t+" "+A+t,function(b){l._toggleText(!1),b.type===A&&a.focus()}):l._text.on(A+t,H(l._click,l)),d=l.min(a.attr("min")),f=l.max(a.attr("max")),g=l._parse(a.attr("step")),c.min===G&&d!==G&&(c.min=d),c.max===G&&f!==G&&(c.max=f),m||g===G||(c.step=g),a.attr("aria-valuemin",c.min).attr("aria-valuemax",c.max),c.format=j(c.format),i=c.value,l.value(i!==G?i:a.val()),k=a.is("[disabled]"),k?l.enable(!1):l.readonly(a.is("[readonly]")),e.notify(l)},options:{name:"NumericTextBox",decimals:G,min:G,max:G,value:G,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[o,s],_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b._text.add(c),g=b._inputWrapper.off(w);b._toggleText(!0),b._upArrowEventHandler.unbind("press"),b._downArrowEventHandler.unbind("press"),c.off("keydown"+t).off("paste"+t),e||d?(g.addClass(d?D:x).removeClass(d?x:D),f.attr(p,d).attr(q,e).attr(E,d).attr(F,e)):(g.addClass(x).removeClass(D).on(w,b._toggleHover),f.removeAttr(p).removeAttr(q).attr(E,!1).attr(F,!1),b._upArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(1),b._upArrow.addClass(C)}),b._downArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(-1),b._downArrow.addClass(C)}),b.element.on("keydown"+t,H(b._keydown,b)).on("paste"+t,H(b._paste,b)))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;a.element.add(a._text).add(a._upArrow).add(a._downArrow).add(a._inputWrapper).off(t),a._upArrowEventHandler.destroy(),a._downArrowEventHandler.destroy(),a._form&&a._form.off("reset",a._resetHandler),h.fn.destroy.call(a)},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},step:function(a){return this._option("step",a)},value:function(a){var c,d=this;return a===b?d._value:(a=d._parse(a),c=d._adjust(a),a===c&&(d._update(a),d._old=d._value),void 0)},focus:function(){this._focusin()},_adjust:function(a){var b=this,c=b.options,d=c.min,e=c.max;return a===G?a:(d!==G&&d>a?a=d:e!==G&&a>e&&(a=e),a)},_arrows:function(){var b,d=this,f=function(){clearTimeout(d._spinning),b.removeClass(C)},g=d.options,h=g.spinners,i=d.element;b=i.siblings(".k-icon"),b[0]||(b=a(c("n",g.upArrowText)+c("s",g.downArrowText)).insertAfter(i),b.wrapAll('<span class="k-select"/>')),h||(b.parent().toggle(h),d._inputWrapper.addClass("k-expand-padding")),d._upArrow=b.eq(0),d._upArrowEventHandler=new e.UserEvents(d._upArrow,{release:f}),d._downArrow=b.eq(1),d._downArrowEventHandler=new e.UserEvents(d._downArrow,{release:f})},_blur:function(){var a=this;a._toggleText(!0),a._change(a.element.val())},_click:function(a){var b=this;clearTimeout(b._focusing),b._focusing=setTimeout(function(){var c,e,f,g=a.target,h=d(g)[0],i=g.value.substring(0,h),j=b._format(b.options.format),k=j[","],l=0;k&&(e=new RegExp("\\"+k,"g"),f=new RegExp("([\\d\\"+k+"]+)(\\"+j[B]+")?(\\d+)?")),f&&(c=f.exec(i)),c&&(l=c[0].replace(e,"").length,-1!=i.indexOf("(")&&b._value<0&&l++),b._focusin(),d(b.element[0],l)})},_change:function(a){var b=this;b._update(a),a=b._value,b._old!=a&&(b._old=a,b.trigger(o),b.element.trigger(o))},_culture:function(a){return a||m(this.options.culture)},_focusin:function(){var a=this;a._inputWrapper.addClass(y),a._toggleText(!1),a.element[0].focus()},_focusout:function(){var a=this;clearTimeout(a._focusing),a._inputWrapper.removeClass(y).removeClass(z),a._blur()},_format:function(a,b){var c=this._culture(b).numberFormat;return a=a.toLowerCase(),a.indexOf("c")>-1?c=c.currency:a.indexOf("p")>-1&&(c=c.percent),c},_input:function(){var b,c=this,d="k-formatted-value",e=c.element.addClass(r).show()[0],f=e.accessKey,g=c.wrapper;b=g.find(B+d),b[0]||(b=a('<input type="text"/>').insertBefore(e).addClass(d)),e.type="text",b[0].tabIndex=e.tabIndex,b[0].style.cssText=e.style.cssText,b.prop("placeholder",c.options.placeholder),f&&(b.attr("accesskey",f),e.accessKey=""),c._text=b.addClass(e.className)},_keydown:function(a){var b=this,c=a.keyCode;c==f.DOWN?b._step(-1):c==f.UP?b._step(1):c==f.ENTER&&b._change(b.element.val()),b._prevent(c,a.shiftKey)&&!a.ctrlKey&&a.preventDefault()},_paste:function(a){var b=this,c=a.target,d=c.value;setTimeout(function(){b._parse(c.value)===G&&b._update(d)})},_prevent:function(a,b){var c,e=this,g=e.element[0],h=g.value,i=e.options,j=i.min,k=e._format(i.format),l=k[B],m=i.decimals,n=d(g),o=n[0],p=n[1],q=0===o&&p===h.length,r=!0;return m===G&&(m=k.decimals),a>16&&21>a||a>32&&37>a||a>47&&58>a||a>95&&106>a||a==f.INSERT||a==f.DELETE||a==f.LEFT||a==f.RIGHT||a==f.TAB||a==f.BACKSPACE||a==f.ENTER?(r=!1,b&&(c=parseInt(String.fromCharCode(a),10),isNaN(c)||(c+="",h=h.substring(0,o)+c+h.substring(p),(-1===g.maxLength||g.maxLength>=h.length)&&(g.value=h,d(g,o+c.length)),r=!0))):(I[a]===l||110==a)&&m>0&&(-1==h.indexOf(l)||q)?110==a?(g.value=h.substring(0,o)+l+h.substring(p),d(g,o+l.length)):b||(r=!1):!(j===G||0>j)||-1!=h.indexOf("-")||189!=a&&109!=a&&173!=a||0!==o||(r=!1),r},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d._parse(c),(c||"step"!==a)&&(e[a]=c,d.element.attr("aria-value"+a,c).attr(a,c)),void 0)},_spin:function(a,b){var c=this;b=b||500,clearTimeout(c._spinning),c._spinning=setTimeout(function(){c._spin(a,50)},b),c._step(a)},_step:function(a){var b=this,c=b.element,d=b._parse(c.val())||0;i()!=c[0]&&b._focusin(),d+=b.options.step*a,b._update(b._adjust(d)),b.trigger(s)},_toggleHover:function(b){a(b.currentTarget).toggleClass(z,"mouseenter"===b.type)},_toggleText:function(a){var b=this;b._text.toggle(a),b.element.toggle(!a)},_parse:function(a,b){return k(a,this._culture(b),this.options.format)},_update:function(a){var b,c=this,d=c.options,f=d.format,g=d.decimals,h=c._culture(),i=c._format(f,h);g===G&&(g=i.decimals),a=c._parse(a,h),b=a!==G,b&&(a=parseFloat(n(a,g))),c._value=a=c._adjust(a),c._placeholder(e.toString(a,f,h)),b?(a=a.toString(),-1!==a.indexOf("e")&&(a=n(+a,g)),a=a.replace(B,i[B])):a="",c.element.val(a).attr("aria-valuenow",a)},_placeholder:function(a){this._text.val(a),l||a||this._text.val(this.options.placeholder)},_wrapper:function(){var b,c=this,d=c.element,e=d[0];b=d.parents(".k-numerictextbox"),b.is("span.k-numerictextbox")||(b=d.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),b=b.wrap("<span/>").parent()),b[0].style.cssText=e.style.cssText,e.style.width="",c.wrapper=b.addClass("k-widget k-numerictextbox").addClass(e.className).css("display",""),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(c[0].value)})},b._form=e.on("reset",b._resetHandler))}});g.plugin(J)}(window.kendo.jQuery),function(a,b){function c(a,b){return a=a.split(" ")[!b+0]||a,a.replace("top","up").replace("bottom","down")}function d(a,b,c){a=a.split(" ")[!b+0]||a;var d={origin:["bottom",c?"right":"left"],position:["top",c?"right":"left"]},e=/left|right/.test(a);return e?(d.origin=["top",a],d.position[1]=i.directions[a].reverse):(d.origin[0]=a,d.position[0]=i.directions[a].reverse),d.origin=d.origin.join(" "),d.position=d.position.join(" "),d}function e(b,c){try{return a.contains(b,c)}catch(d){return!1}}function f(b){b=a(b),b.addClass("k-item").children(x).addClass(F),b.children("a").addClass(A).children(x).addClass(F),b.filter(":not([disabled])").addClass(O),b.filter(".k-separator:empty").append("&nbsp;"),b.filter("li[disabled]").addClass(R).removeAttr("disabled").attr("aria-disabled",!0),b.filter("[role]").length||b.attr("role","menuitem"),b.children("."+A).length||b.contents().filter(function(){return!(this.nodeName.match(v)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll("<span class='"+A+"'/>"),g(b),h(b)}function g(b){b=a(b),b.find("> .k-link > [class*=k-i-arrow]").remove(),b.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent().parent();b.append("<span class='k-icon "+(c.hasClass(z+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function h(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(E),b.filter(".k-last:not(:last-child)").removeClass(B),b.filter(":first-child").addClass(E),b.filter(":last-child").addClass(B)}var i=window.kendo,j=i.ui,k=i._activeElement,l=i.support.touch&&i.support.mobileOS,m=l||i.support.pointers,n="mousedown",o="click",p=a.extend,q=a.proxy,r=a.each,s=i.template,t=i.keys,u=j.Widget,v=/^(ul|a|div)$/i,w=".kendoMenu",x="img",y="open",z="k-menu",A="k-link",B="k-last",C="close",D="timer",E="k-first",F="k-image",G="select",H="zIndex",I="activate",J="deactivate",K="touchstart"+w+" MSPointerDown"+w,L=i.support.pointers?"MSPointerOver":"mouseenter",M=i.support.pointers?"MSPointerOut":"mouseleave",N="kendoPopup",O="k-state-default",P="k-state-hover",Q="k-state-focused",R="k-state-disabled",S=".k-group",T=":not(.k-list) > .k-item",U=".k-item.k-state-disabled",V=".k-item:not(.k-state-disabled)",W=".k-item:not(.k-state-disabled) > .k-link",X=":not(.k-item.k-separator)",Y=X+":eq(0)",Z=X+":last",$="div:not(.k-animation-container,.k-list-container)",_={content:s("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:s("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:s("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:s("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:s("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:s("<span class='#= arrowClass(item, group) #'></span>"),sprite:s("<span class='k-sprite #= spriteCssClass #'></span>"),empty:s("")},ab={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" k-state-disabled":" k-state-default",a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(){return A},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a,b){var c="k-icon";return c+=b.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(a){return a.encoded===!1?a.text:i.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(a){return a.content?a.content:"&nbsp;"}},bb=u.extend({init:function(b,c){var d=this;u.fn.init.call(d,b,c),b=d.wrapper=d.element,c=d.options,d._initData(c),d._updateClasses(),d._animations(c),d.nextItemZIndex=100,d._tabindex(),d._focusProxy=q(d._focusHandler,d),b.on(K,d._focusProxy).on(o+w,U,!1).on(o+w,V,q(d._click,d)).on("keydown"+w,q(d._keydown,d)).on("focus"+w,q(d._focus,d)).on("focus"+w,".k-content",q(d._focus,d)).on(K+" "+n+w,".k-content",q(d._preventClose,d)).on("blur"+w,q(d._removeHoverItem,d)).on("blur"+w,"[tabindex]",q(d._checkActiveElement,d)).on(L+w,V,q(d._mouseenter,d)).on(M+w,V,q(d._mouseleave,d)).on(L+w+" "+M+w+" "+n+w+" "+o+w,W,q(d._toggleHover,d)),c.openOnClick&&(d.clicked=!1,d._documentClickHandler=q(d._documentClick,d),a(document).click(d._documentClickHandler)),b.attr("role","menubar"),b[0].id&&(d._ariaId=i.format("{0}_mn_active",b[0].id)),i.notify(d)},events:[y,C,I,J,G],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=p(!0,b,a.animation),"dataSource"in a&&this._initData(a),u.fn.setOptions.call(this,a)},destroy:function(){var b=this;u.fn.destroy.call(b),b.element.off(w),b._documentClickHandler&&a(document).unbind("click",b._documentClickHandler)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find("> .k-group, > .k-animation-container > .k-group"):null);return r(c.items,function(){c.group.append(this),g(this)}),g(b),h(c.group.find(".k-first, .k-last").add(c.items)),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return r(c.items,function(){b.before(this),g(this),h(this)}),h(b),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return r(c.items,function(){b.after(this),g(this),h(this)}),h(b),this},_insert:function(b,c,d){var e,g,h=this;c&&c.length||(d=h.element);var i=a.isPlainObject(b),j={firstLevel:d.hasClass(z),horizontal:d.hasClass(z+"-horizontal"),expanded:!0,length:d.children().length};return c&&!d.length&&(d=a(bb.renderGroup({group:j})).appendTo(c)),i||a.isArray(b)?e=a.map(i?[b]:b,function(b,c){return"string"==typeof b?a(b):a(bb.renderItem({group:j,item:p(b,{index:c})}))}):(e=a(b),g=e.find("> ul").addClass("k-group").attr("role","menu"),e=e.filter("li"),e.add(g.find("> li")).each(function(){f(this)})),{items:e,group:d}},remove:function(a){a=this.element.find(a);var b=this,c=a.parentsUntil(b.element,T),d=a.parent("ul");if(a.remove(),d&&!d.children(T).length){var e=d.parent(".k-animation-container");e.length?e.remove():d.remove()}return c.length&&(c=c.eq(0),g(c),h(c)),b},open:function(e){var f=this,g=f.options,h="horizontal"==g.orientation,j=g.direction,k=i.support.isRtl(f.wrapper);return e=f.element.find(e),/^(top|bottom|default)$/.test(j)&&(j=k?h?(j+" left").replace("default","bottom"):"left":h?(j+" right").replace("default","bottom"):"right"),e.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var b=a(this).data("kendoPopup");b&&b.close()}),e.each(function(){var e=a(this);clearTimeout(e.data(D)),e.data(D,setTimeout(function(){var a,i=e.find(".k-group:first:hidden");if(i[0]&&f.trigger(y,{item:e[0]})===!1){e.data(H,e.css(H)),e.css(H,f.nextItemZIndex++),a=i.data(N);var l=e.parent().hasClass(z),n=l&&h,o=d(j,l,k),q=g.animation.open.effects,r=q!==b?q:"slideIn:"+c(j,l);a?(a=i.data(N),a.options.origin=o.origin,a.options.position=o.position,a.options.animation.open.effects=r):a=i.kendoPopup({activate:function(){f.trigger(I,{item:this.wrapper.parent()})},deactivate:function(){f.trigger(J,{item:this.wrapper.parent()})},origin:o.origin,position:o.position,collision:g.popupCollision!==b?g.popupCollision:n?"fit":"fit flip",anchor:e,appendTo:e,animation:{open:p(!0,{effects:r},g.animation.open),close:g.animation.close},close:function(a){var b=a.sender.wrapper.parent();f.trigger(C,{item:b[0]})?a.preventDefault():(b.css(H,b.data(H)),b.removeData(H),m&&(b.removeClass(P),f._removeHoverItem()))}}).data(N),i.removeAttr("aria-hidden"),a.open()}},f.options.hoverDelay))}),f},close:function(b){var c=this,d=c.element;return b=d.find(b),b.length||(b=d.find(">.k-item")),b.each(function(){var b=a(this);clearTimeout(b.data(D)),b.data(D,setTimeout(function(){var a=b.find(".k-group:not(.k-list-container):first:visible").data(N);a&&(a.close(),a.element.attr("aria-hidden",!0))},c.options.hoverDelay))}),c},_toggleDisabled:function(b,c){this.element.find(b).each(function(){a(this).toggleClass(O,c).toggleClass(R,!c).attr("aria-disabled",!c)})},_toggleHover:function(b){var c=a(i.eventTarget(b)||b.target).closest(T),d=b.type==L||-1!==n.indexOf(b.type);c.parents("li."+R).length||c.toggleClass(P,d||"mousedown"==b.type||"click"==b.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(b){var c=this,d=a(this._hoverItem()[0]||(b?b.currentTarget:{})),f=c._findRootParent(d)[0];this._closurePrevented||setTimeout(function(){(!document.hasFocus()||!e(f,i._activeElement())&&b&&!e(f,b.currentTarget))&&c.close(f)},0),this._closurePrevented=!1},_removeHoverItem:function(){var a=this._hoverItem();a&&a.hasClass(Q)&&(a.removeClass(Q),this._oldHoverItem=null)},_updateClasses:function(){var a,b=this.element;b.addClass("k-widget k-reset k-header "+z).addClass(z+"-"+this.options.orientation),b.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",b.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),a=b.find("> li,.k-group > li"),a.each(function(){f(this)})},_mouseenter:function(b){var c=this,d=a(b.currentTarget),f=d.children(".k-animation-container").length||d.children(S).length;b.delegateTarget==d.parents(".k-menu")[0]&&((!c.options.openOnClick||c.clicked)&&!e(b.currentTarget,b.relatedTarget)&&f&&c.open(d),(c.options.openOnClick&&c.clicked||m)&&d.siblings().each(q(function(a,b){c.close(b)},c)))},_mouseleave:function(b){var c=this,d=a(b.currentTarget),f=d.children(".k-animation-container").length||d.children(S).length;return d.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(b.stopImmediatePropagation(),void 0):(c.options.openOnClick||l||i.support.pointers&&2==b.originalEvent.pointerType||e(b.currentTarget,b.relatedTarget)||!f||c.close(d),void 0)},_click:function(b){var c,d,e,f=this,g=f.options,h=a(i.eventTarget(b)),j=h[0]?h[0].nodeName.toUpperCase():"",k="INPUT"==j||"SELECT"==j||"BUTTON"==j,l=h.closest("."+A),m=h.closest(T),n=l.attr("href"),o=!!n&&n!==a("<a href='#' />").attr("href");if(!m.children($)[0])return m.hasClass(R)?(b.preventDefault(),void 0):(b.handled||!f.trigger(G,{item:m[0]})||k||b.preventDefault(),b.handled=!0,d=m.children(S+",.k-animation-container"),e=d.is(":visible"),g.closeOnClick&&!o&&(!d.length||g.openOnClick&&e)?(m.removeClass(P).css("height"),f._oldHoverItem=f._findRootParent(m),f.close(l.parentsUntil(f.element,T)),f.clicked=!1,-1!="MSPointerUp".indexOf(b.type)&&b.preventDefault(),void 0):((m.parent().hasClass(z)&&g.openOnClick||i.support.touch)&&(o||k||b.preventDefault(),f.clicked=!0,c=d.is(":visible")?C:y,(g.closeOnClick||c!=C)&&f[c](m)),void 0))},_documentClick:function(a){e(this.element[0],a.target)||(this.clicked=!1)},_focus:function(b){var c=this,d=b.target,e=c._hoverItem(),f=k();return d==c.wrapper[0]||a(d).is(":focusable")?(f===b.currentTarget&&(e.length?c._moveHover([],e):c._oldHoverItem||c._moveHover([],c.wrapper.children().first())),void 0):(b.stopPropagation(),a(d).closest(".k-content").closest(".k-group").closest(".k-item").addClass(Q),c.wrapper.focus(),void 0)},_keydown:function(a){var b,c,d,e=this,f=a.keyCode,g=e._oldHoverItem,h=i.support.isRtl(e.wrapper);if(a.target==a.currentTarget||f==t.ESC){if(g||(g=e._oldHoverItem=e._hoverItem()),c=e._itemBelongsToVertival(g),d=e._itemHasChildren(g),f==t.RIGHT)b=e[h?"_itemLeft":"_itemRight"](g,c,d);else if(f==t.LEFT)b=e[h?"_itemRight":"_itemLeft"](g,c,d);else if(f==t.DOWN)b=e._itemDown(g,c,d);else if(f==t.UP)b=e._itemUp(g,c,d);else if(f==t.ESC)b=e._itemEsc(g,c);else if(f==t.ENTER||f==t.SPACEBAR)b=g.children(".k-link"),b.length>0&&(e._click({target:b[0],preventDefault:function(){}}),e._moveHover(g,e._findRootParent(g)));else if(f==t.TAB)return b=e._findRootParent(g),e._moveHover(g,b),e._checkActiveElement(),void 0;b&&b[0]&&(a.preventDefault(),a.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(a){var b=this.wrapper.hasClass("k-menu-vertical");return a.length?a.parent().hasClass("k-group")||b:b},_itemHasChildren:function(a){return a.length?a.children("ul.k-group, div.k-animation-container").length>0:!1},_moveHover:function(a,b){var c=this,d=c._ariaId;a.length&&b.length&&(a.removeClass(Q),a[0].id===d&&a.removeAttr("id")),b.length&&(b[0].id&&(d=b[0].id),b.addClass(Q),c._oldHoverItem=b,d&&(c.element.removeAttr("aria-activedescendant"),b.attr("id",d),c.element.attr("aria-activedescendant",d)))},_findRootParent:function(a){return a.parent().hasClass("k-menu")?a:a.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(a){return a.parent().hasClass("k-menu")},_itemRight:function(a,b,c){var d,e,f=this;if(!a.hasClass(R))return b?c?(f.open(a),d=a.find(".k-group").children().first()):"horizontal"==f.options.orientation&&(e=f._findRootParent(a),f.close(e),d=e.nextAll(Y)):(d=a.nextAll(Y),d.length||(d=a.prevAll(Z))),d&&!d.length?d=f.wrapper.children(".k-item").first():d||(d=[]),f._moveHover(a,d),d},_itemLeft:function(a,b){var c,d=this;return b?(c=a.parent().closest(".k-item"),d.close(c),d._isRootItem(c)&&"horizontal"==d.options.orientation&&(c=c.prevAll(Y))):(c=a.prevAll(Y),c.length||(c=a.nextAll(Z))),c.length||(c=d.wrapper.children(".k-item").last()),d._moveHover(a,c),c},_itemDown:function(a,b,c){var d,e=this;if(b)d=a.nextAll(Y);else{if(!c||a.hasClass(R))return;e.open(a),d=a.find(".k-group").children().first()}return!d.length&&a.length?d=a.parent().children().first():a.length||(d=e.wrapper.children(".k-item").first()),e._moveHover(a,d),d},_itemUp:function(a,b){var c,d=this;if(b)return c=a.prevAll(Y),!c.length&&a.length?c=a.parent().children().last():a.length||(c=d.wrapper.children(".k-item").last()),d._moveHover(a,c),c},_itemEsc:function(a,b){var c,d=this;return b?(c=a.parent().closest(".k-item"),d.close(c),d._moveHover(a,c),c):a},_focusHandler:function(b){var c=this,d=a(i.eventTarget(b)).closest(T);setTimeout(function(){c._moveHover([],d),d.children(".k-content")[0]&&d.parent().closest(".k-item").removeClass(Q)},200)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});p(bb,{renderItem:function(a){a=p({menu:{},group:{}},a);var b=_.empty,c=a.item;return _.item(p(a,{image:c.imageUrl?_.image:b,sprite:c.spriteCssClass?_.sprite:b,itemWrapper:_.itemWrapper,renderContent:bb.renderContent,arrow:c.items||c.content?_.arrow:b,subGroup:bb.renderGroup},ab))},renderGroup:function(a){return _.group(p({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,f=p({length:e},a.group);e>c;c++)b+=bb.renderItem(p(a,{group:f,item:p({index:c},d[c])}));return b}},a,ab))},renderContent:function(a){return _.content(p(a,ab))}}),i.ui.plugin(bb)}(window.kendo.jQuery),function(a,b){function c(b){return b=null!=b?b:"",b.type||a.type(b)||"string"}function d(b){b.find(":input:not(:button, ["+h.attr("role")+"=upload], ["+h.attr("skip")+"], [type=file]), select").each(function(){var b=h.attr("bind"),c=this.getAttribute(b)||"",d="checkbox"===this.type||"radio"===this.type?"checked:":"value:",e=this.name;-1===c.indexOf(d)&&e&&(c+=(c.length?",":"")+d+e,a(this).attr(b,c))})}function e(a){var b,d,e=(a.model.fields||a.model)[a.field],f=c(e),g=e?e.validation:{},i=h.attr("type"),j=h.attr("bind"),k={name:a.field};for(b in g)d=g[b],o(b,s)>=0?k[i]=b:m(d)||(k[b]=n(d)?d.value||b:d),k[h.attr(b+"-msg")]=d.message;return o(f,s)>=0&&(k[i]=f),k[j]=("boolean"===f?"checked:":"value:")+a.field,k}function f(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;c>b;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function g(a,b){var c,d,e=a?a.validation||{}:{};for(c in e)d=e[c],n(d)&&d.value&&(d=d.value),m(d)&&(b[c]=d)}var h=window.kendo,i=h.ui,j=i.Widget,k=a.extend,l=h.support.browser.msie&&h.support.browser.version<9,m=a.isFunction,n=a.isPlainObject,o=a.inArray,p=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,q='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',r="change",s=["url","email","number","date","boolean"],t={number:function(b,c){var d=e(c);a('<input type="text"/>').attr(d).appendTo(b).kendoNumericTextBox({format:c.format}),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},date:function(b,c){var d=e(c),f=c.format;f&&(f=h._extractFormat(f)),d[h.attr("format")]=f,a('<input type="text"/>').attr(d).appendTo(b).kendoDatePicker({format:c.format}),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},string:function(b,c){var d=e(c);a('<input type="text" class="k-input k-textbox"/>').attr(d).appendTo(b)},"boolean":function(b,c){var d=e(c);a('<input type="checkbox" />').attr(d).appendTo(b)},values:function(b,c){var d=e(c);a("<select "+h.attr("text-field")+'="text"'+h.attr("value-field")+'="value"'+h.attr("source")+"='"+h.stringify(f(c.values)).replace(/\'/g,"&apos;")+"'"+h.attr("role")+'="dropdownlist"/>').attr(d).appendTo(b),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)}},u=j.extend({init:function(b,c){var d=this;j.fn.init.call(d,b,c),d._validateProxy=a.proxy(d._validate,d),d.refresh()},events:[r],options:{name:"Editable",editors:t,clearContainer:!0,errorTemplate:q},editor:function(a,b){var d=this,e=d.options.editors,f=n(a),g=f?a.field:a,i=d.options.model||{},j=f&&a.values,l=j?"values":c(b),m=f&&a.editor,o=m?a.editor:e[l],q=d.element.find("["+h.attr("container-for")+"="+g.replace(p,"\\$1")+"]");o=o?o:e.string,m&&"string"==typeof a.editor&&(o=function(b){b.append(a.editor)}),q=q.length?q:d.element,o(q,k(!0,{},f?a:{field:g},{model:i}))},_validate:function(b){var c,d=this,e="boolean"==typeof b.value,f=d._validationEventInProgress,g={};g[b.field]=b.value,c=a(":input["+h.attr("bind")+'="'+(e?"checked:":"value:")+b.field.replace(p,"\\$1")+'"]',d.element);try{d._validationEventInProgress=!0,(!d.validatable.validateInput(c)||!f&&d.trigger(r,{values:g}))&&b.preventDefault()}finally{d._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var a=this;j.fn.destroy.call(a),a.options.model.unbind("set",a._validateProxy),h.unbind(a.element),h.destroy(a.element),a.element.removeData("kendoValidator")},refresh:function(){var c,e,f,i,j,k,m,o=this,p=o.options.fields||[],q=o.options.clearContainer?o.element.empty():o.element,r=o.options.model||{},s={};for(a.isArray(p)||(p=[p]),c=0,e=p.length;e>c;c++)f=p[c],i=n(f),j=i?f.field:f,k=(r.fields||r)[j],g(k,s),o.editor(f,k);if(!e){m=r.fields||r;for(j in m)g(m[j],s)}d(q),h.bind(q,o.options.model),o.options.model.bind("set",o._validateProxy),o.validatable=q.kendoValidator({validateOnBlur:!1,errorTemplate:o.options.errorTemplate||b,rules:s}).data("kendoValidator");var t=q.find(":focusable:first").focus();l&&t.focus()}});i.plugin(u)}(window.kendo.jQuery),function(a){function b(c,d){c.filters&&(c.filters=a.grep(c.filters,function(a){return b(a,d),a.filters?a.filters.length:a.field!=d}))}function c(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;c>b;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function d(b,c){return a.grep(b,function(b){return b.filters?(b.filters=a.grep(b.filters,function(a){return a.field!=c}),b.filters.length):b.field!=c})}var e=window.kendo,f=e.ui,g=a.proxy,h="kendoPopup",i="init",j=".kendoFilterMenu",k="Is equal to",l="Is not equal to",m={number:"numerictextbox",date:"datepicker"},n=a.isFunction,o=f.Widget,p='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',q='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',r=o.extend({init:function(b,c){var d,f,h,i,k=this,l="string";
o.fn.init.call(k,b,c),d=k.operators=c.operators||{},b=k.element,c=k.options,c.appendToElement||(h=b.addClass("k-filterable").find(".k-grid-filter"),h[0]||(h=b.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),h.attr("tabindex",-1).on("click"+j,g(k._click,k))),k.link=h||a(),k.dataSource=c.dataSource,k.field=c.field||b.attr(e.attr("field")),k.model=k.dataSource.reader.model,k._parse=function(a){return a+""},k.model&&k.model.fields&&(i=k.model.fields[k.field],i&&(l=i.type||"string",i.parse&&(k._parse=g(i.parse,i)))),c.values&&(l="enums"),k.type=l,d=d[l]||c.operators[l];for(f in d)break;k._defaultFilter=function(){return{field:k.field,operator:f||"eq",value:""}},k._refreshHandler=g(k.refresh,k),k.dataSource.bind("change",k._refreshHandler),c.appendToElement?k._init():k.refresh()},_init:function(){var b,d=this,f=d.options,k=d.operators||{},l=f.ui,o=n(l),r=d.type;k=k[r]||f.operators[r],o||(b=l||m[r]),d.form=a('<form class="k-filter-menu k-secondary"/>').html(e.template("boolean"===r?p:q)({field:d.field,format:f.format,ns:e.ns,messages:f.messages,extra:f.extra,operators:k,type:r,role:b,values:c(f.values)})).on("keydown"+j,g(d._keydown,d)).on("submit"+j,g(d._submit,d)).on("reset"+j,g(d._reset,d)),f.appendToElement?(d.element.append(d.form),d.popup=d.element.closest(".k-popup").data(h)):d.popup=d.form[h]({anchor:d.link,open:g(d._open,d),activate:g(d._activate,d),close:d.options.closeCallback}).data(h),o&&d.form.find(".k-textbox").removeClass("k-textbox").each(function(){l(a(this))}),d.form.find("["+e.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+e.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+e.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+e.attr("role")+"=datepicker]").removeClass("k-textbox"),d.refresh(),d.trigger(i,{field:d.field,container:d.form})},refresh:function(){var a=this,b=a.dataSource.filter()||{filters:[],logic:"and"};a.filterModel=e.observable({logic:"and",filters:[a._defaultFilter(),a._defaultFilter()]}),a.form&&e.bind(a.form.children().first(),a.filterModel),a._bind(b)?a.link.addClass("k-state-active"):a.link.removeClass("k-state-active")},destroy:function(){var a=this;o.fn.destroy.call(a),a.form&&(e.unbind(a.form),e.destroy(a.form),a.form.unbind(j),a.popup.destroy()),a.link.unbind(j),a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler)},_bind:function(a){var b,c,d,e,f=this,g=a.filters,h=!1,i=0,j=f.filterModel;for(b=0,c=g.length;c>b;b++)e=g[b],e.field==f.field?(j.set("logic",a.logic),d=j.filters[i],d||(j.filters.push({field:f.field}),d=j.filters[i]),d.set("value",f._parse(e.value)),d.set("operator",e.operator),i++,h=!0):e.filters&&(h=h||f._bind(e));return h},_merge:function(c){var d,e,f,g=this,h=c.logic||"and",i=c.filters,j=g.dataSource.filter()||{filters:[],logic:"and"};for(b(j,g.field),i=a.grep(i,function(a){return""!==a.value&&null!=a.value}),e=0,f=i.length;f>e;e++)d=i[e],d.value=g._parse(d.value);return i.length&&(j.filters.length?(c.filters=i,"and"!==j.logic&&(j.filters=[{logic:j.logic,filters:j.filters}],j.logic="and"),i.length>1?j.filters.push(c):j.filters.push(i[0])):(j.filters=i,j.logic=h)),j},filter:function(a){a=this._merge(a),a.filters.length&&this.dataSource.filter(a)},clear:function(){var b=this,c=b.dataSource.filter()||{filters:[]};c.filters=a.grep(c.filters,function(a){return a.filters?(a.filters=d(a.filters,b.field),a.filters.length):a.field!=b.field}),c.filters.length||(c=null),b.dataSource.filter(c)},_submit:function(a){var b=this;a.preventDefault(),b.filter(b.filterModel.toJSON()),b.popup.close()},_reset:function(){this.clear(),this.popup.close()},_click:function(a){a.preventDefault(),a.stopPropagation(),this.popup||this._init(),this.popup.toggle()},_open:function(){var b;a(".k-filter-menu").not(this.form).each(function(){b=a(this).data(h),b&&b.close()})},_activate:function(){this.form.find(":focusable:first").focus()},_keydown:function(a){a.keyCode==e.keys.ESC&&this.popup.close()},events:[i],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:k,neq:l,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:k,neq:l,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:k,neq:l,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:k,neq:l}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-"}}});f.plugin(r)}(window.kendo.jQuery),function(a,b){function c(b){b=a(b),b.children(r).children(".k-icon").remove(),b.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent();b.append("<span class='k-icon "+(c.hasClass(G)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function d(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(x),b.filter(".k-last:not(:last-child)").removeClass(p),b.filter(":first-child").addClass(x),b.filter(":last-child").addClass(p)}var e=window.kendo,f=e.ui,g=e.keys,h=a.extend,i=a.each,j=e.template,k=f.Widget,l=/^(ul|a|div)$/i,m=".kendoPanelBar",n="img",o="href",p="k-last",q="k-link",r="."+q,s="error",t=".k-item",u=".k-group",v=u+":visible",w="k-image",x="k-first",y="expand",z="select",A="k-content",B="activate",C="collapse",D="mouseenter",E="mouseleave",F="contentLoad",G="k-state-active",H="> .k-panel",I="> .k-content",J="k-state-focused",K="k-state-disabled",L="k-state-selected",M="."+L,N="k-state-highlight",O=t+":not(.k-state-disabled)",P=O+" > .k-link",Q=t+".k-state-disabled > .k-link",R="> li > "+M+", .k-panel > li > "+M,S="k-state-default",T="aria-disabled",U="aria-expanded",V="aria-hidden",W="aria-selected",X=":visible",Y=":empty",Z="single",$={content:j("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:j("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:j("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:j("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:j("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:j("<span class='#= arrowClass(item) #'></span>"),sprite:j("<span class='k-sprite #= spriteCssClass #'></span>"),empty:j("")},_={aria:function(a){var b="";return(a.items||a.content||a.contentUrl)&&(b+=U+"='"+(a.expanded?"true":"false")+"' "),a.enabled===!1&&(b+=T+"='true'"),b},wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" "+K:b.expanded===!0?" "+G:" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(a,b){var c=q;return b.firstLevel&&(c+=" k-header"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a){var b="k-icon";return b+=a.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand"},text:function(a){return a.encoded===!1?a.text:e.htmlEncode(a.text)},tag:function(a){return a.url||a.contentUrl?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(a){return a.item.expanded!==!0?" style='display:none'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?'href="'+a.contentUrl+'"':""}},ab=k.extend({init:function(b,c){var d,f=this;k.fn.init.call(f,b,c),b=f.wrapper=f.element.addClass("k-widget k-reset k-header k-panelbar"),c=f.options,b[0].id&&(f._itemId=b[0].id+"_pb_active"),f._tabindex(),f._initData(c),f._updateClasses(),f._animations(c),b.on("click"+m,P,function(b){f._click(a(b.currentTarget))&&b.preventDefault()}).on(D+m+" "+E+m,P,f._toggleHover).on("click"+m,Q,!1).on("keydown"+m,a.proxy(f._keydown,f)).on("focus"+m,function(){var a=f.select();f._current(a[0]?a:f._first())}).on("blur"+m,function(){f._current(null)}).attr("role","menu"),d=b.find("li."+G+" > ."+A),d[0]&&f.expand(d.parent(),!1),e.notify(f)},events:[y,C,z,B,s,F],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){k.fn.destroy.call(this),this.element.off(m),e.destroy(this.element)},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=h(!0,b,a.animation),"dataSource"in a&&this._initData(a),k.fn.setOptions.call(this,a)},expand:function(b,c){var d=this,e={};return c=c!==!1,b=this.element.find(b),b.each(function(f,g){g=a(g);var h=g.find(H).add(g.find(I));if(!g.hasClass(K)&&h.length>0){if(d.options.expandMode==Z&&d._collapseAllExpanded(g))return d;b.find("."+N).removeClass(N),g.addClass(N),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(y,g)||d._toggleItem(g,!1),c||(d.options.animation=e)}}),d},collapse:function(b,c){var d=this,e={};return c=c!==!1,b=d.element.find(b),b.each(function(b,f){f=a(f);var g=f.find(H).add(f.find(I));!f.hasClass(K)&&g.is(X)&&(f.removeClass(N),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(C,f)||d._toggleItem(f,!0),c||(d.options.animation=e))}),d},_toggleDisabled:function(a,b){a=this.element.find(a),a.toggleClass(S,b).toggleClass(K,!b).attr(T,!b)},select:function(c){var d=this;return c===b?d.element.find(R).parent():(d.element.find(c).each(function(){var b=a(this),c=b.children(r);return b.hasClass(K)?d:(d._updateSelected(c),void 0)}),d)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var e=this._insert(a,b,b.length?b.find(H):null);return i(e.items,function(){e.group.append(this),d(this)}),c(b),d(e.group.find(".k-first, .k-last")),e.group.height("auto"),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return i(c.items,function(){b.before(this),d(this)}),d(b),c.group.height("auto"),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return i(c.items,function(){b.after(this),d(this)}),d(b),c.group.height("auto"),this},remove:function(a){a=this.element.find(a);var b=this,e=a.parentsUntil(b.element,t),f=a.parent("ul");return a.remove(),!f||f.hasClass("k-panelbar")||f.children(t).length||f.remove(),e.length&&(e=e.eq(0),c(e),d(e)),b},reload:function(b){var c=this;b=c.element.find(b),b.each(function(){var b=a(this);c._ajaxRequest(b,b.children("."+A),!b.is(X))})},_first:function(){return this.element.children(O).first()},_last:function(){var a=this.element.children(O).last(),b=a.children(v);return b[0]?b.children(O).last():a},_current:function(a){var c=this,d=c._focused,e=c._itemId;return a===b?d:(c.element.removeAttr("aria-activedescendant"),d&&(d[0].id===e&&d.removeAttr("id"),d.children(r).removeClass(J)),a&&(e=a[0].id||e,a.attr("id",e).children(r).addClass(J),c.element.attr("aria-activedescendant",e)),c._focused=a,void 0)},_keydown:function(a){var b=this,c=a.keyCode,d=b._current();a.target==a.currentTarget&&(c==g.DOWN||c==g.RIGHT?(b._current(b._nextItem(d)),a.preventDefault()):c==g.UP||c==g.LEFT?(b._current(b._prevItem(d)),a.preventDefault()):c==g.ENTER||c==g.SPACEBAR?(b._click(d.children(r)),a.preventDefault()):c==g.HOME?(b._current(b._first()),a.preventDefault()):c==g.END&&(b._current(b._last()),a.preventDefault()))},_nextItem:function(a){if(!a)return this._first();var b=a.children(v),c=a.next();return b[0]&&(c=b.children("."+x)),c[0]||(c=a.parent(v).parent(t).next()),c[0]&&c.is(":visible")||(c=this._first()),c.hasClass(K)&&(c=this._nextItem(c)),c},_prevItem:function(a){if(!a)return this._last();var b,c=a.prev();if(c[0])for(b=c;b[0];)b=b.children(v).children("."+p),b[0]&&(c=b);else c=a.parent(v).parent(t),c[0]||(c=this._last());return c.hasClass(K)&&(c=this._prevItem(c)),c},_insert:function(b,c,d){var e,f,g=this,i=a.isPlainObject(b),j=c&&c[0];return j||(d=g.element),f={firstLevel:d.hasClass("k-panelbar"),expanded:d.parent().hasClass(G),length:d.children().length},j&&!d.length&&(d=a(ab.renderGroup({group:f})).appendTo(c)),i||a.isArray(b)?(e=a.map(i?[b]:b,function(b,c){return"string"==typeof b?a(b):a(ab.renderItem({group:f,item:h(b,{index:c})}))}),j&&c.attr(U,!1)):(e=a(b),g._updateItemsClasses(e)),{items:e,group:d}},_toggleHover:function(b){var c=a(b.currentTarget);c.parents("li."+K).length||c.toggleClass("k-state-hover",b.type==D)},_updateClasses:function(){var b,e,f=this;b=f.element.find("li > ul").not(function(){return a(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group"),b.parent().attr(U,!1).not("."+G).children("ul").attr(V,!0).hide(),e=f.element.add(b).children(),f._updateItemsClasses(e),c(e),d(e)},_updateItemsClasses:function(a){for(var b=a.length,c=0;b>c;c++)this._updateItemClasses(a[c],c)},_updateItemClasses:function(b,c){var d,f,g=this._selected,h=this.options.contentUrls,i=h&&h[c],j=this.element[0];b=a(b).addClass("k-item").attr("role","menuitem"),e.support.browser.msie&&b.css("list-style-position","inside").css("list-style-position",""),b.children(n).addClass(w),f=b.children("a").addClass(q),f[0]&&(f.attr("href",i),f.children(n).addClass(w)),b.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),b.filter("li[disabled]").addClass("k-state-disabled").attr(T,!0).removeAttr("disabled"),b.children("div").addClass(A).attr("role","region").attr(V,!0).hide().parent().attr(U,!1),f=b.children(M),f[0]&&(g&&g.removeAttr(W).children(M).removeClass(L),f.addClass(L),this._selected=b.attr(W,!0)),b.children(r)[0]||(d="<span class='"+q+"'/>",h&&h[c]&&b[0].parentNode==j&&(d='<a class="k-link k-header" href="'+h[c]+'"/>'),b.contents().filter(function(){return!(this.nodeName.match(l)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll(d)),b.parent(".k-panelbar")[0]&&b.children(r).addClass("k-header")},_click:function(a){var b,c,d,e,f=this,g=f.element;if(!a.parents("li."+K).length&&a.closest(".k-widget")[0]==g[0]){var h=a.closest(r),i=h.closest(t);if(f._updateSelected(h),c=i.find(H).add(i.find(I)),d=h.attr(o),e=d&&("#"==d.charAt(d.length-1)||-1!=d.indexOf("#"+f.element[0].id+"-")),b=!(!e&&!c.length),c.data("animating"))return b;if(f._triggerEvent(z,i)&&(b=!0),b!==!1){if(f.options.expandMode==Z&&f._collapseAllExpanded(i))return b;if(c.length){var j=c.is(X);f._triggerEvent(j?C:y,i)||(b=f._toggleItem(i,j))}return b}}},_toggleItem:function(a,b){var c,d,e=this,f=a.find(H);return f.length?(this._toggleGroup(f,b),c=!0):(d=a.children("."+A),d.length&&(c=!0,d.is(Y)?e._ajaxRequest(a,d,b):e._toggleGroup(d,b))),c},_toggleGroup:function(a,b){var c=this,d=c.options.animation,e=d.expand,f=h({},d.collapse),g=f&&"effects"in f;a.is(X)==b&&(a.parent().attr(U,!b).attr(V,b).toggleClass(S,b).toggleClass(G,!b).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!b).toggleClass("k-panelbar-collapse",!b).toggleClass("k-i-arrow-s",b).toggleClass("k-panelbar-expand",b),e=b?h(g?f:h({reverse:!0},e),{hide:!0}):h({complete:function(a){c._triggerEvent(B,a.closest(t))}},e),a.kendoStop(!0,!0).kendoAnimate(e))},_collapseAllExpanded:function(b){var c,d=this,e=!1;if(b.children(r).hasClass("k-header")){var f=b.find(H).add(b.find(I));return f.is(X)&&(e=!0),f.is(X)||0===f.length||(c=a(d.element).children(),c.find(H).add(c.find(I)).filter(function(){return a(this).is(X)}).each(function(b,c){c=a(c),e=d._triggerEvent(C,c.closest(t)),e||d._toggleGroup(c,!0)})),e}},_ajaxRequest:function(b,c,d){var e=this,f=b.find(".k-panelbar-collapse, .k-panelbar-expand"),g=b.find(r),h=setTimeout(function(){f.addClass("k-loading")},100),i={},j=g.attr(o);a.ajax({type:"GET",cache:!1,url:j,dataType:"html",data:i,error:function(a,b){f.removeClass("k-loading"),e.trigger(s,{xhr:a,status:b})&&this.complete()},complete:function(){clearTimeout(h),f.removeClass("k-loading")},success:function(a){try{c.html(a)}catch(f){var g=window.console;g&&g.error&&g.error(f.name+": "+f.message+" in "+j),this.error(this.xhr,"error")}e._toggleGroup(c,d),e.trigger(F,{item:b[0],contentElement:c[0]})}})},_triggerEvent:function(a,b){var c=this;return c.trigger(a,{item:b[0]})},_updateSelected:function(a){var b=this,c=b.element,d=a.parent(t),e=b._selected;e&&e.removeAttr(W),b._selected=d.attr(W,!0),c.find(R).removeClass(L),c.find("> ."+N+", .k-panel > ."+N).removeClass(N),a.addClass(L),a.parentsUntil(c,t).filter(":has(.k-header)").addClass(N),b._current(d)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});h(ab,{renderItem:function(a){a=h({panelBar:{},group:{}},a);var b=$.empty,c=a.item;return $.item(h(a,{image:c.imageUrl?$.image:b,sprite:c.spriteCssClass?$.sprite:b,itemWrapper:$.itemWrapper,renderContent:ab.renderContent,arrow:c.items||c.content||c.contentUrl?$.arrow:b,subGroup:ab.renderGroup},_))},renderGroup:function(a){return $.group(h({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,f=h({length:e},a.group);e>c;c++)b+=ab.renderItem(h(a,{group:f,item:h({index:c},d[c])}));return b}},a,_))},renderContent:function(a){return $.content(h(a,_))}}),e.ui.plugin(ab)}(window.kendo.jQuery),function(a,b){function c(b){b.children(p).addClass(x),b.children("a").addClass(s).children(p).addClass(x),b.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(H),b.filter("li[disabled]").addClass(G).removeAttr("disabled"),b.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(I+" "+L),b.attr("role","tab"),b.filter("."+I).attr("aria-selected",!0),b.each(function(){var b=a(this);b.children("."+s).length||b.contents().filter(function(){return!(this.nodeName.match(n)||3==this.nodeType&&!j(this.nodeValue))}).wrapAll("<a class='"+s+"'/>")})}function d(a){var b=a.children(".k-item");b.filter(".k-first:not(:first-child)").removeClass(y),b.filter(".k-last:not(:last-child)").removeClass(t),b.filter(":first-child").addClass(y),b.filter(":last-child").addClass(t)}var e=window.kendo,f=e.ui,g=e.keys,h=a.map,i=a.each,j=a.trim,k=a.extend,l=e.template,m=f.Widget,n=/^(a|div)$/i,o=".kendoTabStrip",p="img",q="href",r="prev",s="k-link",t="k-last",u="click",v="error",w=":empty",x="k-image",y="k-first",z="select",A="activate",B="k-content",C="contentUrl",D="mouseenter",E="mouseleave",F="contentLoad",G="k-state-disabled",H="k-state-default",I="k-state-active",J="k-state-focused",K="k-state-hover",L="k-tab-on-top",M=".k-item:not(."+G+")",N=".k-tabstrip-items > "+M+":not(."+I+")",O={content:l("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:l("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:l("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:l("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:l("<span class='k-sprite #= spriteCssClass #'></span>"),empty:l("")},P={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" k-state-disabled":" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},text:function(a){return a.encoded===!1?a.text:e.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},contentAttributes:function(a){return a.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?e.attr("content-url")+'="'+a.contentUrl+'"':""}},Q=m.extend({init:function(b,c){var d=this;m.fn.init.call(d,b,c),d._animations(d.options),d.wrapper=d.element.is("ul")?d.element.wrapAll("<div />").parent():d.element,c=d.options,d._isRtl=e.support.isRtl(d.wrapper),d._tabindex(),d._updateClasses(),d._dataSource(),c.dataSource&&d.dataSource.fetch(),d.options.contentUrls&&d.wrapper.find(".k-tabstrip-items > .k-item").each(function(b,c){a(c).find(">."+s).data(C,d.options.contentUrls[b])}),d.wrapper.on(D+o+" "+E+o,N,d._toggleHover).on("keydown"+o,a.proxy(d._keydown,d)).on("focus"+o,a.proxy(d._active,d)).on("blur"+o,function(){d._current(null)}),d.wrapper.children(".k-tabstrip-items").on(u+o,".k-state-disabled .k-link",!1).on(u+o," > "+M,function(b){d._click(a(b.currentTarget))&&b.preventDefault()});var f=d.tabGroup.children("li."+I),g=d.contentHolder(f.index());g.length>0&&0===g[0].childNodes.length&&d.activateTab(f.eq(0)),d.element.attr("role","tablist"),d.element[0].id&&(d._ariaId=d.element[0].id+"_ts_active"),e.notify(d)},_active:function(){var a=this.tabGroup.children().filter("."+I);a=a[0]?a:this._endItem("first"),a[0]&&this._current(a)},_endItem:function(a){return this.tabGroup.children(M)[a]()},_item:function(a,b){var c;return c=b===r?"last":"first",a?(a=a[b](),a[0]||(a=this._endItem(c)),a.hasClass(G)&&(a=this._item(a,b)),a):this._endItem(c)},_current:function(a){var c=this,d=c._focused,e=c._ariaId;return a===b?d:(d&&(d[0].id===e&&d.removeAttr("id"),d.removeClass(J)),a&&(a.hasClass(I)||a.addClass(J),c.element.removeAttr("aria-activedescendant"),e=a[0].id||e,e&&(a.attr("id",e),c.element.attr("aria-activedescendant",e))),c._focused=a,void 0)},_keydown:function(a){var b,c=this,d=a.keyCode,e=c._current(),f=c._isRtl;if(a.target==a.currentTarget){if(d==g.DOWN||d==g.RIGHT)b=f?r:"next";else if(d==g.UP||d==g.LEFT)b=f?"next":r;else if(d==g.ENTER||d==g.SPACEBAR)c._click(e),a.preventDefault();else{if(d==g.HOME)return c._click(c._endItem("first")),a.preventDefault(),void 0;if(d==g.END)return c._click(c._endItem("last")),a.preventDefault(),void 0}b&&(c._click(c._item(e,b)),a.preventDefault())}},_dataSource:function(){var b=this;b.dataSource&&b._refreshHandler?b.dataSource.unbind("change",b._refreshHandler):b._refreshHandler=a.proxy(b.refresh,b),b.dataSource=e.data.DataSource.create(b.options.dataSource).bind("change",b._refreshHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),a.fetch()},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(a){var b,c,d,f,g=this,h=g.options,i=e.getter(h.dataTextField),j=e.getter(h.dataContentField),k=e.getter(h.dataContentUrlField),l=e.getter(h.dataImageUrlField),m=e.getter(h.dataUrlField),n=e.getter(h.dataSpriteCssClass),o=[],p=g.dataSource.view();for(a=a||{},d=a.action,d&&(p=a.items),b=0,f=p.length;f>b;b++)c={text:i(p[b])},h.dataContentField&&(c.content=j(p[b])),h.dataContentUrlField&&(c.contentUrl=k(p[b])),h.dataUrlField&&(c.url=m(p[b])),h.dataImageUrlField&&(c.imageUrl=l(p[b])),h.dataSpriteCssClass&&(c.spriteCssClass=n(p[b])),o[b]=c;if("add"==a.action)a.index<g.tabGroup.children().length?g.insertBefore(o,g.tabGroup.children().eq(a.index)):g.append(o);else if("remove"==a.action)for(b=0;b<p.length;b++)g.remove(a.index);else"itemchange"==a.action?(b=g.dataSource.view().indexOf(p[0]),a.field===h.dataTextField&&g.tabGroup.children().eq(b).find(".k-link").text(p[0].get(a.field))):(g.trigger("dataBinding"),g.remove("li"),g.append(o),g.trigger("dataBound"))},value:function(c){var d=this;return c===b?d.select().text():(c!=d.value()&&d.tabGroup.children().each(function(){a.trim(a(this).text())==c&&d.select(this)}),void 0)},items:function(){return this.tabGroup[0].children},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=k(!0,b,a.animation),m.fn.setOptions.call(this,a)},events:[z,A,v,F,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1},destroy:function(){var a=this;m.fn.destroy.call(a),a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler),a.wrapper.off(o),e.destroy(a.wrapper)},select:function(b){var c=this;return 0===arguments.length?c.tabGroup.children("li."+I):(isNaN(b)||(b=c.tabGroup.children().get(b)),b=c.tabGroup.find(b),a(b).each(function(b,d){d=a(d),d.hasClass(I)||c.trigger(z,{item:d[0],contentElement:c.contentHolder(d.index())[0]})||c.activateTab(d)}),c)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},reload:function(b){b=this.tabGroup.find(b);var c=this;return b.each(function(){var b=a(this),d=b.find("."+s).data(C),e=c.contentHolder(b.index());d&&c.ajaxRequest(b,e,null,d)}),c},append:function(a){var b=this,c=b._create(a);return i(c.tabs,function(a){b.tabGroup.append(this),b.wrapper.append(c.contents[a])}),d(b.tabGroup),b._updateContentElements(),b},insertBefore:function(b,c){var e=this,f=e._create(b),g=a(e.contentElement(c.index()));return i(f.tabs,function(a){c.before(this),g.before(f.contents[a])}),d(e.tabGroup),e._updateContentElements(),e},insertAfter:function(b,c){var e=this,f=e._create(b),g=a(e.contentElement(c.index()));return i(f.tabs,function(a){c.after(this),g.after(f.contents[a])}),d(e.tabGroup),e._updateContentElements(),e},remove:function(b){var c=this,d=typeof b,e=a();return"string"===d?b=c.tabGroup.find(b):"number"===d&&(b=c.tabGroup.children().eq(b)),b.each(function(){e.push(c.contentElement(a(this).index()))}),b.remove(),e.remove(),c._updateContentElements(),c},_create:function(b){var d,e,f=a.isPlainObject(b),g=this;return f||a.isArray(b)?(b=a.isArray(b)?b:[b],d=h(b,function(b,c){return a(Q.renderItem({group:g.tabGroup,item:k(b,{index:c})}))}),e=h(b,function(b,c){return b.content||b.contentUrl?a(Q.renderContent({item:k(b,{index:c})})):void 0})):(d=a(b),e=a("<div class='"+B+"'/>"),c(d)),{tabs:d,contents:e}},_toggleDisabled:function(b,c){b=this.tabGroup.find(b),b.each(function(){a(this).toggleClass(H,c).toggleClass(G,!c)})},_updateClasses:function(){var e,f,g,h=this;h.wrapper.addClass("k-widget k-header k-tabstrip"),h.tabGroup=h.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),h.tabGroup[0]||(h.tabGroup=a("<ul class='k-tabstrip-items k-reset'/>").appendTo(h.wrapper)),e=h.tabGroup.find("li").addClass("k-item"),e.length&&(f=e.filter("."+I).index(),g=f>=0?f:b,h.tabGroup.contents().filter(function(){return 3==this.nodeType&&!j(this.nodeValue)}).remove()),f>=0&&e.eq(f).addClass(L),h.contentElements=h.wrapper.children("div"),h.contentElements.addClass(B).eq(g).addClass(I).css({display:"block"}),e.length&&(c(e),d(h.tabGroup),h._updateContentElements())},_updateContentElements:function(){var b=this,c=b.options.contentUrls||[],d=b.element.attr("id"),f=b.wrapper.children("div");b.tabGroup.find(".k-item").each(function(e){var g=f.eq(e),h=d+"-"+(e+1);this.setAttribute("aria-controls",h),!g.length&&c[e]?a("<div id='"+h+"' class='"+B+"'/>").appendTo(b.wrapper):g.attr("id",h),g.attr("role","tabpanel"),g.filter(":not(."+I+")").attr("aria-hidden",!0).attr("aria-expanded",!1),g.filter("."+I).attr("aria-expanded",!0)}),b.contentElements=b.contentAnimators=b.wrapper.children("div"),e.kineticScrollNeeded&&e.mobile.ui.Scroller&&(e.touchScroller(b.contentElements),b.contentElements=b.contentElements.children(".km-scroll-container"))},_toggleHover:function(b){a(b.currentTarget).toggleClass(K,b.type==D)},_click:function(a){var b,c,d=this,e=a.find("."+s),f=e.attr(q),g=d.options.collapsible,h=d.contentHolder(a.index());if(a.closest(".k-widget")[0]==d.wrapper[0]){if(a.is("."+G+(g?"":",."+I)))return!0;if(c=e.data(C)||f&&("#"==f.charAt(f.length-1)||-1!=f.indexOf("#"+d.element[0].id+"-")),b=!f||c,d.tabGroup.children("[data-animating]").length)return b;if(d.trigger(z,{item:a[0],contentElement:h[0]}))return!0;if(b!==!1)return g&&a.is("."+I)?(d.deactivateTab(a),!0):(d.activateTab(a)&&(b=!0),b)}},deactivateTab:function(a){var b=this,c=b.options.animation,d=c.open,f=k({},c.close),g=f&&"effects"in f;a=b.tabGroup.find(a),f=k(g?f:k({reverse:!0},d),{hide:!0}),e.size(d.effects)?(a.kendoAddClass(H,{duration:d.duration}),a.kendoRemoveClass(I,{duration:d.duration})):(a.addClass(H),a.removeClass(I)),a.removeAttr("aria-selected"),b.contentAnimators.filter("."+I).kendoStop(!0,!0).kendoAnimate(f).removeClass(I).attr("aria-hidden",!0)},activateTab:function(a){a=this.tabGroup.find(a);var b=this,c=b.options.animation,d=c.open,f=k({},c.close),g=f&&"effects"in f,h=a.parent().children(),i=h.filter("."+I),j=h.index(a);f=k(g?f:k({reverse:!0},d),{hide:!0}),e.size(d.effects)?(i.kendoRemoveClass(I,{duration:f.duration}),a.kendoRemoveClass(K,{duration:f.duration})):(i.removeClass(I),a.removeClass(K));var l=b.contentAnimators;if(a.data("in-request")&&(b.xhr.abort(),a.removeAttr("data-in-request")),0===l.length)return i.removeClass(L),a.addClass(L).css("z-index"),a.addClass(I),b._current(a),b.trigger("change"),!1;var m=l.filter("."+I),n=b.contentHolder(j),o=n.closest(".k-content");if(0===n.length)return m.removeClass(I).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(f),!1;a.attr("data-animating",!0);var p=(a.children("."+s).data(C)||!1)&&n.is(w),q=function(){i.removeClass(L),a.addClass(L).css("z-index"),e.size(d.effects)?(i.kendoAddClass(H,{duration:d.duration}),a.kendoAddClass(I,{duration:d.duration})):(i.addClass(H),a.addClass(I)),i.removeAttr("aria-selected"),a.attr("aria-selected",!0),b._current(a),o.addClass(I).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(k({init:function(){b.trigger(A,{item:a[0],contentElement:n[0]})}},d,{complete:function(){a.removeAttr("data-animating")}}))},r=function(){p?(a.removeAttr("data-animating"),b.ajaxRequest(a,n,function(){a.attr("data-animating",!0),q(),b.trigger("change")})):(q(),b.trigger("change"))};return m.removeClass(I),m.attr("aria-hidden",!0),m.attr("aria-expanded",!1),m.length?m.kendoStop(!0,!0).kendoAnimate(k({complete:r},f)):r(),!0},contentElement:function(a){if(isNaN(a-0))return b;var c=this.contentElements&&this.contentElements[0]&&!e.kineticScrollNeeded?this.contentElements:this.contentAnimators,d=new RegExp("-"+(a+1)+"$");if(c)for(var f=0,g=c.length;g>f;f++)if(d.test(c.closest(".k-content")[f].id))return c[f];return b},contentHolder:function(b){var c=a(this.contentElement(b)),d=c.children(".km-scroll-container");return e.support.touch&&d[0]?d:c},ajaxRequest:function(b,c,d,e){if(b=this.tabGroup.find(b),!b.find(".k-loading").length){var f=this,g=b.find("."+s),h={},i=null,j=setTimeout(function(){i=a("<span class='k-icon k-loading'/>").prependTo(g)},100);e=e||g.data(C)||g.attr(q),b.attr("data-in-request",!0),f.xhr=a.ajax({type:"GET",cache:!1,url:e,dataType:"html",data:h,error:function(a,b){f.trigger("error",{xhr:a,status:b})&&this.complete()},complete:function(){b.removeAttr("data-in-request"),clearTimeout(j),null!==i&&i.remove()},success:function(a){try{c.html(a)}catch(g){var h=window.console;h&&h.error&&h.error(g.name+": "+g.message+" in "+e),this.error(this.xhr,"error")}d&&d.call(f,c),f.trigger(F,{item:b[0],contentElement:c[0]})}})}}});k(Q,{renderItem:function(a){a=k({tabStrip:{},group:{}},a);var b=O.empty,c=a.item;return O.item(k(a,{image:c.imageUrl?O.image:b,sprite:c.spriteCssClass?O.sprite:b,itemWrapper:O.itemWrapper},P))},renderContent:function(a){return O.content(k(a,P))}}),e.ui.plugin(Q)}(window.kendo.jQuery),function(a,b){function c(a,b,c){var d,e=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(d=a.getTimezoneOffset()-e,a.setTime(a.getTime()+d*E))
}function d(){var a=new S,b=new S(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),c=new S(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0);return-1*(b.getTimezoneOffset()-c.getTimezoneOffset())}function e(a){return 60*a.getHours()*E+a.getMinutes()*E+1e3*a.getSeconds()+a.getMilliseconds()}function f(a,b,c){var d,f=e(b),g=e(c);return a&&f!=g?(d=e(a),f>d&&(d+=F),f>g&&(g+=F),d>=f&&g>=d):!0}function g(a){var b=a.parseFormats;a.format=l(a.format||i.getCulture(a.culture).calendars.standard.patterns.t),b=P(b)?b:[b],b.splice(0,0,a.format),a.parseFormats=b}function h(a){a.preventDefault()}var i=window.kendo,j=i.keys,k=i._activeElement,l=i._extractFormat,m=i.support,n=m.browser,o=i.ui,p=o.Widget,q="open",r="close",s="change",t=".kendoTimePicker",u="click"+t,v="k-state-default",w="disabled",x="readonly",y="li",z="<span/>",A="k-state-focused",B="k-state-hover",C="mouseenter"+t+" mouseleave"+t,D="mousedown"+t,E=6e4,F=864e5,G="k-state-selected",H="k-state-disabled",I="aria-selected",J="aria-expanded",K="aria-hidden",L="aria-disabled",M="aria-readonly",N="aria-activedescendant",O="id",P=a.isArray,Q=a.extend,R=a.proxy,S=Date,T=new S;T=new S(T.getFullYear(),T.getMonth(),T.getDate(),0,0,0);var U=function(b){var c=this,d=b.id;c.options=b,c.ul=a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:m.kineticScrollNeeded?"":"auto"}).on(u,y,R(c._click,c)).on("mouseenter"+t,y,function(){a(this).addClass(B)}).on("mouseleave"+t,y,function(){a(this).removeClass(B)}),c.list=a("<div class='k-list-container'/>").append(c.ul).on(D,h),d&&(c._timeViewID=d+"_timeview",c._optionID=d+"_option_selected",c.ul.attr(O,c._timeViewID)),c._popup(),c.template=i.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};U.prototype={current:function(c){var d=this,e=d.options.active;return c===b?d._current:(d._current&&d._current.removeClass(G).removeAttr(I).removeAttr(O),c&&(c=a(c).addClass(G).attr(O,d._optionID).attr(I,!0),d.scroll(c[0])),d._current=c,e&&e(c),void 0)},close:function(){this.popup.close()},destroy:function(){var a=this;a.ul.off(t),a.list.off(t),a.popup.destroy()},open:function(){var a=this;a.ul[0].firstChild||a.bind(),a.popup.open(),a._current&&a.scroll(a._current[0])},dataBind:function(a){for(var b,c=this,d=c.options,e=d.format,g=i.toString,h=c.template,j=a.length,k=0,l="";j>k;k++)b=a[k],f(b,d.min,d.max)&&(l+=h(g(b,e,d.culture)));c._html(l,j)},refresh:function(){var a,b,f,g=this,h=g.options,j=h.format,k=d(),l=0>k,m=h.min,n=h.max,o=e(m),p=e(n),q=h.interval*E,r=i.toString,s=g.template,t=new S(+m),u=t.getDate(),v=0,w="";for(f=l?(F+k*E)/q:F/q,o!=p&&(o>p&&(p+=F),f=(p-o)/q+1),b=parseInt(f,10);f>v;v++)v&&c(t,q,l),p&&b==v&&(a=e(t),u<t.getDate()&&(a+=F),a>p&&(t=new S(+n))),w+=s(r(t,j,h.culture));g._html(w,f)},bind:function(){var a=this,b=a.options.dates;b&&b[0]?a.dataBind(b):a.refresh()},_html:function(a,b){var c=this;c.ul[0].innerHTML=a,c._height(b),c.current(null),c.select(c._value)},scroll:function(a){if(a){var b=this.ul[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d;b.scrollTop=e>c?c:g>e+f?g-f:e}},select:function(b){var c=this,d=c.options,e=c._current;b instanceof Date&&(b=i.toString(b,d.format,d.culture)),"string"==typeof b&&(e&&e.text()===b?b=e:(b=a.grep(c.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==b}),b=b[0]?b:null)),c.current(b)},toggle:function(){var a=this;a.popup.visible()?a.close():a.open()},value:function(a){var b=this;b._value=a,b.ul[0].firstChild&&b.select(a)},_click:function(b){var c=this,d=a(b.currentTarget);b.isDefaultPrevented()||(c.select(d),c.options.change(d.text(),!0),c.close())},_height:function(a){if(a){var b=this,c=b.list,d=c.parent(".k-animation-container"),e=b.options.height;c.add(d).show().height(b.ul[0].scrollHeight>e?e:"auto").hide()}},_parse:function(a){var b=this,c=b.options,d=b._value||T;return a instanceof S?a:(a=i.parseDate(a,c.parseFormats,c.culture),a&&(a=new S(d.getFullYear(),d.getMonth(),d.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())),a)},_adjustListWidth:function(){var a,b,c=this.list,d=c[0].style.width,e=this.options.anchor;(c.data("width")||!d)&&(a=window.getComputedStyle?window.getComputedStyle(e[0],null):0,b=a?parseFloat(a.width):e.outerWidth(),a&&(n.mozilla||n.msie)&&(b+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),d=b-(c.outerWidth()-c.width()),c.css({fontFamily:e.css("font-family"),width:d}).data("width",d))},_popup:function(){var a=this,b=a.list,c=a.options,d=c.anchor;a.popup=new o.Popup(b,Q(c.popup,{anchor:d,open:c.open,close:c.close,animation:c.animation,isRtl:m.isRtl(c.anchor)})),i.touchScroller(a.popup.element)},move:function(a){var b=this,c=a.keyCode,d=b.ul[0],e=b._current,f=c===j.DOWN;if(c===j.UP||f){if(a.altKey)return b.toggle(f),void 0;e=f?e?e[0].nextSibling:d.firstChild:e?e[0].previousSibling:d.lastChild,e&&b.select(e),b.options.change(b._current.text()),a.preventDefault()}else(c===j.ENTER||c===j.TAB||c===j.ESC)&&(a.preventDefault(),e&&b.options.change(e.text(),!0),b.close())}},U.getMilliseconds=e,i.TimeView=U;var V=p.extend({init:function(a,b){var c,d,e,f=this;p.fn.init.call(f,a,b),a=f.element,b=f.options,g(b),f._wrapper(),f.timeView=d=new U(Q({},b,{id:a.attr(O),anchor:f.wrapper,format:b.format,change:function(b,c){c?f._change(b):a.val(b)},open:function(b){f.timeView._adjustListWidth(),f.trigger(q)?b.preventDefault():(a.attr(J,!0),c.attr(K,!1))},close:function(b){f.trigger(r)?b.preventDefault():(a.attr(J,!1),c.attr(K,!0))},active:function(b){a.removeAttr(N),b&&a.attr(N,d._optionID)}})),c=d.ul,f._icon(),f._reset(),a[0].type="text",a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":d._timeViewID}),e=a.is("[disabled]"),e?f.enable(!1):f.readonly(a.is("[readonly]")),f.value(b.value||a.val()),i.notify(f)},options:{name:"TimePicker",min:T,max:T,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[q,r,s],setOptions:function(a){var b=this,c=b.timeView,d=c.options;p.fn.setOptions.call(b,a),g(b.options),c.options=Q(d,b.options,{active:d.active,change:d.change,close:d.close,open:d.open}),c.ul[0].innerHTML=""},dataBind:function(a){P(a)&&this.timeView.dataBind(a)},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._arrow.off(t),f=b.element.off(t),g=b._inputWrapper.off(t);d||c?(g.addClass(c?H:v).removeClass(c?v:H),f.attr(w,c).attr(x,d).attr(L,c).attr(M,d)):(g.addClass(v).removeClass(H).on(C,b._toggleHover),f.removeAttr(w).removeAttr(x).attr(L,!1).attr(M,!1).on("keydown"+t,R(b._keydown,b)).on("blur"+t,R(b._blur,b)).on("focus"+t,function(){b._inputWrapper.addClass(A)}),e.on(u,R(b._click,b)).on(D,h))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;p.fn.destroy.call(a),a.timeView.destroy(),a.element.off(t),a._arrow.off(t),a._inputWrapper.off(t),a._form&&a._form.off("reset",a._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(A)},_click:function(){var a=this,b=a.element;a.timeView.toggle(),m.touch||b[0]===k()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(s),b.element.trigger(s))},_icon:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(d)),c._arrow=b.attr({role:"button","aria-controls":c.timeView._timeViewID})},_keydown:function(a){var b=this,c=a.keyCode,d=b.timeView,e=b.element.val();d.popup.visible()||a.altKey?d.move(a):c===j.ENTER&&e!==b._oldText&&b._change(e)},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d.timeView._parse(c),c&&(c=new S(+c),e[a]=c,d.timeView.options[a]=c,d.timeView.bind()),void 0)},_toggleHover:function(b){a(b.currentTarget).toggleClass(B,"mouseenter"===b.type)},_update:function(a){var b=this,c=b.options,d=b.timeView,e=d._parse(a);return f(e,c.min,c.max)||(e=null),b._value=e,b.element.val(e?i.toString(e,c.format,c.culture):a),d.value(e),e},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-timepicker"),b[0]||(b=d.wrap(z).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(z).parent()),b[0].style.cssText=d[0].style.cssText,c.wrapper=b.addClass("k-widget k-timepicker k-header").addClass(d[0].className),d.css({width:"100%",height:d[0].style.height}),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))}});o.plugin(V)}(window.kendo.jQuery),function(a,b){function c(a){a.preventDefault()}function d(b){var c,d=e.getCulture(b.culture).calendars.standard.patterns;b.format=i(b.format||d.g),b.timeFormat=c=i(b.timeFormat||d.t),e.DateView.normalize(b),-1===a.inArray(c,b.parseFormats)&&b.parseFormats.splice(1,0,c)}var e=window.kendo,f=e.TimeView,g=e.parseDate,h=e._activeElement,i=e._extractFormat,j=e.calendar,k=j.isInRange,l=j.restrictValue,m=j.isEqualDatePart,n=f.getMilliseconds,o=e.ui,p=o.Widget,q="open",r="close",s="change",t=".kendoDateTimePicker",u="click"+t,v="disabled",w="readonly",x="k-state-default",y="k-state-focused",z="k-state-hover",A="k-state-disabled",B="mouseenter"+t+" mouseleave"+t,C="mousedown"+t,D="month",E="<span/>",F="aria-activedescendant",G="aria-expanded",H="aria-hidden",I="aria-owns",J="aria-disabled",K="aria-readonly",L=Date,M=new L(1900,0,1),N=new L(2099,11,31),O={view:"date"},P={view:"time"},Q=a.extend,R=p.extend({init:function(a,b){var c,f=this;p.fn.init.call(f,a,b),a=f.element,b=f.options,d(b),f._wrapper(),f._views(),f._icons(),f._reset(),f._template(),a[0].type="text",a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1}),f._midnight=0===n(b.min)+n(b.max),c=a.is("[disabled]"),c?f.enable(!1):f.readonly(a.is("[readonly]")),f.value(b.value||a.val()),e.notify(f)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new L(M),max:new L(N),interval:30,height:200,footer:"",start:D,depth:D,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:[q,r,s],setOptions:function(a){var b=this,c=b.dateView.options,e=b.timeView.options;p.fn.setOptions.call(b,a),d(b.options),a=b.options,Q(c,a,{change:c.change,close:c.close,open:c.open}),Q(e,a,{format:a.timeFormat,active:e.active,change:e.change,close:e.close,open:e.open}),b.timeView.ul[0].innerHTML=""},_editable:function(b){var d=this,f=d.element.off(t),g=d._dateIcon.off(t),i=d._timeIcon.off(t),j=d._inputWrapper.off(t),k=b.readonly,l=b.disable;k||l?(j.addClass(l?A:x).removeClass(l?x:A),f.attr(v,l).attr(w,k).attr(J,l).attr(K,k)):(j.addClass(x).removeClass(A).on(B,d._toggleHover),f.removeAttr(v).removeAttr(w).attr(J,!1).attr(K,!1).on("keydown"+t,a.proxy(d._keydown,d)).on("focus"+t,function(){d._inputWrapper.addClass(y)}).on("blur"+t,function(){d._inputWrapper.removeClass(y),f.val()!==d._oldText&&d._change(f.val()),d.close("date"),d.close("time")}),g.on(C,c).on(u,function(){d.toggle("date"),e.support.touch||f[0]===h()||f.focus()}),i.on(C,c).on(u,function(){d.toggle("time"),e.support.touch||f[0]===h()||f.focus()}))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;p.fn.destroy.call(a),a.dateView.destroy(),a.timeView.destroy(),a.element.off(t),a._dateIcon.off(t),a._timeIcon.off(t),a._inputWrapper.off(t),a._form&&a._form.off("reset",a._resetHandler)},close:function(a){"time"!==a&&(a="date"),this[a+"View"].close()},open:function(a){"time"!==a&&(a="date"),this[a+"View"].open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},toggle:function(a){var b="timeView";"time"!==a?a="date":b="dateView",this[a+"View"].toggle(),this[b].close()},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),c._oldText=c.element.val(),void 0)},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(s),b.element.trigger(s))},_option:function(a,c){var d=this,e=d.options,f=d.timeView,h=f.options,i=d._value||d._old;if(c===b)return e[a];if(c=g(c,e.parseFormats,e.culture)){if(e[a]=new L(+c),d.dateView[a](c),d._midnight=0===n(e.min)+n(e.max),i&&m(c,i)){if(d._midnight&&"max"==a)return h[a]=N,f.dataBind([N]),void 0;h[a]=c}else h.max=N,h.min=M;f.bind()}},_toggleHover:function(b){a(b.currentTarget).toggleClass(z,"mouseenter"===b.type)},_update:function(b){var c,d,f,h,i,j=this,n=j.options,o=n.min,p=n.max,q=n.dates,r=j.timeView,s=g(b,n.parseFormats,n.culture);return+s===+j._value?(i=e.toString(s,n.format,n.culture),i!==b&&j.element.val(null===s?b:i),s):(null!==s&&m(s,o)?s=l(s,o,p):k(s,o,p)||(s=null),j._value=s,r.value(s),j.dateView.value(s),s&&(f=j._old,d=r.options,q[0]&&(q=a.grep(q,function(a){return m(s,a)}),q[0]&&(r.dataBind(q),h=!0)),h||(m(s,o)&&(d.min=o,d.max=N,c=!0),m(s,p)&&(j._midnight?(r.dataBind([N]),h=!0):(d.max=p,c||(d.min=M),c=!0))),!h&&(!f&&c||f&&!m(f,s))&&(c||(d.max=N,d.min=M),r.bind())),j.element.val(s?e.toString(s,n.format,n.culture):b),j._updateARIA(s),s)},_keydown:function(a){var b=this,c=b.dateView,d=b.timeView,f=b.element.val(),g=c.popup.visible();a.altKey&&a.keyCode===e.keys.DOWN?b.toggle(g?"time":"date"):g?(c.move(a),b._updateARIA(c._current)):d.popup.visible()?d.move(a):a.keyCode===e.keys.ENTER&&f!==b._oldText&&b._change(f)},_views:function(){var a,b,c,d,h,i=this,j=i.element,l=i.options,m=j.attr("id");i.dateView=a=new e.DateView(Q({},l,{id:m,anchor:i.wrapper,change:function(){var b,c=a.calendar.value(),d=+c,e=+l.min,f=+l.max;(d===e||d===f)&&(b=new L(+i._value),b.setFullYear(c.getFullYear()),b.setMonth(c.getMonth()),b.setDate(c.getDate()),k(b,e,f)&&(c=b)),i._change(c),i.close("date")},close:function(a){i.trigger(r,O)?a.preventDefault():(j.attr(G,!1),c.attr(H,!0),b.popup.visible()||j.removeAttr(I))},open:function(b){i.trigger(q,O)?b.preventDefault():(i.element.val()!==i._oldText&&(h=g(j.val(),l.parseFormats,l.culture),h?(i.dateView._current=h,i.dateView.calendar._focus(h)):i.dateView.value(h)),c.attr(H,!1),j.attr(G,!0).attr(I,a._dateViewID))}})),c=a.div,i.timeView=b=new f({id:m,value:l.value,anchor:i.wrapper,animation:l.animation,format:l.timeFormat,culture:l.culture,height:l.height,interval:l.interval,min:new L(M),max:new L(N),parseFormats:l.parseFormats,change:function(c,d){c=b._parse(c),c<l.min?(c=new L(+l.min),b.options.min=c):c>l.max&&(c=new L(+l.max),b.options.max=c),d?(i._timeSelected=!0,i._change(c)):(j.val(e.toString(c,l.format,l.culture)),a.value(c),i._updateARIA(c))},close:function(b){i.trigger(r,P)?b.preventDefault():(d.attr(H,!0),j.attr(G,!1),a.popup.visible()||j.removeAttr(I))},open:function(a){b._adjustListWidth(),i.trigger(q,P)?a.preventDefault():(d.attr(H,!1),j.attr(G,!0).attr(I,b._timeViewID))},active:function(a){j.removeAttr(F),a&&j.attr(F,b._optionID)}}),d=b.ul},_icons:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(d)),b=b.children(),c._dateIcon=b.eq(0).attr({role:"button","aria-controls":c.dateView._dateViewID}),c._timeIcon=b.eq(1).attr({role:"button","aria-controls":c.timeView._timeViewID})},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-datetimepicker"),b[0]||(b=d.wrap(E).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(E).parent()),b[0].style.cssText=d[0].style.cssText,d.css({width:"100%",height:d[0].style.height}),c.wrapper=b.addClass("k-widget k-datetimepicker k-header").addClass(d[0].className),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=e.template(this.options.ARIATemplate)},_updateARIA:function(a){this.element.attr("aria-label",this._ariaTemplate({current:a}))}});o.plugin(R)}(window.kendo.jQuery),function(a,b){function c(a){return function(b){var c=b.children(".k-animation-container");return c.length||(c=b),c.children(a)}}function d(a){return m.template(a,{useWithBlock:!1})}function e(a){return a.children("div").find(".k-checkbox:first :checkbox")}function f(a){return function(b,c){c=c.closest(P);var d,e=c.parent();return e.parent().is("li")&&(d=e.parent()),this._dataSourceMove(b,e,d,function(b,d){return this._insert(b.data(),d,c.index()+a)})}}function g(b){var c,d,e=b.children("div"),f=b.children("ul"),g=e.children(".k-icon"),h=b.children(":checkbox"),i=e.children(".k-in");if(!b.hasClass("k-treeview")&&(e.length||(e=a("<div />").prependTo(b)),!g.length&&f.length?g=a("<span class='k-icon' />").prependTo(e):f.length&&f.children().length||(g.remove(),f.remove()),h.length&&a("<span class='k-checkbox' />").appendTo(e).append(h),!i.length))for(i=a("<span class='k-in' />").appendTo(e)[0],c=e[0].nextSibling,i=e.find(".k-in")[0];c&&"ul"!=c.nodeName.toLowerCase();)d=c,c=c.nextSibling,3==d.nodeType&&(d.nodeValue=a.trim(d.nodeValue)),i.appendChild(d)}function h(a){var b=this;b.treeview=a,b.hovered=a.element,b._draggable=new n.Draggable(a.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(b){return a.templates.dragClue({item:a.dataItem(b),treeview:a.options})},cursorOffset:{left:10,top:m.support.touch||m.support.pointers?-40/m.support.zoomLevel():10},dragstart:u(b.dragstart,b),dragcancel:u(b.dragcancel,b),drag:u(b.drag,b),dragend:u(b.dragend,b)})}var i,j,k,l,m=window.kendo,n=m.ui,o=m.data,p=a.extend,q=m.template,r=a.isArray,s=n.Widget,t=o.HierarchicalDataSource,u=a.proxy,v=m.keys,w=".kendoTreeView",x="select",y="navigate",z="expand",A="change",B="error",C="checked",D="collapse",E="dragstart",F="drag",G="drop",H="dragend",I="dataBound",J="click",K="visibility",L="undefined",M="k-state-hover",N="k-treeview",O=":visible",P=".k-item",Q="string",R="aria-selected",S="aria-disabled",T={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},U=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&1===a.nodeType&&typeof a.nodeName===Q};j=c(".k-group"),k=c(".k-group,.k-content"),l=function(a){return a.children("div").children(".k-icon")},i=s.extend({init:function(a,b){var c,d=this,e=!1;r(b)&&(c=!0,b={dataSource:b}),b&&typeof b.loadOnDemand==L&&r(b.dataSource)&&(b.loadOnDemand=!1),s.prototype.init.call(d,a,b),a=d.element,b=d.options,e=a.is("ul")||a.hasClass(N),e&&(b.dataSource.list=a.is("ul")?a:a.children("ul")),d._animation(),d._accessors(),d._templates(),a.hasClass(N)?(d.wrapper=a,d.root=a.children("ul").eq(0)):(d._wrapper(),e&&(d.root=a,d._group(d.wrapper))),d._tabindex(),d.wrapper.filter("[role=tree]").length||d.wrapper.attr("role","tree"),d._dataSource(e),d._attachEvents(),b.dragAndDrop&&(d.dragging=new h(d)),e?d._attachUids():b.autoBind&&(d._progress(!0),d.dataSource.fetch()),b.checkboxes&&b.checkboxes.checkChildren&&d.updateIndeterminate(),d.element[0].id&&(d._ariaId=m.format("{0}_tv_active",d.element[0].id))},_attachEvents:function(){var b=this,c=".k-in:not(.k-state-selected,.k-state-disabled)",d="mouseenter";b.wrapper.on(d+w,".k-in.k-state-selected",function(a){a.preventDefault()}).on(d+w,c,function(){a(this).addClass(M)}).on("mouseleave"+w,c,function(){a(this).removeClass(M)}).on(J+w,c,u(b._click,b)).on("dblclick"+w,".k-in:not(.k-state-disabled)",u(b._toggleButtonClick,b)).on(J+w,".k-plus,.k-minus",u(b._toggleButtonClick,b)).on("keydown"+w,u(b._keydown,b)).on("focus"+w,u(b._focus,b)).on("blur"+w,u(b._blur,b)).on("mousedown"+w,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",u(b._mousedown,b)).on("change"+w,".k-checkbox :checkbox",u(b._checkboxChange,b)).on("click"+w,".k-checkbox :checkbox",u(b._checkboxClick,b)).on("click"+w,".k-request-retry",u(b._retryRequest,b)).on("click"+w,function(c){a(c.target).is(":focusable")||b.focus()})},_checkboxClick:function(b){var c=a(b.target);c.data("indeterminate")&&(c.data("indeterminate",!1).prop("indeterminate",!1).prop(C,!0),this._checkboxChange(b))},_attachUids:function(b,c){var d,e=this,f=m.attr("uid");b=b||e.root,c=c||e.dataSource,d=c.view(),b.children("li").each(function(b,c){c=a(c).attr(f,d[b].uid),c.attr("role","treeitem"),e._attachUids(c.children("ul"),d[b].children)})},_animation:function(){var a=this.options,b=a.animation;b===!1?b={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:b.collapse&&"effects"in b.collapse||(b.collapse=p({reverse:!0},b.expand)),p(b.collapse,{hide:!0}),a.animation=b},_templates:function(){var a=this,b=a.options,c=u(a._fieldAccessor,a);b.template&&typeof b.template==Q?b.template=q(b.template):b.template||(b.template=d("# var text = "+c("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #")),a._checkboxes(),a.templates={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),c},cssClass:function(a,b){var c="",d=b.index,e=a.length-1;return a.firstLevel&&0===d&&(c+="k-top "),c+=0===d&&d!=e?"k-top":d==e?"k-bot":"k-mid"},textClass:function(a){var b="k-in";return a.enabled===!1&&(b+=" k-state-disabled"),a.selected===!0&&(b+=" k-state-selected"),b},toggleButtonClass:function(a){var b="k-icon";return b+=a.expanded!==!0?" k-plus":" k-minus",a.enabled===!1&&(b+="-disabled"),b},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(a){var b="k-group";return a.firstLevel&&(b+=" k-treeview-lines"),b},dragClue:d("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:d("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) # role='group'>#= data.renderItems(data) #</ul>"),itemContent:d("# var imageUrl = "+c("imageUrl")+"(data.item); #"+"# var spriteCssClass = "+c("spriteCssClass")+"(data.item); #"+"# if (imageUrl) { #"+"<img class='k-image' alt='' src='#= imageUrl #'>"+"# } #"+"# if (spriteCssClass) { #"+"<span class='k-sprite #= spriteCssClass #' />"+"# } #"+"#= data.treeview.template(data) #"),itemElement:d("# var item = data.item, r = data.r; ## var url = "+c("url")+"(item); #"+"<div class='#= r.cssClass(data.group, item) #'>"+"# if (item.hasChildren) { #"+"<span class='#= r.toggleButtonClass(item) #' role='presentation' />"+"# } #"+"# if (data.treeview.checkboxes) { #"+"<span class='k-checkbox' role='presentation'>"+"#= data.treeview.checkboxes.template(data) #"+"</span>"+"# } #"+"# var tag = url ? 'a' : 'span'; #"+"# var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #"+"<#=tag#  class='#= r.textClass(item) #'#= textAttr #>"+"#= r.itemContent(data) #"+"</#=tag#>"+"</div>"),item:d("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+m.attr("uid")+"='#= item.uid #'"+"#=item.selected ? \"aria-selected='true'\" : ''#"+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+">"+"#= r.itemElement(data) #"+"</li>"),loading:d("<div class='k-icon k-loading' /> Loading..."),retry:d("Request failed. <button class='k-button k-request-retry'>Retry</button>")}},items:function(){return this.element.find(".k-item")},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.dataSource.fetch()},_dataSource:function(a){function b(a){for(var c=0;c<a.length;c++)a[c]._initChildren(),a[c].children.fetch(),b(a[c].children.view())}var c=this,d=c.options,e=d.dataSource;e=r(e)?{data:e}:e,c.dataSource&&(c.dataSource.unbind(A,u(c.refresh,c)),c.dataSource.unbind(B,u(c._error,c))),e.fields||(e.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),c.dataSource=e=t.create(e),a&&(e.fetch(),b(e.view())),e.bind(A,u(c.refresh,c)),e.bind(B,u(c._error,c))},events:[E,F,G,H,I,z,D,x,A,y],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:!1,checkboxes:!1,autoBind:!0,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var a,b,c,d=this,e=d.options,f=d.element;for(a in T)b=e[T[a]],c=f.attr(m.attr(a+"-field")),!b&&c&&(b=c),b||(b=a),r(b)||(b=[b]),e[T[a]]=b},_fieldAccessor:function(b){var c=this.options[T[b]],d=c.length,e="(function(item) {";return 0===d?e+="return item['"+b+"'];":(e+="var levels = ["+a.map(c,function(a){return"function(d){ return "+m.expr(a)+"}"}).join(",")+"];",e+="return levels[Math.min(item.level(), "+d+"-1)](item)"),e+="})"},setOptions:function(a){var b=this;"dragAndDrop"in a&&a.dragAndDrop&&!b.options.dragAndDrop&&(b.dragging=new h(b)),s.fn.setOptions.call(b,a),b._animation(),b._templates()},_trigger:function(a,b){return this.trigger(a,{node:b.closest(P)[0]})},_setChecked:function(b,c){if(b&&a.isFunction(b.view))for(var d=0,e=b.view();d<e.length;d++)e[d][C]=c,e[d].children&&this._setChecked(e[d].children,c)},_setIndeterminate:function(a){var b,c,d,f=j(a),g=!0;if(f.length&&(b=e(f.children()),c=b.length)){if(c>1){for(d=1;c>d;d++)if(b[d].checked!=b[d-1].checked||b[d].indeterminate||b[d-1].indeterminate){g=!1;break}}else g=!b[0].indeterminate;e(a).data("indeterminate",!g).prop("indeterminate",!g).prop(C,g&&b[0].checked)}},updateIndeterminate:function(a){a=a||this.wrapper;var b,c=j(a).children();if(c.length){for(b=0;b<c.length;b++)this.updateIndeterminate(c.eq(b));this._setIndeterminate(a)}},_bubbleIndeterminate:function(a){var b,c=this.parent(a);c.length&&(this._setIndeterminate(c),b=c.children("div").find(".k-checkbox :checkbox"),b.prop("indeterminate")===!1?this.dataItem(c).set(C,b.prop(C)):this.dataItem(c).checked=!1,this._bubbleIndeterminate(c))},_checkboxChange:function(b){var c=a(b.target),d=c.prop(C),e=c.closest(P),f=this;f.dataItem(e).set(C,d)},_toggleButtonClick:function(b){this.toggle(a(b.target).closest(P))},_mousedown:function(b){var c=a(b.currentTarget).closest(P);this._clickTarget=c,this.current(c)},_focusable:function(a){return a&&a.length&&a.is(":visible")&&!a.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var b=this.select(),c=this._clickTarget;m.support.touch||(c&&c.length&&(b=c),this._focusable(b)||(b=this.current()),this._focusable(b)||(b=this._nextVisible(a())),this.current(b))},focus:function(){var a,b=this.wrapper,c=b[0],d=[],e=[],f=document.documentElement;do c=c.parentNode,c.scrollHeight>c.clientHeight&&(d.push(c),e.push(c.scrollTop));while(c!=f);for(b.focus(),a=0;a<d.length;a++)d[a].scrollTop=e[a]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(a){return!a.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(b){var c,d,e=/\bk-treeview\b/,f=/\bk-item\b/;typeof b==Q&&(b=this.element.find(b)),U(b)||(b=b[0]),d=f.test(b.className);do b=b.parentNode,f.test(b.className)&&(d?c=b:d=!0);while(!e.test(b.className)&&!c);return a(c)},_nextVisible:function(a){function b(a){for(;a.length&&!a.next().length;)a=d.parent(a);return a.next().length?a.next():a}var c,d=this,e=d._expanded(a);return a.length&&a.is(":visible")?e?(c=j(a).children().first(),c.length||(c=b(a))):c=b(a):c=d.root.children().eq(0),d._enabled(c)||(c=d._nextVisible(c)),c},_previousVisible:function(a){var b,c,d=this;if(!a.length||a.prev().length)for(c=a.length?a.prev():d.root.children().last();d._expanded(c)&&(b=j(c).children().last(),b.length);)c=b;else c=d.parent(a)||a;return d._enabled(c)||(c=d._previousVisible(c)),c},_keydown:function(c){var d,e=this,f=c.keyCode,g=e.current(),h=e._expanded(g),i=g.find(".k-checkbox:first :checkbox"),j=m.support.isRtl(e.element);c.target==c.currentTarget&&(!j&&f==v.RIGHT||j&&f==v.LEFT?h?d=e._nextVisible(g):e.expand(g):!j&&f==v.LEFT||j&&f==v.RIGHT?h?e.collapse(g):(d=e.parent(g),e._enabled(d)||(d=b)):f==v.DOWN?d=e._nextVisible(g):f==v.UP?d=e._previousVisible(g):f==v.HOME?d=e._nextVisible(a()):f==v.END?d=e._previousVisible(a()):f==v.ENTER?g.find(".k-in:first").hasClass("k-state-selected")||e._trigger(x,g)||e.select(g):f==v.SPACEBAR&&i.length&&(i.prop(C,!i.prop(C)).data("indeterminate",!1).prop("indeterminate",!1),e._checkboxChange({target:i}),d=g),d&&(c.preventDefault(),g[0]!=d[0]&&(e._trigger(y,d),e.current(d))))},_click:function(b){var c,d=this,e=a(b.target),f=k(e.closest(P)),g=e.attr("href");c=g?"#"==g||g.indexOf("#"+this.element.id+"-")>=0:f.length&&!f.children().length,c&&b.preventDefault(),e.hasClass(".k-state-selected")||d._trigger(x,e)||d.select(e)},_wrapper:function(){var a,b,c=this,d=c.element,e="k-widget k-treeview";d.is("ul")?(a=d.wrap("<div />").parent(),b=d):(a=d,b=a.children("ul").eq(0)),c.wrapper=a.addClass(e),c.root=b},_group:function(a){var b=this,c=a.hasClass(N),d={firstLevel:c,expanded:c||b._expanded(a)},e=a.children("ul");e.addClass(b.templates.groupCssClass(d)).css("display",d.expanded?"":"none"),b._nodes(e,d)},_nodes:function(b,c){var d,e=this,f=b.children("li");c=p({length:f.length},c),f.each(function(b,f){f=a(f),d={index:b,expanded:e._expanded(f)},g(f),e._updateNodeClasses(f,c,d),e._group(f)})},_checkboxes:function(){var a,b=this.options,c=b.checkboxes;(c||b.checkboxTemplate)&&(b.checkboxTemplate?a=b.checkboxTemplate:(a="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",c.name&&(a+=" name='"+c.name+"'"),a+=" />"),c=p({template:a},b.checkboxes),typeof c.template==Q&&(c.template=q(c.template)),b.checkboxes=c)},_updateNodeClasses:function(a,b,c){var d=a.children("div"),e=a.children("ul"),f=this.templates;a.hasClass("k-treeview")||(c=c||{},c.expanded=typeof c.expanded!=L?c.expanded:this._expanded(a),c.index=typeof c.index!=L?c.index:a.index(),c.enabled=typeof c.enabled!=L?c.enabled:!d.children(".k-in").hasClass("k-state-disabled"),b=b||{},b.firstLevel=typeof b.firstLevel!=L?b.firstLevel:a.parent().parent().hasClass(N),b.length=typeof b.length!=L?b.length:a.parent().children().length,a.removeClass("k-first k-last").addClass(f.wrapperCssClass(b,c)),d.removeClass("k-top k-mid k-bot").addClass(f.cssClass(b,c)),d.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(f.textClass(c)),(e.length||"true"==a.attr("data-hasChildren"))&&(d.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(f.toggleButtonClass(c)),e.addClass("k-group")))},_processNodes:function(b,c){var d=this;d.element.find(b).each(function(b,e){c.call(d,b,a(e).closest(P))})},dataItem:function(b){var c=a(b).closest(P).attr(m.attr("uid")),d=this.dataSource;return d&&d.getByUid(c)},_insertNode:function(b,c,d,e,f){var h,i,k,l,m=this,n=j(d),o=n.children().length+1,p={firstLevel:d.hasClass(N),expanded:!f,length:o},q="",r=function(a,b){a.appendTo(b)};for(k=0;k<b.length;k++)l=b[k],l.index=c+k,q+=m._renderItem({group:p,item:l});if(i=a(q),i.length){for(n.length||(n=a(m._renderGroup({group:p})).appendTo(d)),e(i,n),d.hasClass("k-item")&&(g(d),m._updateNodeClasses(d)),m._updateNodeClasses(i.prev().first()),m._updateNodeClasses(i.next().last()),k=0;k<b.length;k++)l=b[k],l.hasChildren&&(h=l.children.data(),h.length&&m._insertNode(h,l.index,i.eq(k),r,!m._expanded(i.eq(k))));return i}},_updateNode:function(b,c){function d(){n=!0}function e(a,b){a.find(".k-checkbox :checkbox").prop(C,b).data("indeterminate",!1).prop("indeterminate",!1)
}var f,g,h,i,j,l=this,m={treeview:l.options,item:h},n=!1;if("selected"==b)h=c[0],g=l.findByUid(h.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",h[b]).end(),h[b]?(l.current(g),g.attr(R,!0)):g.attr(R,!1);else for(a.inArray(b,l.options.dataTextField)>=0?n=!0:(m.item=c[0],m.item.bind("get",d),l.templates.itemContent(m),m.item.unbind("set",d)),f=0;f<c.length;f++)m.item=h=c[f],"spriteCssClass"==b||"imageUrl"==b||n?l.findByUid(h.uid).find(">div>.k-in").html(l.templates.itemContent(m)):b==C?(g=l.findByUid(h.uid),i=h[b],e(g.children("div"),i),l.options.checkboxes.checkChildren&&(e(g.children(".k-group"),i),l._setChecked(h.children,i),l._bubbleIndeterminate(g))):"expanded"==b?l._toggle(l.findByUid(h.uid),h,h[b]):"enabled"==b&&(g=l.findByUid(h.uid),g.find(".k-checkbox :checkbox").prop("disabled",!h[b]),j=!k(g).is(O),g.removeAttr(S),h[b]||(h.selected&&h.set("selected",!1),h.expanded&&h.set("expanded",!1),j=!0,g.removeAttr(R).attr(S,!0)),l._updateNodeClasses(g,{},{enabled:h[b],expanded:!j}))},refresh:function(a){function c(a,b){var c=j(b),d=c.children(),f=!e._expanded(b);typeof l==L&&(l=d.length),e._insertNode(a,l,b,function(a,b){l==d.length?a.appendTo(b):a.insertBefore(d.eq(l))},f),e._expanded(b)&&(e._updateNodeClasses(b),j(b).css("display","block"))}var d,e=this,f=e.wrapper,h=a.node,i=a.action,k=a.items,l=a.index,m=e.options,n=m.loadOnDemand,o=m.checkboxes&&m.checkboxes.checkChildren;if(a.field)return e._updateNode(a.field,k);if(h&&(f=e.findByUid(h.uid),e._progress(f,!1)),o&&"remove"!=i&&h&&h.checked)for(d=0;d<k.length;d++)k[d].checked=!0;for("add"==i?c(k,f):"remove"==i?e._remove(e.findByUid(k[0].uid),!1):h?(j(f).empty(),k.length?c(k,f):g(f)):e.root=e.wrapper.html(e._renderGroup({items:k,group:{firstLevel:!0,expanded:!0}})).children("ul"),d=0;d<k.length;d++)(!n||k[d].expanded)&&k[d].load();e.trigger(I,{node:h?f:b})},_error:function(a){var b=this,c=a.node&&b.findByUid(a.node.uid);c?(this._progress(c,!1),this._expanded(c,!1),l(c).addClass("k-i-refresh"),a.node.loaded(!1)):(this._progress(!1),this.element.html(this.templates.retry))},_retryRequest:function(a){a.preventDefault(),this.dataSource.fetch()},expand:function(a){this._processNodes(a,function(a,b){this.toggle(b,!0)})},collapse:function(a){this._processNodes(a,function(a,b){this.toggle(b,!1)})},enable:function(a,b){b=2==arguments.length?!!b:!0,this._processNodes(a,function(a,c){this.dataItem(c).set("enabled",b)})},current:function(b){var c=this,d=c._current,e=c.element,f=c._ariaId;return arguments.length>0&&b&&b.length?(d&&(d[0].id===f&&d.removeAttr("id"),d.find(".k-in:first").removeClass("k-state-focused")),d=c._current=a(b,e).closest(P),d.find(".k-in:first").addClass("k-state-focused"),f=d[0].id||f,f&&(c.wrapper.removeAttr("aria-activedescendant"),d.attr("id",f),c.wrapper.attr("aria-activedescendant",f)),void 0):(d||(d=c._nextVisible(a())),d)},select:function(b){var c=this,d=c.element;return arguments.length?(b=a(b,d).closest(P),d.find(".k-state-selected").each(function(){var a=c.dataItem(this);a.set("selected",!1),delete a.selected}),b.length&&c.dataItem(b).set("selected",!0),c.trigger(A),void 0):d.find(".k-state-selected").closest(P)},_toggle:function(a,b,c){var d,e=this,f=e.options,g=k(a),h=c?"expand":"collapse",i=f.animation[h];if(!g.data("animating")&&!e._trigger(h,a))if(e._expanded(a,c),d=b&&b.loaded(),d&&g.children().length>0){if(e._updateNodeClasses(a,{},{expanded:c}),g.css("display")==(c?"block":"none"))return;c||g.css("height",g.height()).css("height"),g.kendoStop(!0,!0).kendoAnimate(p({reset:!0},i,{complete:function(){c&&g.css("height","")}}))}else c&&(f.loadOnDemand&&e._progress(a,!0),g.remove(),b.load())},toggle:function(b,c){b=a(b),l(b).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(c=!this._expanded(b)),this._expanded(b,c))},destroy:function(){var a=this;s.fn.destroy.call(a),a.element.off(w),a.dragging&&a.dragging.destroy(),m.destroy(a.element)},_expanded:function(a,b){var c=m.attr("expanded"),d=this.dataItem(a);return 1==arguments.length?"true"===a.attr(c)||d&&d.expanded:(k(a).data("animating")||(d&&(d.set("expanded",b),b=d.expanded),b?(a.attr(c,"true"),a.attr("aria-expanded","true")):(a.removeAttr(c),a.attr("aria-expanded","false"))),void 0)},_progress:function(a,b){var c=this.element;1==arguments.length?(b=a,b?c.html(this.templates.loading):c.empty()):l(a).toggleClass("k-loading",b).removeClass("k-i-refresh")},text:function(a,b){var c=this.dataItem(a),d=this.options[T.text],e=c.level(),f=d.length,g=d[Math.min(e,f-1)];return b?(c.set(g,b),void 0):c[g]},_objectOrSelf:function(b){return a(b).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(a,b,c,d){var e,f=this._objectOrSelf(c||b),g=f.dataSource;return c&&c[0]!=f.element[0]&&(e=f.dataItem(c),e.loaded()||(f._progress(c,!0),e.load()),c!=this.root&&(g=e.children,g&&g instanceof t||(e._initChildren(),e.loaded(!0),g=e.children))),a=this._toObservableData(a),d.call(this,g,a)},_toObservableData:function(b){var c,d,e=b;return(b instanceof window.jQuery||U(b))&&(c=this._objectOrSelf(b).dataSource,d=a(b).attr(m.attr("uid")),e=c.getByUid(d),e&&(e=c.remove(e))),e},_insert:function(a,b,c){b instanceof m.data.ObservableArray?b=b.toJSON():r(b)||(b=[b]);var d=a.parent();return d&&(d.hasChildren=!0,d._initChildren()),a.splice.apply(a,[c,0].concat(b)),this.findByUid(a[c].uid)},insertAfter:f(1),insertBefore:f(0),append:function(a,b){var c=this,d=c.root;return b&&(d=j(b)),c._dataSourceMove(a,d,b,function(a,d){function e(){b&&c._expanded(b,!0);var e=a.data(),f=Math.max(e.length,0);return c._insert(e,d,f)}return a.data()?e():(a.one(A,e),null)})},_remove:function(b,c){var d,e,f,h=this;return b=a(b,h.element),d=b.parent().parent(),e=b.prev(),f=b.next(),b[c?"detach":"remove"](),d.hasClass("k-item")&&(g(d),h._updateNodeClasses(d)),h._updateNodeClasses(e),h._updateNodeClasses(f),b},remove:function(a){var b=this.dataItem(a);b&&this.dataSource.remove(b)},detach:function(a){return this._remove(a,!0)},findByText:function(b){return a(this.element).find(".k-in").filter(function(c,d){return a(d).text()==b}).closest(P)},findByUid:function(a){return this.element.find(".k-item["+m.attr("uid")+"="+a+"]")},_renderItem:function(a){return a.group||(a.group={}),a.treeview=this.options,a.r=this.templates,this.templates.item(a)},_renderGroup:function(a){var b=this;return a.renderItems=function(a){var c="",d=0,e=a.items,f=e?e.length:0,g=a.group;for(g.length=f;f>d;d++)a.group=g,a.item=e[d],a.item.index=d,c+=b._renderItem(a);return c},a.r=b.templates,b.templates.group(a)}}),h.prototype={_removeTouchHover:function(){var a=this;m.support.touch&&a.hovered&&(a.hovered.find("."+M).removeClass(M),a.hovered=!1)},_hintStatus:function(b){var c=this._draggable.hint.find(".k-drag-status")[0];return b?(c.className="k-icon k-drag-status "+b,void 0):a.trim(c.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(b){var c=this,d=c.treeview,e=c.sourceNode=b.currentTarget.closest(P);d.trigger(E,{sourceNode:e[0]})&&b.preventDefault(),c.dropHint=a("<div class='k-drop-hint' />").css(K,"hidden").appendTo(d.element)},drag:function(b){var c,d,e,f,g,h,i,j,k,l,n=this,o=n.treeview,p=n.sourceNode,q=n.dropTarget=a(m.eventTarget(b)),r=q.closest(".k-treeview");r.length?a.contains(p[0],q[0])?c="k-denied":(c="k-insert-middle",d=q.closest(".k-top,.k-mid,.k-bot"),d.length?(f=d.outerHeight(),g=m.getOffset(d).top,h=q.closest(".k-in"),i=f/(h.length>0?4:2),j=b.y.location<g+i,k=g+f-i<b.y.location,n._removeTouchHover(),l=h.length&&!j&&!k,n.hovered=l?r:!1,n.dropHint.css(K,l?"hidden":"visible"),h.toggleClass(M,l),l?c="k-add":(e=d.position(),e.top+=j?0:f,n.dropHint.css(e)[j?"prependTo":"appendTo"](q.closest(P).children("div:first")),j&&d.hasClass("k-top")&&(c="k-insert-top"),k&&d.hasClass("k-bot")&&(c="k-insert-bottom"))):q[0]!=n.dropHint[0]&&(c=r[0]!=o.element[0]?"k-add":"k-denied")):(c="k-denied",n._removeTouchHover()),o.trigger(F,{sourceNode:p[0],dropTarget:q[0],pageY:b.y.location,pageX:b.x.location,statusClass:c.substring(2),setStatusClass:function(a){c=a}}),0!==c.indexOf("k-insert")&&n.dropHint.css(K,"hidden"),n._hintStatus(c)},dragcancel:function(){this.dropHint.remove()},dragend:function(){var a,b,c,d=this,e=d.treeview,f="over",g=d.sourceNode,h=d.dropHint,i=d.dropTarget;return"visible"==h.css(K)?(f=h.prevAll(".k-in").length>0?"after":"before",a=h.closest(P)):i&&(a=i.closest(P),a.length||(a=i.closest(".k-treeview"))),b="k-denied"!=d._hintStatus(),c=e.trigger(G,{sourceNode:g[0],destinationNode:a[0],valid:b,setValid:function(a){b=a},dropTarget:i[0],dropPosition:f}),h.remove(),d._removeTouchHover(),!b||c?(d._draggable.dropped=b,void 0):(d._draggable.dropped=!0,"over"==f?g=e.append(g,a):"before"==f?g=e.insertBefore(g,a):"after"==f&&(g=e.insertAfter(g,a)),e.trigger(H,{sourceNode:g&&g[0],destinationNode:a[0],dropPosition:f}),void 0)},destroy:function(){this._draggable.destroy()}},n.plugin(i)}(window.kendo.jQuery),function(a,b){function c(a,b,c){var d=c?" k-slider-horizontal":" k-slider-vertical",e=a.style?a.style:b.attr("style"),f=b.attr("class")?" "+b.attr("class"):"",g="";return"bottomRight"==a.tickPlacement?g=" k-slider-bottomright":"topLeft"==a.tickPlacement&&(g=" k-slider-topleft"),e=e?" style='"+e+"'":"","<div class='k-widget k-slider"+d+f+"'"+e+">"+"<div class='k-slider-wrap"+(a.showButtons?" k-slider-buttons":"")+g+"'></div></div>"}function d(a,b,c){var d="";return d="increase"==b?c?"k-i-arrow-e":"k-i-arrow-n":c?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+b+"'><span class='k-icon "+d+"' title='"+a[b+"ButtonTitle"]+"'>"+a[b+"ButtonTitle"]+"</span></a>"}function e(a,b){var c,d="<ul class='k-reset k-slider-items'>",e=u.floor(j(b/a.smallStep))+1;for(c=0;e>c;c++)d+="<li class='k-tick' role='presentation'>&nbsp;</li>";return d+="</ul>"}function f(a,b){var c=b.is("input")?1:2,d=2==c?a.leftDragHandleTitle:a.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+d+"' role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(c>1?a.selectionStart||a.min:a.value||a.min)+"'>Drag</a>"+(c>1?"<a href='#' class='k-draghandle' title='"+a.rightDragHandleTitle+"'role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(a.selectionEnd||a.max)+"'>Drag</a>":"")+"</div>"}function g(a){return function(b){return b+a}}function h(a){return function(){return a}}function i(a){return(a+"").replace(".",m.cultures.current.numberFormat["."])}function j(a){a=parseFloat(a,10);var b=u.pow(10,Q||0);return u.round(a*b)/b}function k(a,c){var d=r(a.getAttribute(c));return null===d&&(d=b),d}function l(a){return typeof a!==S}var m=window.kendo,n=m.ui.Widget,o=m.ui.Draggable,p=a.extend,q=m.format,r=m.parseFloat,s=a.proxy,t=a.isArray,u=Math,v=m.support,w=v.pointers,x="change",y="slide",z=".slider",A="touchstart"+z+" mousedown"+z,B=w?"MSPointerDown"+z:A,C="touchend"+z+" mouseup"+z,D=w?"MSPointerUp"+z:C,E="moveSelection",F="keydown"+z,G="click"+z,H="mouseover"+z,I="focus"+z,J="blur"+z,K=".k-draghandle",L=".k-slider-track",M=".k-tick",N="k-state-selected",O="k-state-default",P="k-state-disabled",Q=3,R="disabled",S="undefined",T="tabindex",U=m.getTouches,V=n.extend({init:function(a,b){var c=this;n.fn.init.call(c,a,b),b=c.options,c._distance=b.max-b.min,c._isHorizontal="horizontal"==b.orientation,c._isRtl=c._isHorizontal&&m.support.isRtl(a),c._position=c._isHorizontal?"left":"bottom",c._size=c._isHorizontal?"width":"height",c._outerSize=c._isHorizontal?"outerWidth":"outerHeight",b.tooltip.format=b.tooltip.enabled?b.tooltip.format||"{0}":"{0}",c._createHtml(),c.wrapper=c.element.closest(".k-slider"),c._trackDiv=c.wrapper.find(L),c._setTrackDivWidth(),c._maxSelection=c._trackDiv[c._size]();var d=c._maxSelection/((b.max-b.min)/b.smallStep),f=c._calculateItemsWidth(u.floor(c._distance/b.smallStep));"none"!=b.tickPlacement&&d>=2&&(c._trackDiv.before(e(b,c._distance)),c._setItemsWidth(f),c._setItemsTitle(),c._setItemsLargeTick()),c._calculateSteps(f),c._tabindex(c.wrapper.find(K)),c[b.enabled?"enable":"disable"]();var i=m.support.isRtl(c.wrapper)?-1:1;c._keyMap={37:g(-1*i*b.smallStep),40:g(-b.smallStep),39:g(1*i*b.smallStep),38:g(+b.smallStep),35:h(b.max),36:h(b.min),33:g(+b.largeStep),34:g(-b.largeStep)},m.notify(c)},events:[x,y],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var a=this,b=2*parseFloat(a._trackDiv.css(a._isRtl?"right":a._position),10);a._trackDiv[a._size](a.wrapper[a._size]()-2-b)},_setItemsWidth:function(b){var c,d=this,e=d.options,f=0,g=b.length-1,h=d.wrapper.find(M),i=0,j=2,k=h.length,l=0;for(c=0;k-2>c;c++)a(h[c+1])[d._size](b[c]);if(d._isHorizontal?(a(h[f]).addClass("k-first")[d._size](b[g-1]),a(h[g]).addClass("k-last")[d._size](b[g])):(a(h[g]).addClass("k-first")[d._size](b[g]),a(h[f]).addClass("k-last")[d._size](b[g-1])),0!==d._distance%e.smallStep&&!d._isHorizontal){for(c=0;c<b.length;c++)l+=b[c];i=d._maxSelection-l,i+=parseFloat(d._trackDiv.css(d._position),10)+j,d.wrapper.find(".k-slider-items").css("padding-top",i)}},_setItemsTitle:function(){for(var b=this,c=b.options,d=b.wrapper.find(M),e=c.min,f=d.length,g=b._isHorizontal&&!b._isRtl?0:f-1,h=b._isHorizontal&&!b._isRtl?f:-1,i=b._isHorizontal&&!b._isRtl?1:-1;0!==g-h;g+=i)a(d[g]).attr("title",q(c.tooltip.format,j(e))),e+=c.smallStep},_setItemsLargeTick:function(){var b,c=this,d=c.options,e=c.wrapper.find(M),f={},g=j(d.largeStep/d.smallStep);if(0===1e3*d.largeStep%(1e3*d.smallStep))if(c._isHorizontal&&!c._isRtl)for(b=0;b<e.length;b=j(b+g))f=a(e[b]),f.addClass("k-tick-large").html("<span class='k-label'>"+f.attr("title")+"</span>");else for(b=e.length-1;b>=0;b=j(b-g))f=a(e[b]),f.addClass("k-tick-large").html("<span class='k-label'>"+f.attr("title")+"</span>"),c._isRtl||0!==b&&b!==e.length-1&&f.css("line-height",f[c._size]()+"px")},_calculateItemsWidth:function(a){var b,c,d,e=this,f=e.options,g=parseFloat(e._trackDiv.css(e._size))+1,h=g/e._distance;for(e._distance/f.smallStep-u.floor(e._distance/f.smallStep)>0&&(g-=e._distance%f.smallStep*h),b=g/a,c=[],d=0;a-1>d;d++)c[d]=b;return c[a-1]=c[a]=b/2,e._roundWidths(c)},_roundWidths:function(a){var b,c=0,d=a.length;for(b=0;d>b;b++)c+=a[b]-u.floor(a[b]),a[b]=u.floor(a[b]);return c=u.round(c),this._addAdditionalSize(c,a)},_addAdditionalSize:function(a,b){if(0===a)return b;var c,d=parseFloat(b.length-1)/parseFloat(1==a?a:a-1);for(c=0;a>c;c++)b[parseInt(u.round(d*c),10)]+=1;return b},_calculateSteps:function(a){var b,c=this,d=c.options,e=d.min,f=0,g=u.ceil(c._distance/d.smallStep),h=1;if(g+=0===c._distance/d.smallStep%1?1:0,a.splice(0,0,2*a[g-2]),a.splice(g-1,1,2*a.pop()),c._pixelSteps=[f],c._values=[e],0!==g){for(;g>h;)f+=(a[h-1]+a[h])/2,c._pixelSteps[h]=f,c._values[h]=e+=d.smallStep,h++;b=0===c._distance%d.smallStep?g-1:g,c._pixelSteps[b]=c._maxSelection,c._values[b]=d.max,c._isRtl&&(c._pixelSteps.reverse(),c._values.reverse())}},_getValueFromPosition:function(a,b){var c,d=this,e=d.options,f=u.max(e.smallStep*(d._maxSelection/d._distance),0),g=0,h=f/2;if(d._isHorizontal?(g=a-b.startPoint,d._isRtl&&(g=d._maxSelection-g)):g=b.startPoint-a,d._maxSelection-(parseInt(d._maxSelection%f,10)-3)/2<g)return e.max;for(c=0;c<d._pixelSteps.length;c++)if(u.abs(d._pixelSteps[c]-g)-1<=h)return j(d._values[c])},_getFormattedValue:function(a,b){var c,d,e,f=this,g="",h=f.options.tooltip;return t(a)?(d=a[0],e=a[1]):b&&b.type&&(d=b.selectionStart,e=b.selectionEnd),b&&(c=b.tooltipTemplate),!c&&h.template&&(c=m.template(h.template)),t(a)||b&&b.type?c?g=c({selectionStart:d,selectionEnd:e}):(d=q(h.format,d),e=q(h.format,e),g=d+" - "+e):(b&&(b.val=a),g=c?c({value:a}):q(h.format,a)),g},_getDraggableArea:function(){var a=this,b=m.getOffset(a._trackDiv);return{startPoint:a._isHorizontal?b.left:b.top+a._maxSelection,endPoint:a._isHorizontal?b.left+a._maxSelection:b.top}},_createHtml:function(){var a=this,b=a.element,e=a.options,g=b.find("input");2==g.length?(g.eq(0).val(e.selectionStart),g.eq(1).val(e.selectionEnd)):b.val(e.value),b.wrap(c(e,b,a._isHorizontal)).hide(),e.showButtons&&b.before(d(e,"increase",a._isHorizontal)).before(d(e,"decrease",a._isHorizontal)),b.before(f(e,b))},_focus:function(b){var c=this,d=b.target,e=c.value(),f=c._drag;f||(d==c.wrapper.find(K).eq(0)[0]?(f=c._firstHandleDrag,c._activeHandle=0):(f=c._lastHandleDrag,c._activeHandle=1),e=e[c._activeHandle]),a(d).addClass(N),f&&(c._activeHandleDrag=f,f.selectionStart=c.options.selectionStart,f.selectionEnd=c.options.selectionEnd,f._updateTooltip(e))},_focusWithMouse:function(b){b=a(b);var c=this,d=b.is(K)?b.index():0;window.setTimeout(function(){c.wrapper.find(K)[2==d?1:0].focus()},1),c._setTooltipTimeout()},_blur:function(b){var c=this,d=c._activeHandleDrag;a(b.target).removeClass(N),d&&(d._removeTooltip(),delete c._activeHandleDrag,delete c._activeHandle)},_setTooltipTimeout:function(){var a=this;a._tooltipTimeout=window.setTimeout(function(){var b=a._drag||a._activeHandleDrag;b&&b._removeTooltip()},300)},_clearTooltipTimeout:function(){var a=this;window.clearTimeout(this._tooltipTimeout);var b=a._drag||a._activeHandleDrag;b&&b.tooltipDiv&&b.tooltipDiv.stop(!0,!1).css("opacity",1)}}),W=V.extend({init:function(c,d){var e,f=this;c.type="text",d=p({},{value:k(c,"value"),min:k(c,"min"),max:k(c,"max"),smallStep:k(c,"step")},d),c=a(c),d&&d.enabled===b&&(d.enabled=!c.is("[disabled]")),V.fn.init.call(f,c,d),d=f.options,l(d.value)&&null!==d.value||(d.value=d.min,c.val(d.min)),d.value=u.max(u.min(d.value,d.max),d.min),e=f.wrapper.find(K),new W.Selection(e,f,d),f._drag=new W.Drag(e,"",f,d)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(b){var c,d,e=this,f=e.options;if(e.disable(),b!==!1){if(e.wrapper.removeClass(P).addClass(O),e.wrapper.find("input").removeAttr(R),c=function(b){var c=U(b)[0];if(c){var d=e._isHorizontal?c.location.pageX:c.location.pageY,f=e._getDraggableArea(),g=a(b.target);if(g.hasClass("k-draghandle"))return g.addClass(N),void 0;e._update(e._getValueFromPosition(d,f)),e._focusWithMouse(b.target),e._drag.dragstart(b),b.preventDefault()}},e.wrapper.find(M+", "+L).on(B,c).end().on(B,function(){a(document.documentElement).one("selectstart",m.preventDefault)}).on(D,function(){e._drag._end()}),e.wrapper.find(K).attr(T,0).on(C,function(){e._setTooltipTimeout()}).on(G,function(a){e._focusWithMouse(a.target),a.preventDefault()}).on(I,s(e._focus,e)).on(J,s(e._blur,e)),d=s(function(a){var b=e._nextValueByIndex(e._valueIndex+1*a);e._setValueInRange(b),e._drag._updateTooltip(b)},e),f.showButtons){var g=s(function(a,b){this._clearTooltipTimeout(),(1===a.which||v.touch&&0===a.which)&&(d(b),this.timeout=setTimeout(s(function(){this.timer=setInterval(function(){d(b)},60)},this),200))},e);e.wrapper.find(".k-button").on(C,s(function(a){this._clearTimer(),e._focusWithMouse(a.target)},e)).on(H,function(b){a(b.currentTarget).addClass("k-state-hover")}).on("mouseout"+z,s(function(b){a(b.currentTarget).removeClass("k-state-hover"),this._clearTimer()},e)).eq(0).on(A,s(function(a){g(a,1)},e)).click(!1).end().eq(1).on(A,s(function(a){g(a,-1)},e)).click(m.preventDefault)}e.wrapper.find(K).off(F,!1).on(F,s(this._keydown,e)),f.enabled=!0}},disable:function(){var b=this;b.wrapper.removeClass(O).addClass(P),a(b.element).prop(R,R),b.wrapper.find(".k-button").off(A).on(A,m.preventDefault).off(C).on(C,m.preventDefault).off("mouseleave"+z).on("mouseleave"+z,m.preventDefault).off(H).on(H,m.preventDefault),b.wrapper.find(M+", "+L).off(B).off(D),b.wrapper.find(K).attr(T,-1).off(C).off(F).off(G).off(I).off(J),b.options.enabled=!1},_update:function(a){var b=this,c=b.value()!=a;b.value(a),c&&b.trigger(x,{value:b.options.value})},value:function(a){var b=this,c=b.options;return a=j(a),isNaN(a)?c.value:(a>=c.min&&a<=c.max&&c.value!=a&&(b.element.prop("value",i(a)),c.value=a,b._refreshAriaAttr(a),b._refresh()),void 0)},_refresh:function(){this.trigger(E,{value:this.options.value})},_refreshAriaAttr:function(a){var b,c=this,d=c._drag;b=d&&d._tooltipDiv?d._tooltipDiv.text():c._getFormattedValue(a,null),this.wrapper.find(K).attr("aria-valuenow",a).attr("aria-valuetext",b)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(a){var b=this;a.keyCode in b._keyMap&&(b._clearTooltipTimeout(),b._setValueInRange(b._keyMap[a.keyCode](b.options.value)),b._drag._updateTooltip(b.value()),a.preventDefault())},_setValueInRange:function(a){var b=this,c=b.options;return a=j(a),isNaN(a)?(b._update(c.min),void 0):(a=u.max(u.min(a,c.max),c.min),b._update(a),void 0)},_nextValueByIndex:function(a){var b=this._values.length;return this._isRtl&&(a=b-1-a),this._values[u.max(0,u.min(a,b-1))]},destroy:function(){var a=this;n.fn.destroy.call(a),a.wrapper.off(z).find(".k-button").off(z).end().find(K).off(z).end().find(M+", "+L).off(z).end(),a._drag.draggable.destroy()}});W.Selection=function(a,b,c){function d(d){var e=d-c.min,f=b._valueIndex=u.ceil(j(e/c.smallStep)),g=parseInt(b._pixelSteps[f],10),h=b._trackDiv.find(".k-slider-selection"),i=parseInt(a[b._outerSize]()/2,10),k=b._isRtl?2:0;h[b._size](b._isRtl?b._maxSelection-g:g),a.css(b._position,g-i-k)}d(c.value),b.bind([x,y,E],function(a){d(parseFloat(a.value,10))})},W.Drag=function(a,b,c,d){var e=this;e.owner=c,e.options=d,e.element=a,e.type=b,e.draggable=new o(a,{distance:0,dragstart:s(e._dragstart,e),drag:s(e.drag,e),dragend:s(e.dragend,e),dragcancel:s(e.dragcancel,e)}),a.click(!1)},W.Drag.prototype={dragstart:function(a){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this.draggable.userEvents._start(a)},_dragstart:function(b){var c=this,d=c.owner,e=c.options;return e.enabled?(this.owner._activeDragHandle=this,d.element.off(H),c.element.addClass(N),a(document.documentElement).css("cursor","pointer"),c.dragableArea=d._getDraggableArea(),c.step=u.max(e.smallStep*(d._maxSelection/d._distance),0),c.type?(c.selectionStart=e.selectionStart,c.selectionEnd=e.selectionEnd,d._setZIndex(c.type)):c.oldVal=c.val=e.value,c._removeTooltip(!0),c._createTooltip(),void 0):(b.preventDefault(),void 0)},_createTooltip:function(){var b,c,d=this,e=d.owner,f=d.options.tooltip,g="",h=a(window);f.enabled&&(f.template&&(b=d.tooltipTemplate=m.template(f.template)),a(".k-slider-tooltip").remove(),d.tooltipDiv=a("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),g=e._getFormattedValue(d.val||e.value(),d),d.type||(c="k-callout-"+(e._isHorizontal?"s":"e"),d.tooltipInnerDiv="<div class='k-callout "+c+"'><!-- --></div>",g+=d.tooltipInnerDiv),d.tooltipDiv.html(g),d._scrollOffset={top:h.scrollTop(),left:h.scrollLeft()},d.moveTooltip())},drag:function(a){var b,c=this,d=c.owner,e=a.x.location,f=a.y.location,g=c.dragableArea.startPoint,h=c.dragableArea.endPoint;a.preventDefault(),c.val=d._isHorizontal?d._isRtl?c.constrainValue(e,g,h,h>e):c.constrainValue(e,g,h,e>=h):c.constrainValue(f,h,g,h>=f),c.oldVal!=c.val&&(c.oldVal=c.val,c.type?("firstHandle"==c.type?c.selectionStart=c.val<c.selectionEnd?c.val:c.selectionEnd=c.val:c.val>c.selectionStart?c.selectionEnd=c.val:c.selectionStart=c.selectionEnd=c.val,b={values:[c.selectionStart,c.selectionEnd],value:[c.selectionStart,c.selectionEnd]}):b={value:c.val},d.trigger(y,b)),c._updateTooltip(c.val)},_updateTooltip:function(a){var b=this,c=b.options,d=c.tooltip,e="";d.enabled&&(b.tooltipDiv||b._createTooltip(),e=b.owner._getFormattedValue(j(a),b),b.type||(e+=b.tooltipInnerDiv),b.tooltipDiv.html(e),b.moveTooltip())},dragcancel:function(){return this.owner._refresh(),a(document.documentElement).css("cursor",""),this._end()},dragend:function(){var b=this,c=b.owner;return a(document.documentElement).css("cursor",""),b.type?c._update(b.selectionStart,b.selectionEnd):c._update(b.val),b._end()},_end:function(){var a=this,b=a.owner;return b._focusWithMouse(a.element),b.element.on(H),!1},_removeTooltip:function(b){var c=this,d=c.owner;c.tooltipDiv&&d.options.tooltip.enabled&&d.options.enabled&&(b?(c.tooltipDiv.remove(),c.tooltipDiv=null):c.tooltipDiv.fadeOut("slow",function(){a(this).remove(),c.tooltipDiv=null}))},moveTooltip:function(){var b,c,d,e,f=this,g=f.owner,h=0,i=0,j=f.element,k=m.getOffset(j),l=8,n=a(window),o=f.tooltipDiv.find(".k-callout"),p=f.tooltipDiv.outerWidth(),q=f.tooltipDiv.outerHeight();f.type?(b=g.wrapper.find(K),k=m.getOffset(b.eq(0)),c=m.getOffset(b.eq(1)),g._isHorizontal?(h=c.top,i=k.left+(c.left-k.left)/2):(h=k.top+(c.top-k.top)/2,i=c.left),e=b.eq(0).outerWidth()+2*l):(h=k.top,i=k.left,e=j.outerWidth()+2*l),g._isHorizontal?(i-=parseInt((p-j[g._outerSize]())/2,10),h-=q+o.height()+l):(h-=parseInt((q-j[g._outerSize]())/2,10),i-=p+o.width()+l),g._isHorizontal?(d=f._flip(h,q,e,n.outerHeight()+f._scrollOffset.top),h+=d,i+=f._fit(i,p,n.outerWidth()+f._scrollOffset.left)):(d=f._flip(i,p,e,n.outerWidth()+f._scrollOffset.left),h+=f._fit(h,q,n.outerHeight()+f._scrollOffset.top),i+=d),d>0&&o&&(o.removeClass(),o.addClass("k-callout k-callout-"+(g._isHorizontal?"n":"w"))),f.tooltipDiv.css({top:h,left:i})},_fit:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),0>a&&(d=-a),d},_flip:function(a,b,c,d){var e=0;return a+b>d&&(e+=-(c+b)),0>a+e&&(e+=c+b),e},constrainValue:function(a,b,c,d){var e=this,f=0;return f=a>b&&c>a?e.owner._getValueFromPosition(a,e.dragableArea):d?e.options.max:e.options.min}},m.ui.plugin(W);var X=V.extend({init:function(c,d){var e=this,f=a(c).find("input"),g=f.eq(0)[0],h=f.eq(1)[0];g.type="text",h.type="text",d=p({},{selectionStart:k(g,"value"),min:k(g,"min"),max:k(g,"max"),smallStep:k(g,"step")},{selectionEnd:k(h,"value"),min:k(h,"min"),max:k(h,"max"),smallStep:k(h,"step")},d),d&&d.enabled===b&&(d.enabled=!f.is("[disabled]")),V.fn.init.call(e,c,d),d=e.options,l(d.selectionStart)&&null!==d.selectionStart||(d.selectionStart=d.min,f.eq(0).val(d.min)),l(d.selectionEnd)&&null!==d.selectionEnd||(d.selectionEnd=d.max,f.eq(1).val(d.max));var i=e.wrapper.find(K);new X.Selection(i,e,d),e._firstHandleDrag=new W.Drag(i.eq(0),"firstHandle",e,d),e._lastHandleDrag=new W.Drag(i.eq(1),"lastHandle",e,d)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(b){var c,d=this,e=d.options;d.disable(),b!==!1&&(d.wrapper.removeClass(P).addClass(O),d.wrapper.find("input").removeAttr(R),c=function(b){var c=U(b)[0];if(c){var f,g,h,i=d._isHorizontal?c.location.pageX:c.location.pageY,j=d._getDraggableArea(),k=d._getValueFromPosition(i,j),l=a(b.target);if(l.hasClass("k-draghandle"))return l.addClass(N),void 0;k<e.selectionStart?(f=k,g=e.selectionEnd,h=d._firstHandleDrag):k>d.selectionEnd?(f=e.selectionStart,g=k,h=d._lastHandleDrag):k-e.selectionStart<=e.selectionEnd-k?(f=k,g=e.selectionEnd,h=d._firstHandleDrag):(f=e.selectionStart,g=k,h=d._lastHandleDrag),h.dragstart(b),d._setValueInRange(f,g),d._focusWithMouse(h.element)}},d.wrapper.find(M+", "+L).on(B,c).end().on(B,function(){a(document.documentElement).one("selectstart",m.preventDefault)}).on(D,function(){d._activeDragHandle._end()}),d.wrapper.find(K).attr(T,0).on(C,function(){d._setTooltipTimeout()}).on(G,function(a){d._focusWithMouse(a.target),a.preventDefault()}).on(I,s(d._focus,d)).on(J,s(d._blur,d)),d.wrapper.find(K).off(F,m.preventDefault).eq(0).on(F,s(function(a){this._keydown(a,"firstHandle")},d)).end().eq(1).on(F,s(function(a){this._keydown(a,"lastHandle")},d)),d.options.enabled=!0)},disable:function(){var a=this;a.wrapper.removeClass(O).addClass(P),a.wrapper.find("input").prop(R,R),a.wrapper.find(M+", "+L).off(B).off(D),a.wrapper.find(K).attr(T,-1).off(C).off(F).off(G).off(I).off(J),a.options.enabled=!1},_keydown:function(a,b){var c,d,e,f=this,g=f.options.selectionStart,h=f.options.selectionEnd;a.keyCode in f._keyMap&&(f._clearTooltipTimeout(),"firstHandle"==b?(e=f._activeHandleDrag=f._firstHandleDrag,g=f._keyMap[a.keyCode](g),g>h&&(h=g)):(e=f._activeHandleDrag=f._lastHandleDrag,h=f._keyMap[a.keyCode](h),g>h&&(g=h)),f._setValueInRange(g,h),c=Math.max(g,f.options.selectionStart),d=Math.min(h,f.options.selectionEnd),e.selectionEnd=Math.max(d,f.options.selectionStart),e.selectionStart=Math.min(c,f.options.selectionEnd),e._updateTooltip(f.value()[f._activeHandle]),a.preventDefault())},_update:function(a,b){var c=this,d=c.value(),e=d[0]!=a||d[1]!=b;c.value([a,b]),e&&c.trigger(x,{values:[a,b],value:[a,b]})},value:function(a){return a&&a.length?this._value(a[0],a[1]):this._value()},_value:function(a,b){var c=this,d=c.options,e=d.selectionStart,f=d.selectionEnd;return isNaN(a)&&isNaN(b)?[e,f]:(a=j(a),b=j(b),a>=d.min&&a<=d.max&&b>=d.min&&b<=d.max&&b>=a&&(e!=a||f!=b)&&(c.element.find("input").eq(0).prop("value",i(a)).end().eq(1).prop("value",i(b)),d.selectionStart=a,d.selectionEnd=b,c._refresh(),c._refreshAriaAttr(a,b)),void 0)},values:function(a,b){return t(a)?this._value(a[0],a[1]):this._value(a,b)},_refresh:function(){var a=this,b=a.options;a.trigger(E,{values:[b.selectionStart,b.selectionEnd],value:[b.selectionStart,b.selectionEnd]}),b.selectionStart==b.max&&b.selectionEnd==b.max&&a._setZIndex("firstHandle")},_refreshAriaAttr:function(a,b){var c,d=this,e=d.wrapper.find(K),f=d._activeHandleDrag;c=d._getFormattedValue([a,b],f),e.eq(0).attr("aria-valuenow",a),e.eq(1).attr("aria-valuenow",b),e.attr("aria-valuetext",c)},_setValueInRange:function(a,b){var c=this.options;a=u.max(u.min(a,c.max),c.min),b=u.max(u.min(b,c.max),c.min),a==c.max&&b==c.max&&this._setZIndex("firstHandle"),this._update(u.min(a,b),u.max(a,b))},_setZIndex:function(b){this.wrapper.find(K).each(function(c){a(this).css("z-index","firstHandle"==b?1-c:c)})},destroy:function(){var a=this;n.fn.destroy.call(a),a.wrapper.off(z).find(M+", "+L).off(z).end().find(K).off(z),a._firstHandleDrag.draggable.destroy(),a._lastHandleDrag.draggable.destroy()}});X.Selection=function(a,b,c){function d(d){d=d||[];var f=d[0]-c.min,g=d[1]-c.min,h=u.ceil(j(f/c.smallStep)),i=u.ceil(j(g/c.smallStep)),k=b._pixelSteps[h],l=b._pixelSteps[i],m=parseInt(a.eq(0)[b._outerSize]()/2,10),n=b._isRtl?2:0;a.eq(0).css(b._position,k-m-n).end().eq(1).css(b._position,l-m-n),e(k,l)}function e(a,c){var d,e,f=b._trackDiv.find(".k-slider-selection");d=u.abs(a-c),f[b._size](d),b._isRtl?(e=u.max(a,c),f.css("right",b._maxSelection-e-1)):(e=u.min(a,c),f.css(b._position,e-1))}d(b.value()),b.bind([x,y,E],function(a){d(a.values)})},m.ui.plugin(X)}(window.kendo.jQuery),function(a,b){function c(a){return o.test(a)}function d(a){return n.test(a)||/^\d+$/.test(a)}function e(a){return!c(a)&&!d(a)}function f(a,b){return function(c,d){var e=this.element.find(c).data(z);if(1==arguments.length)return e[a];if(e[a]=d,b){var f=this.element.data("kendo"+this.options.name);f.trigger(t)}}}function g(a){var b=this,c=a.orientation;b.owner=a,b._element=a.element,b.orientation=c,k(b,c===v?G:F),b._resizable=new h.ui.Resizable(a.element,{orientation:c,handle:".k-splitbar-draggable-"+c+"[data-marker="+a._marker+"]",hint:l(b._createHint,b),start:l(b._start,b),max:l(b._max,b),min:l(b._min,b),invalidClass:"k-restricted-size-"+c,resizeend:l(b._stop,b)})}var h=window.kendo,i=h.ui,j=h.keys,k=a.extend,l=a.proxy,m=i.Widget,n=/^\d+(\.\d+)?px$/i,o=/^\d+(\.\d+)?%$/i,p=".kendoSplitter",q="expand",r="collapse",s="contentLoad",t="resize",u="layoutChange",v="horizontal",w="vertical",x="mouseenter",y="click",z="pane",A="mouseleave",B="k-state-focused",C="k-"+z,D="."+C,E=m.extend({init:function(b,c){var d,e=this;m.fn.init.call(e,b,c),e.wrapper=e.element,d=e.options.orientation.toLowerCase()!=w,e.orientation=d?v:w,e._dimension=d?"width":"height",e._keys={decrease:d?j.LEFT:j.UP,increase:d?j.RIGHT:j.DOWN},e._resizeStep=10,e.bind(t,l(e._resize,e)),e._marker=h.guid().substring(0,8),e._resizeHandler=function(){e.trigger(t)},e._initPanes(),a(window).on("resize",e._resizeHandler),e.element.children(".k-splitbar-draggable-"+e.orientation).length&&(e.resizing=new g(e)),e.element.triggerHandler("init"+p)},events:[q,r,s,t,u],_parentSplitter:function(){return this.element.parent().closest(".k-splitter")
},_attachEvents:function(){var b=this,c=b.options.orientation;b.element.children(".k-splitbar-draggable-"+c).on("keydown"+p,a.proxy(b._keydown,b)).on("mousedown"+p,function(a){a.currentTarget.focus()}).on("focus"+p,function(b){a(b.currentTarget).addClass(B)}).on("blur"+p,function(c){a(c.currentTarget).removeClass(B),b.resizing&&b.resizing.end()}).on(x+p,function(){a(this).addClass("k-splitbar-"+b.orientation+"-hover")}).on(A+p,function(){a(this).removeClass("k-splitbar-"+b.orientation+"-hover")}).on("mousedown"+p,function(){b._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+p,function(){b._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+p,l(b._togglePane,b)).children(".k-collapse-next, .k-collapse-prev").on(y+p,b._arrowClick(r)).end().children(".k-expand-next, .k-expand-prev").on(y+p,b._arrowClick(q)).end().end(),b._parentSplitter().each(function(){var c=a(this),d=c.data("kendo"+b.options.name);d?d.bind(t,b._resizeHandler):c.off("init"+p).one("init"+p,function(){a(this).data("kendo"+b.options.name).bind(t,b._resizeHandler),b._resizeHandler()})})},_detachEvents:function(){var a=this,b=a._parentSplitter().data("kendo"+a.options.name);a.element.children(".k-splitbar-draggable-"+a.orientation).off(p).end().children(".k-splitbar").off("dblclick"+p).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(p),b&&b.unbind(t,a._resizeHandler)},options:{name:"Splitter",orientation:v,panes:[]},destroy:function(){var b=this;m.fn.destroy.call(b),b._detachEvents(),b.resizing&&b.resizing.destroy(),a(window).off("resize",b._resizeHandler),h.destroy(b.element)},_keydown:function(b){var c,d=this,e=b.keyCode,f=d.resizing,g=a(b.currentTarget),h=d._keys,i=e===h.increase,k=e===h.decrease;i||k?(b.ctrlKey?(c=g[k?"next":"prev"](),f&&f.isResizing()&&f.end(),c[d._dimension]()?d._triggerAction(r,g[k?"prev":"next"]()):d._triggerAction(q,c)):f&&f.move((k?-1:1)*d._resizeStep,g),b.preventDefault()):e===j.ENTER&&f&&(f.end(),b.preventDefault())},_initPanes:function(){var b=this,c=b.options.panes||[];b.element.addClass("k-widget").addClass("k-splitter").children(":not(script)").each(function(d,e){var f=c&&c[d];e=a(e).attr("role","group").addClass(C),e.data(z,f?f:{}).toggleClass("k-scrollable",f?f.scrollable!==!1:!0),b.ajaxRequest(e)}).end(),b.trigger(t)},ajaxRequest:function(a,b,c){var d,e=this;a=e.element.find(a),d=a.data(z),b=b||d.contentUrl,b&&(a.append("<span class='k-icon k-loading k-pane-loading' />"),h.isLocalUrl(b)?jQuery.ajax({url:b,data:c||{},type:"GET",dataType:"html",success:function(b){a.html(b),e.trigger(s,{pane:a[0]})}}):a.removeClass("k-scrollable").html("<iframe src='"+b+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+"</iframe>"))},_triggerAction:function(a,b){this.trigger(a,{pane:b[0]})||this[a](b[0])},_togglePane:function(b){var c,d=this,e=a(b.target);e.closest(".k-splitter")[0]==d.element[0]&&(c=e.children(".k-icon:not(.k-resize-handle)"),1===c.length&&(c.is(".k-collapse-prev")?d._triggerAction(r,e.prev()):c.is(".k-collapse-next")?d._triggerAction(r,e.next()):c.is(".k-expand-prev")?d._triggerAction(q,e.prev()):c.is(".k-expand-next")&&d._triggerAction(q,e.next())))},_arrowClick:function(b){var c=this;return function(d){var e,f=a(d.target);f.closest(".k-splitter")[0]==c.element[0]&&(e=f.is(".k-"+b+"-prev")?f.parent().prev():f.parent().next(),c._triggerAction(b,e))}},_updateSplitBar:function(a,b,c){var d=function(a,b){return b?"<div class='k-icon "+a+"' />":""},e=this.orientation,f=b.resizable!==!1&&c.resizable!==!1,g=b.collapsible,h=b.collapsed,i=c.collapsible,j=c.collapsed;a.addClass("k-splitbar k-state-default k-secondary k-splitbar-"+e).attr("role","separator").attr("aria-expanded",!(h||j)).removeClass("k-splitbar-"+e+"-hover").toggleClass("k-splitbar-draggable-"+e,f&&!h&&!j).toggleClass("k-splitbar-static-"+e,!f&&!g&&!i).html(d("k-collapse-prev",g&&!h&&!j)+d("k-expand-prev",g&&h&&!j)+d("k-resize-handle",f)+d("k-collapse-next",i&&!j&&!h)+d("k-expand-next",i&&j&&!h))},_updateSplitBars:function(){var b=this;this.element.children(".k-splitbar").each(function(){var c=a(this),d=c.prevAll(D).first().data(z),e=c.nextAll(D).first().data(z);e&&b._updateSplitBar(c,d,e)})},_panes:function(){return this.element.children(D)},_resize:function(){var b=this,d=b.element,f=d.children(D),g=b.orientation==v,h=d.children(".k-splitbar"),i=h.length,j=g?"width":"height",k=d[j]();0===i?(i=f.length-1,f.slice(0,i).after("<div tabindex='0' class='k-splitbar' data-marker='"+b._marker+"' />"),b._updateSplitBars(),h=d.children(".k-splitbar")):b._updateSplitBars(),h.each(function(){k-=this[g?"offsetWidth":"offsetHeight"]});var l=0,m=0,n=a();f.css({position:"absolute",top:0})[j](function(){var b,d=a(this).data(z)||{};if(d.collapsed)b=0,a(this).css("overflow","hidden");else{if(e(d.size))return n=n.add(this),void 0;b=parseInt(d.size,10),c(d.size)&&(b=Math.floor(b*k/100))}return m++,l+=b,b}),k-=l;var o=n.length,p=Math.floor(k/o);n.slice(0,o-1).css(j,p).end().eq(o-1).css(j,k-(o-1)*p);var q=0,r=g?"height":"width",s=g?"left":"top",t=g?"offsetWidth":"offsetHeight";if(0===o){var w=f.filter(function(){return!(a(this).data(z)||{}).collapsed}).last();w[j](k+w[0][t])}d.children(":not(script)").css(r,d[r]()).each(function(a,b){b.style[s]=Math.floor(q)+"px",q+=b[t]}),b._detachEvents(),b._attachEvents(),b.trigger(u)},toggle:function(a,c){var d;a=this.element.find(a),d=a.data(z),(c||d.collapsible)&&(1==arguments.length&&(c=d.collapsed===b?!1:d.collapsed),d.collapsed=!c,d.collapsed?a.css("overflow","hidden"):a.css("overflow",""),this.trigger(t),this.resizing&&this.resizing.destroy(),this.element.children(".k-splitbar-draggable-"+this.orientation).length&&(this.resizing=new g(this)))},collapse:function(a){this.toggle(a,!1)},expand:function(a){this.toggle(a,!0)},size:f("size",!0),min:f("min"),max:f("max")});i.plugin(E);var F={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},G={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};g.prototype={press:function(a){this._resizable.press(a)},move:function(a,b){this.pressed||(this.press(b),this.pressed=!0),this._resizable.target||this._resizable.press(b),this._resizable.move(a)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(b){var c=this;return a("<div class='k-ghost-splitbar k-ghost-splitbar-"+c.orientation+" k-state-default' />").css(c.alternateSizingProperty,b[c.alternateSizingProperty]())},_start:function(b){var c=this,e=a(b.currentTarget),f=e.prev(),g=e.next(),h=f.data(z),i=g.data(z),j=parseInt(f[0].style[c.positioningProperty],10),k=parseInt(g[0].style[c.positioningProperty],10)+g[0][c.sizingDomProperty]-e[0][c.sizingDomProperty],l=parseInt(c._element.css(c.sizingProperty),10),m=function(a){var b=parseInt(a,10);return(d(a)?b:l*b/100)||0},n=m(h.min),o=m(h.max)||k-j,p=m(i.min),q=m(i.max)||k-j;c.previousPane=f,c.nextPane=g,c._maxPosition=Math.min(k-p,j+o),c._minPosition=Math.max(j+n,k-q)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(b){var c=this,d=a(b.currentTarget),f=c.owner;if(f._panes().children(".k-splitter-overlay").remove(),b.keyCode!==h.keys.ESC){var g=b.position,i=d.prev(),j=d.next(),k=i.data(z),l=j.data(z),m=g-parseInt(i[0].style[c.positioningProperty],10),n=parseInt(j[0].style[c.positioningProperty],10)+j[0][c.sizingDomProperty]-g-d[0][c.sizingDomProperty],o=c._element.children(D).filter(function(){return e(a(this).data(z).size)}).length;(!e(k.size)||o>1)&&(e(k.size)&&o--,k.size=m+"px"),(!e(l.size)||o>1)&&(l.size=n+"px"),f._resizeHandler()}return!1}}}(window.kendo.jQuery),function(a,b){function c(b){return a.map(d(b),function(a){return a.name}).join(", ")}function d(a){var b=a[0];return b.files?e(b.files):[{name:h(b.value),extension:g(b.value),size:null}]}function e(b){return a.map(b,function(a){return f(a)})}function f(a){var b=a.name||a.fileName;return{name:q.htmlEncode(b),extension:g(b),size:a.size||a.fileSize,rawFile:a}}function g(a){var b=a.match(t);return b?b[0]:""}function h(a){var b=a.lastIndexOf("\\");return-1!=b?a.substr(b+1):a}function i(b,c,d){if(c._supportsRemove()){var e=b.data("fileNames"),f=a.map(e,function(a){return a.name});c._submitRemove(f,d,function(a,d,f){c._removeFileEntry(b),c.trigger(x,{operation:"remove",files:e,response:a,XMLHttpRequest:f})},function(a){c.trigger(y,{operation:"remove",files:e,XMLHttpRequest:a}),s("Server response: "+a.responseText)})}}function j(b,c,d){var e=!1,f="";try{f=a.parseJSON(k(b)),e=!0}catch(g){d()}e&&c(f)}function k(a){return("undefined"==typeof a||""===a)&&(a="{}"),a}function l(a){a.stopPropagation(),a.preventDefault()}function m(a,b,c,d){var e,f;a.on("dragenter"+b,function(){c(),f=new Date,e||(e=setInterval(function(){var a=new Date-f;a>100&&(d(),clearInterval(e),e=null)},100))}).on("dragover"+b,function(){f=new Date})}function n(a){return a.is(".k-file-progress, .k-file-success, .k-file-error")}function o(b){return a(b.target).closest(".k-file")}function p(){var c={},d=a("meta[name=csrf-token]").attr("content"),e=a("meta[name=csrf-param]").attr("content");return a("input[name^='__RequestVerificationToken']").each(function(){c[this.name]=this.value}),e!==b&&d!==b&&(c[e]=d),c}var q=window.kendo,r=q.ui.Widget,s=q.logToConsole,t=/\.([^\.]+)$/,u=".kendoUpload",v="select",w="upload",x="success",y="error",z="complete",A="cancel",B="progress",C="remove",D=r.extend({init:function(b,c){var d=this;r.fn.init.call(d,b,c),d.name=b.name,d.multiple=d.options.multiple,d.localization=d.options.localization;var e=d.element;d.wrapper=e.closest(".k-upload"),0===d.wrapper.length&&(d.wrapper=d._wrapInput(e)),d._activeInput(e),d.toggle(d.options.enabled);var f=d._ns=u+"-"+q.guid();if(e.closest("form").on("submit"+f,a.proxy(d._onParentFormSubmit,d)).on("reset"+f,a.proxy(d._onParentFormReset,d)),d.options.async.saveUrl){d._module=d._supportsFormData()?new G(d):new F(d),d._async=!0;var g=d.options.files;g.length>0&&d._renderInitialFiles(g)}else d._module=new E(d);d._supportsDrop()&&d._setupDropZone(),d.wrapper.on("click",".k-upload-action",a.proxy(d._onFileAction,d)).on("click",".k-upload-selected",a.proxy(d._onUploadSelected,d))},events:[v,w,x,y,z,A,B,C],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(a){var b=this,c=b.element;r.fn.setOptions.call(b,a),b.multiple=b.options.multiple,c.attr("multiple",b._supportsMultiple()?b.multiple:!1),b.toggle(b.options.enabled)},enable:function(a){a="undefined"==typeof a?!0:a,this.toggle(a)},disable:function(){this.toggle(!1)},toggle:function(a){a="undefined"==typeof a?a:!a,this.wrapper.toggleClass("k-state-disabled",a),this.element.prop("disabled",a)},destroy:function(){var b=this;a(document).add(a(".k-dropzone",b.wrapper)).add(b.wrapper.closest("form")).off(b._ns),a(b.element).off(u),r.fn.destroy.call(b)},_addInput:function(b){if(b[0].nodeType){var c=this,d=b.clone().val("");d.insertAfter(c.element).data("kendoUpload",c),a(c.element).hide().removeAttr("id").off(u),c._activeInput(d)}},_activeInput:function(b){var c=this,d=c.wrapper;c.element=b,b.attr("multiple",c._supportsMultiple()?c.multiple:!1).attr("autocomplete","off").on("click"+u,function(a){d.hasClass("k-state-disabled")&&a.preventDefault()}).on("focus"+u,function(){a(this).parent().addClass("k-state-focused")}).on("blur"+u,function(){a(this).parent().removeClass("k-state-focused")}).on("change"+u,a.proxy(c._onInputChange,c))},_onInputChange:function(b){var c=this,e=a(b.target),f=c.trigger(v,{files:d(e)});f?(c._addInput(e),e.remove()):c._module.onSelect(b)},_onDrop:function(b){var c=b.originalEvent.dataTransfer,d=this,f=c.files;if(l(b),f.length>0){var g=d.trigger(v,{files:e(f)});g||d._module.onSelect({target:a(".k-dropzone",d.wrapper)},f)}},_renderInitialFiles:function(b){var c=this,d=0;for(d=0;d<b.length;d++){var e=b[d],f=c._enqueueFile(e.name,{fileNames:[e]});f.addClass("k-file-success").data("files",[b[d]]),a(".k-progress",f).width("100%"),a(".k-upload-status",f).prepend("<span class='k-upload-pct'>100%</span>"),c._fileAction(f,C)}},_prepareTemplateData:function(a,b){var c=b.fileNames,d={},e=0,f=0;for(f=0;f<c.length;f++)e+=c[f].size;return d.name=a,d.size=e,d.files=b.fileNames,d},_prepareDefaultFileEntryTemplate:function(b,c){var d="",e=a("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+b+"'>"+b+"</span>"+"<strong class='k-upload-status'></strong>"+"</li>");return 1==c.fileNames.length&&c.fileNames[0].extension&&(d=c.fileNames[0].extension.substring(1),a(".k-icon",e).addClass("k-i-"+d)),e},_enqueueFile:function(b,c){var d,e,f,g=this,h=a(".k-upload-files",g.wrapper),i=g.options,j=i.template;return 0===h.length&&(h=a("<ul class='k-upload-files k-reset'></ul>").appendTo(g.wrapper),g.options.showFileList||h.hide(),g.wrapper.removeClass("k-upload-empty")),d=a(".k-file",h),j?(f=g._prepareTemplateData(b,c),j=q.template(j),e=a("<li class='k-file'>"+j(f)+"</li>"),e.find(".k-upload-action").addClass("k-button k-button-bare")):e=g._prepareDefaultFileEntryTemplate(b,c),e.appendTo(h).data(c),g._async||a(".k-progress",e).width("100%"),!g.multiple&&d.length>0&&g._module.onRemove({target:a(d,g.wrapper)}),e},_removeFileEntry:function(b){var c,d,e=this,f=b.closest(".k-upload-files");b.remove(),c=a(".k-file",f),d=a(".k-file-success, .k-file-error",f),d.length===c.length&&this._hideUploadButton(),0===c.length&&(f.remove(),e.wrapper.addClass("k-upload-empty"),e._hideHeaderUploadstatus())},_fileAction:function(a,b){var c={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},d={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};c.hasOwnProperty(b)&&(this._clearFileAction(a),this.options.template?a.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+d[b]+" "+c[b]+"' title='"+this.localization[b]+"'></span>").show():(a.find(".k-upload-status .k-upload-action").remove(),a.find(".k-upload-status").append(this._renderAction(c[b],this.localization[b],d[b]))))},_fileState:function(b,c){var d=this.localization,e={uploading:{text:d.statusUploading},uploaded:{text:d.statusUploaded},failed:{text:d.statusFailed}},f=e[c];f&&a(".k-icon:not(.k-delete, .k-cancel, .k-retry)",b).text(f.text)},_renderAction:function(b,c,d){return""!==b?a("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+d+" "+b+"' title='"+c+"'></span>"+"</button>"):a("<button type='button' class='k-button'>"+c+"</button>")},_clearFileAction:function(b){a(".k-upload-action",b).empty().hide()},_onFileAction:function(b){var c=this;if(!c.wrapper.hasClass("k-state-disabled")){var d=a(b.target).closest(".k-upload-action"),e=d.find(".k-icon"),f=d.closest(".k-file"),g={files:f.data("fileNames")};e.hasClass("k-delete")?c.trigger(C,g)||c._module.onRemove({target:a(f,c.wrapper)},g.data):e.hasClass("k-cancel")?(c.trigger(A,g),c._module.onCancel({target:a(f,c.wrapper)}),this._checkAllComplete(),c._updateHeaderUploadStatus()):e.hasClass("k-retry")&&(a(".k-warning",f).remove(),c._module.onRetry({target:a(f,c.wrapper)}))}return!1},_onUploadSelected:function(){return this._module.onSaveSelected(),!1},_onFileProgress:function(b,c){var d;this.options.template?a(".k-progress",b.target).width(c+"%"):(d=a(".k-upload-pct",b.target),0===d.length&&a(".k-upload-status",b.target).prepend("<span class='k-upload-pct'></span>"),a(".k-upload-pct",b.target).text(c+"%"),a(".k-progress",b.target).width(c+"%")),this.trigger(B,{files:o(b).data("fileNames"),percentComplete:c})},_onUploadSuccess:function(a,b,c){var d=o(a);this._fileState(d,"uploaded"),d.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this.trigger(x,{files:d.data("fileNames"),response:b,operation:"upload",XMLHttpRequest:c}),this._supportsRemove()?this._fileAction(d,C):this._clearFileAction(d),this._checkAllComplete()},_onUploadError:function(b,c){var d=o(b),e=a(".k-upload-pct",d);this._fileState(d,"failed"),d.removeClass("k-file-progress").addClass("k-file-error"),a(".k-progress",d).width("100%"),e.length>0?e.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):a(".k-upload-status",d).prepend("<span class='k-icon k-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(d,"retry"),this.trigger(y,{operation:"upload",files:d.data("fileNames"),XMLHttpRequest:c}),s("Server response: "+c.responseText),this._checkAllComplete()},_showUploadButton:function(){var b=a(".k-upload-selected",this.wrapper);0===b.length&&(b=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(b)},_hideUploadButton:function(){a(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var b=this.localization,c=a(".k-dropzone",this.wrapper),d=a(".k-upload-status-total",this.wrapper);0!==d.length&&d.remove(),d='<strong class="k-upload-status k-upload-status-total">'+b.headerStatusUploading+'<span class="k-icon k-loading">'+b.statusUploading+"</span>"+"</strong>",c.length>0?c.append(d):a(".k-upload-button",this.wrapper).after(d)},_updateHeaderUploadStatus:function(){var b=a(".k-file",this.wrapper).not(".k-file-success, .k-file-error");if(0===b.length){var c=a(".k-upload-status-total",this.wrapper),d=a(".k-icon",c).removeClass("k-loading").addClass("k-warning").text(this.localization.statusUploaded);c.text(this.localization.headerStatusUploaded).append(d)}},_hideHeaderUploadstatus:function(){a(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var b=this,c=b.element;if("undefined"!=typeof this._module.onAbort&&this._module.onAbort(),!c.value){var d=a(c);d.attr("disabled","disabled"),window.setTimeout(function(){d.removeAttr("disabled")},0)}},_onParentFormReset:function(){a(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var a=this._userAgent().indexOf("Windows")>-1;return!(q.support.browser.opera||q.support.browser.safari&&a)},_supportsDrop:function(){var a=this._userAgent().toLowerCase(),b=/chrome/.test(a),c=!b&&/safari/.test(a),d=c&&/windows/.test(a);return!d&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var b=this;a(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var c=b._ns,d=a(".k-dropzone",b.wrapper).append(a("<em>"+b.localization.dropFilesHere+"</em>")).on("dragenter"+c,l).on("dragover"+c,function(a){a.preventDefault()}).on("drop"+c,a.proxy(this._onDrop,this));m(d,c,function(){d.addClass("k-dropzone-hovered")},function(){d.removeClass("k-dropzone-hovered")}),m(a(document),c,function(){d.addClass("k-dropzone-active"),d.closest(".k-upload").removeClass("k-upload-empty")},function(){d.removeClass("k-dropzone-active"),0===a("li.k-file",d.closest(".k-upload")).length&&d.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(b,c,d,e){var f=this,g=f.options.async.removeField||"fileNames",h=a.extend(c,p());h[g]=b,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:k,url:this.options.async.removeUrl,traditional:!0,data:h,success:d,error:e})},_wrapInput:function(a){var b=this,c=b.options;return a.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>"),c.async.saveUrl||a.closest(".k-upload").addClass("k-upload-sync"),a.closest(".k-upload").addClass("k-upload-empty"),a.closest(".k-button").append("<span>"+this.localization.select+"</span>"),a.closest(".k-upload")},_checkAllComplete:function(){0===a(".k-file.k-file-progress",this.wrapper).length&&this.trigger(z)}}),E=function(a){this.name="syncUploadModule",this.element=a.wrapper,this.upload=a,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};E.prototype={onSelect:function(b){var e=this.upload,f=a(b.target);e._addInput(f);var g=e._enqueueFile(c(f),{relatedInput:f,fileNames:d(f)});e._fileAction(g,C)},onRemove:function(a){var b=o(a);b.data("relatedInput").remove(),this.upload._removeFileEntry(b)}};var F=function(a){this.name="iframeUploadModule",this.element=a.wrapper,this.upload=a,this.iframes=[]};D._frameId=0,F.prototype={onSelect:function(b){var c=this.upload,d=a(b.target),e=this.prepareUpload(d);c.options.async.autoUpload?this.performUpload(e):(c._supportsRemove()&&this.upload._fileAction(e,C),c._showUploadButton())},prepareUpload:function(b){var e=this.upload,f=a(e.element),g=e.options.async.saveField||b.attr("name");e._addInput(b),b.attr("name",g);var h=this.createFrame(e.name+"_"+D._frameId++);this.registerFrame(h);var i=this.createForm(e.options.async.saveUrl,h.attr("name")).append(f),j=e._enqueueFile(c(b),{frame:h,relatedInput:f,fileNames:d(b)});return h.data({form:i,file:j}),j},performUpload:function(b){var c={files:b.data("fileNames")},d=b.data("frame"),e=this.upload;if(e.trigger(w,c))e._removeFileEntry(d.data("file")),this.cleanupFrame(d),this.unregisterFrame(d);else{e._hideUploadButton(),e._showHeaderUploadStatus(),d.appendTo(document.body);var f=d.data("form").appendTo(document.body);c.data=a.extend({},c.data,p());for(var g in c.data){var h=f.find("input[name='"+g+"']");0===h.length&&(h=a("<input>",{type:"hidden",name:g}).appendTo(f)),h.val(c.data[g])}e._fileAction(b,A),e._fileState(b,"uploading"),a(b).addClass("k-file-progress"),d.one("load",a.proxy(this.onIframeLoad,this)),f[0].submit()}},onSaveSelected:function(){var b=this;a(".k-file",this.element).each(function(){var c=a(this),d=n(c);d||b.performUpload(c)})},onIframeLoad:function(b){var c,d=a(b.target);try{c=d.contents().text()}catch(e){c="Error trying to get server response: "+e}this.processResponse(d,c)},processResponse:function(b,c){var d=b.data("file"),e=this,f={responseText:c};j(c,function(c){a.extend(f,{statusText:"OK",status:"200"}),e.upload._onFileProgress({target:a(d,e.upload.wrapper)},100),e.upload._onUploadSuccess({target:a(d,e.upload.wrapper)},c,f),e.cleanupFrame(b),e.unregisterFrame(b)},function(){a.extend(f,{statusText:"error",status:"500"}),e.upload._onUploadError({target:a(d,e.upload.wrapper)},f)})},onCancel:function(b){var c=a(b.target).data("frame");this.stopFrameSubmit(c),this.cleanupFrame(c),this.unregisterFrame(c),this.upload._removeFileEntry(c.data("file"))},onRetry:function(a){var b=o(a);this.performUpload(b)},onRemove:function(a,b){var c=o(a),d=c.data("frame");d?(this.unregisterFrame(d),this.upload._removeFileEntry(c),this.cleanupFrame(d)):i(c,this.upload,b)},onAbort:function(){var b=this.element,c=this;a.each(this.iframes,function(){a("input",this.data("form")).appendTo(b),c.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(b){return a("<iframe name='"+b+"'"+" id='"+b+"'"+" style='display:none;' />")},createForm:function(b,c){return a("<form enctype='multipart/form-data' method='POST' action='"+b+"'"+" target='"+c+"'"+"/>")},stopFrameSubmit:function(a){"undefined"!=typeof a.stop?a.stop():a.document&&a.document.execCommand("Stop")},registerFrame:function(a){this.iframes.push(a)},unregisterFrame:function(b){this.iframes=a.grep(this.iframes,function(a){return a.attr("name")!=b.attr("name")})},cleanupFrame:function(a){var b=a.data("form");a.data("file").data("frame",null),setTimeout(function(){b.remove(),a.remove()},1)}};var G=function(a){this.name="formDataUploadModule",this.element=a.wrapper,this.upload=a};G.prototype={onSelect:function(b,c){var d=this.upload,f=this,g=a(b.target),h=c?e(c):this.inputFiles(g),i=this.prepareUpload(g,h);a.each(i,function(){d.options.async.autoUpload?f.performUpload(this):(d._supportsRemove()&&d._fileAction(this,C),d._showUploadButton())})},prepareUpload:function(b,c){var d=this.enqueueFiles(c);return b.is("input")&&(a.each(d,function(){a(this).data("relatedInput",b)}),b.data("relatedFileEntries",d),this.upload._addInput(b)),d},enqueueFiles:function(b){var c,d,e,f,g=this.upload,h=b.length,i=[];if(g.options.async.batch===!0)c=a.map(b,function(a){return a.name}).join(", "),f=g._enqueueFile(c,{fileNames:b}),f.data("files",b),i.push(f);else for(d=0;h>d;d++)e=b[d],c=e.name,f=g._enqueueFile(c,{fileNames:[e]}),f.data("files",[e]),i.push(f);return i},inputFiles:function(a){return d(a)},performUpload:function(b){var c=this.upload,d=this.createFormData(b.data("files")),e=new XMLHttpRequest,f={files:b.data("fileNames"),XMLHttpRequest:e};if(c.trigger(w,f))this.removeFileEntry(b);else{c._fileAction(b,A),c._hideUploadButton(),c._showHeaderUploadStatus(),f.data=a.extend({},f.data,p());for(var g in f.data)d.append(g,f.data[g]);c._fileState(b,"uploading"),a(b).addClass("k-file-progress"),this.postFormData(c.options.async.saveUrl,d,b,e)}},onSaveSelected:function(){var b=this;a(".k-file",this.element).each(function(){var c=a(this),d=n(c);d||b.performUpload(c)})},onCancel:function(a){var b=o(a);this.stopUploadRequest(b),this.removeFileEntry(b)},onRetry:function(a){var b=o(a);this.performUpload(b)},onRemove:function(a,b){var c=o(a);c.hasClass("k-file-success")?i(c,this.upload,b):this.removeFileEntry(c)},postFormData:function(a,b,c,d){var e=this;c.data("request",d),d.addEventListener("load",function(a){e.onRequestSuccess.call(e,a,c)},!1),d.addEventListener(y,function(a){e.onRequestError.call(e,a,c)},!1),d.upload.addEventListener("progress",function(a){e.onRequestProgress.call(e,a,c)},!1),d.open("POST",a,!0),d.withCredentials="true",d.send(b)},createFormData:function(a){var b,c=new FormData,d=this.upload,e=a.length;for(b=0;e>b;b++)c.append(d.options.async.saveField||d.name,a[b].rawFile);return c},onRequestSuccess:function(b,c){function d(){f.upload._onUploadError({target:a(c,f.upload.wrapper)},e)}var e=b.target,f=this;e.status>=200&&e.status<=299?j(e.responseText,function(b){f.upload._onFileProgress({target:a(c,f.upload.wrapper)},100),f.upload._onUploadSuccess({target:a(c,f.upload.wrapper)},b,e),f.cleanupFileEntry(c)},d):d()},onRequestError:function(b,c){var d=b.target;this.upload._onUploadError({target:a(c,this.upload.wrapper)},d)},cleanupFileEntry:function(b){var c=b.data("relatedInput"),d=!0;c&&(a.each(c.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=b[0]&&(d=d&&this.hasClass("k-file-success"))}),d&&c.remove())},removeFileEntry:function(a){this.cleanupFileEntry(a),this.upload._removeFileEntry(a)},onRequestProgress:function(b,c){var d=Math.round(100*b.loaded/b.total);this.upload._onFileProgress({target:a(c,this.upload.wrapper)},d)},stopUploadRequest:function(a){a.data("request").abort()}},q.ui.plugin(D)}(window.kendo.jQuery),function(a,b){function c(a){return"undefined"!=typeof a}function d(a,b,c){return Math.max(Math.min(parseInt(a,10),1/0===c?c:parseInt(c,10)),parseInt(b,10))}function e(a,b){var c=a.children(y);return c.data("kendoWindow")||c.data("kendo"+b)}function f(b){return a(v).filter(function(){var c=a(this),d=e(c,b);return d.options.modal&&c.is(F)&&d.options.visible}).sort(function(b,c){return+a(b).css("zIndex")-+a(c).css("zIndex")})}function g(a,b){return function(){var c=this,d=c.wrapper,e=d[0].style,f=c.options;if(!f.isMaximized&&!f.isMinimized)return c.restoreOptions={width:e.width,height:e.height},d.find(z).hide().end().find(T).parent().hide().eq(0).before(j.action({name:"Restore"})),b.call(c),"maximize"==a?c.wrapper.find(x).find(W).parent().hide():c.wrapper.find(x).find(W).parent().show(),c}}function h(a){var b=this;b.owner=a,b._draggable=new m(a.wrapper,{filter:z,group:a.wrapper.id+"-resizing",dragstart:p(b.dragstart,b),drag:p(b.drag,b),dragend:p(b.dragend,b)})}function i(a,b){var c=this;c.owner=a,c._draggable=new m(a.wrapper,{filter:b,group:a.wrapper.id+"-moving",dragstart:p(c.dragstart,c),drag:p(c.drag,c),dragend:p(c.dragend,c),dragcancel:p(c.dragcancel,c)})}var j,k=window.kendo,l=k.ui.Widget,m=k.ui.Draggable,n=a.isPlainObject,o=k._activeElement,p=a.proxy,q=a.extend,r=a.each,s=k.template,t="body",u=".kendoWindow",v=".k-window",w=".k-window-title",x=w+"bar",y=".k-window-content",z=".k-resize-handle",A=".k-overlay",B="k-content-frame",C="k-loading",D="k-state-hover",E="k-state-focused",F=":visible",G="hidden",H="cursor",I="open",J="activate",K="deactivate",L="close",M="refresh",N="resize",O="dragstart",P="dragend",Q="error",R="overflow",S="zIndex",T=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",U=".k-i-pin",V=".k-i-unpin",W=U+","+V,X=".k-window-titlebar .k-window-action",Y=k.isLocalUrl,Z=l.extend({init:function(d,e){var f,g,m,o,q,s,t=this,z={},A=!1,B=e&&e.actions&&!e.actions.length;l.fn.init.call(t,d,e),e=t.options,d=t.element,o=e.content,B&&(e.actions=[]),t.appendTo=a(e.appendTo||document.body),t._animations(),o&&!n(o)&&(o=e.content={url:o}),d.find("script").filter(function(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}).remove(),d.parent().is(t.appendTo)||e.position.top!==b&&e.position.left!==b||(d.is(F)?(z=d.offset(),A=!0):(g=d.css("visibility"),m=d.css("display"),d.css({visibility:G,display:""}),z=d.offset(),d.css({visibility:g,display:m}))),c(e.visible)&&null!==e.visible||(e.visible=d.is(F)),f=t.wrapper=d.closest(v),d.is(".k-content")&&f[0]||(d.addClass("k-window-content k-content"),t._createWindow(d,e),f=t.wrapper=d.closest(v),t._dimensions()),f.css({top:e.position.top||z.top||"",left:e.position.left||z.left||""}),e.pinned&&t.pin(!0),o&&t.refresh(o),e.visible&&t.toFront(),q=f.children(y),t._tabindex(q),e.visible&&e.modal&&t._overlay(f.is(F)).css({opacity:.5}),f.on("mouseenter"+u,X,function(){a(this).addClass(D)}).on("mouseleave"+u,X,function(){a(this).removeClass(D)}).on("click"+u,X,p(t._windowActionHandler,t)),q.on("keydown"+u,p(t._keydown,t)).on("focus"+u,function(){f.addClass(E)}).on("blur"+u,function(){f.removeClass(E)}),e.resizable&&(f.on("dblclick"+u,x,function(b){return a(b.target).closest(".k-window-action").length||t.toggleMaximization(),this}),r("n e s w se sw ne nw".split(" "),function(a,b){f.append(j.resizeHandle(b))}),t.resizing=new h(t)),e.draggable&&(t.dragging=new i(t,e.draggable.dragHandle||x)),s=d.attr("id"),s&&(s+="_wnd_title",f.find(x).children(w).attr("id",s),q.attr({role:"dialog","aria-labelledby":s})),f.add(f.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+u,p(t.toFront,t)),t.touchScroller=k.touchScroller(d),t._resizeHandler=function(a){return t._onDocumentResize(a)},a(window).on("resize",t._resizeHandler),e.visible&&(t.trigger(I),t.trigger(J)),k.notify(t)},_dimensions:function(){var a=this,b=a.wrapper,c=a.options,e=c.width,f=c.height,g=c.maxHeight;a.title(c.title),r(["minWidth","minHeight","maxWidth","maxHeight"],function(a,d){var e=c[d];e&&1/0!=e&&b.css(d,e)}),g&&1/0!=g&&a.element.css("maxHeight",g),e&&(e.toString().indexOf("%")>0?b.width(e):b.width(d(e,c.minWidth,c.maxWidth))),f&&(f.toString().indexOf("%")>0?b.height(f):b.height(d(f,c.minHeight,c.maxHeight))),c.visible||b.hide()},_animations:function(){var a=this.options;a.animation===!1&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},setOptions:function(a){l.fn.setOptions.call(this,a),this._animations(),this._dimensions()},events:[I,J,K,L,M,N,O,P,Q],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null},_closable:function(){return a.inArray("close",a.map(this.options.actions,function(a){return a.toLowerCase()
}))>-1},_keydown:function(a){var b,c,e,f,g=this,h=g.options,i=k.keys,j=a.keyCode,l=g.wrapper,m=10,n=g.options.isMaximized;a.target!=a.currentTarget||g._closing||(j==i.ESC&&g._closable()&&g._close(!0),!h.draggable||a.ctrlKey||n||(b=k.getOffset(l),j==i.UP?c=l.css("top",b.top-m):j==i.DOWN?c=l.css("top",b.top+m):j==i.LEFT?c=l.css("left",b.left-m):j==i.RIGHT&&(c=l.css("left",b.left+m))),h.resizable&&a.ctrlKey&&!n&&(j==i.UP?(c=!0,f=l.height()-m):j==i.DOWN&&(c=!0,f=l.height()+m),j==i.LEFT?(c=!0,e=l.width()-m):j==i.RIGHT&&(c=!0,e=l.width()+m),c&&(l.css({width:d(e,h.minWidth,h.maxWidth),height:d(f,h.minHeight,h.maxHeight)}),g.trigger(N))),c&&a.preventDefault())},_overlay:function(b){var c=this.appendTo.children(".k-overlay"),d=this.wrapper;return c.length||(c=a("<div class='k-overlay' />")),c.insertBefore(d[0]).toggle(b).css(S,parseInt(d.css(S),10)-1),c},_windowActionHandler:function(b){var c=a(b.target).closest(".k-window-action").find(".k-icon"),d=this;d._closing||r({"k-i-close":function(){d._close(!0)},"k-i-maximize":d.maximize,"k-i-minimize":d.minimize,"k-i-restore":d.restore,"k-i-refresh":d.refresh,"k-i-pin":d.pin,"k-i-unpin":d.unpin},function(a,e){return c.hasClass(a)?(b.preventDefault(),e.call(d),!1):void 0})},center:function(){var b=this,c=b.wrapper,d=a(window);return b.options.isMaximized?b:(c.css({left:d.scrollLeft()+Math.max(0,(d.width()-c.width())/2),top:d.scrollTop()+Math.max(0,(d.height()-c.height())/2)}),b)},title:function(a){var b=this,c=b.wrapper,d=b.options,e=c.find(x),f=e.children(w),g=e.outerHeight();return arguments.length?(a===!1?(c.addClass("k-window-titleless"),e.remove()):(e.length||c.prepend(j.titlebar(q(j,d))),c.css("padding-top",g),e.css("margin-top",-g)),f.text(a),b):f.text()},content:function(a){var b=this.wrapper.children(y),c=b.children(".km-scroll-container");return b=c[0]?c:b,a?(k.destroy(this.element.children()),b.html(a),this):b.html()},open:function(){var b,c=this,d=c.wrapper,e=c.options,f=e.animation.open,g=d.children(y),h=g.css(R);return c.trigger(I)||(c._closing&&d.kendoStop(!0,!0),c._closing=!1,c.toFront(),e.autoFocus&&c.element.focus(),e.visible=!0,e.modal&&(b=c._overlay(!1),f.duration?b.kendoStop().kendoAnimate({effects:"fade:in",duration:f.duration}).show():b.css("opacity",.5).show()),d.is(F)||(g.css(R,G),d.show().kendoStop().kendoAnimate({effects:f.effects,duration:f.duration,complete:function(){e.autoFocus&&c.element.focus(),c.trigger(J),g.css(R,h)}}))),e.isMaximized&&(c._documentScrollTop=a(document).scrollTop(),a("html, body").css(R,G)),c},_close:function(c){var d,g,h,i=this,j=i.wrapper,k=i.options,l=k.animation.open,m=k.animation.close;j.is(F)&&!i.trigger(L,{userTriggered:!!c})&&(i._closing=!0,k.visible=!1,a(v).each(function(b,c){var d=a(c),e=d.find(y);c!=j&&e.find("> ."+B).length>0&&e.children(".k-overlay").remove()}),d=f(k.name),g=k.modal&&!d.length,h=k.modal?i._overlay(!0):a(b),g?m.duration?h.kendoStop().kendoAnimate({effects:"fade:out",duration:m.duration,hide:!0}):h.hide():d.length&&e(d.eq(d.length-1),k.name)._overlay(!0),j.kendoStop().kendoAnimate({effects:m.effects||l.effects,reverse:m.reverse===!0,duration:m.duration,complete:function(){j.hide(),i.trigger(K)}})),i.options.isMaximized&&(a("html, body").css(R,""),i._documentScrollTop&&i._documentScrollTop>0&&a(document).scrollTop(i._documentScrollTop))},close:function(){return this._close(!1),this},toFront:function(b){var c=this,d=c.wrapper,e=d[0],f=+d.css(S),g=f,h=o(),i=c.element,k=b&&b.target?b.target:null;if(a(v).each(function(b,c){var d=a(c),g=d.css(S),h=d.find(y);isNaN(g)||(f=Math.max(+g,f)),c!=e&&h.find("> ."+B).length>0&&h.append(j.overlay)}),(10001==f||f>g)&&d.css(S,f+2),c.element.find("> .k-overlay").remove(),!(!c.options.autoFocus||a(h).is(i)||a(k).is(X+","+X+" .k-icon,:input,a")||i.find(h).length&&i.find(k).length)){i.focus();var l=a(window).scrollTop(),m=parseInt(c.wrapper.position().top,10);m>0&&0>m-l&&(l>0?a(window).scrollTop(m):c.wrapper.css("top",l))}return c},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var b=this,c=b.options,d=b.restoreOptions;if(c.isMaximized||c.isMinimized)return b.wrapper.css({position:b.options.pinned?"fixed":"absolute",left:d.left,top:d.top,width:d.width,height:d.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(T).parent().show().end().end().find(W).parent().show(),a("html, body").css(R,""),this._documentScrollTop&&this._documentScrollTop>0&&a(document).scrollTop(this._documentScrollTop),c.isMaximized=c.isMinimized=!1,b.trigger(N),b},maximize:g("maximize",function(){var b=this,c=b.wrapper,d=c.position();q(b.restoreOptions,{left:d.left,top:d.top}),c.css({left:0,top:0,position:"fixed"}),this._documentScrollTop=a(document).scrollTop(),a("html, body").css(R,G),b.options.isMaximized=!0,b._onDocumentResize()}),minimize:g("minimize",function(){var a=this;a.wrapper.css("height",""),a.element.hide(),a.options.isMinimized=!0}),pin:function(b){var c=this,d=a(window),e=c.wrapper,f=parseInt(e.css("top"),10),g=parseInt(e.css("left"),10);(b||!c.options.pinned&&!c.options.isMaximized)&&(e.css({position:"fixed",top:f-d.scrollTop(),left:g-d.scrollLeft()}),e.find(x).find(U).addClass("k-i-unpin").removeClass("k-i-pin"),c.options.pinned=!0)},unpin:function(){var b=this,c=a(window),d=b.wrapper,e=parseInt(d.css("top"),10),f=parseInt(d.css("left"),10);b.options.pinned&&!b.options.isMaximized&&(d.css({position:"",top:e+c.scrollTop(),left:f+c.scrollLeft()}),d.find(x).find(V).addClass("k-i-pin").removeClass("k-i-unpin"),b.options.pinned=!1)},_onDocumentResize:function(){var b=this,c=b.wrapper,d=a(window);b.options.isMaximized&&(c.css({width:d.width(),height:d.height()-parseInt(c.css("padding-top"),10)}),b.trigger(N))},refresh:function(b){var d,e,f,g=this,h=g.options,i=a(g.element);return n(b)||(b={url:b}),b=q({},h.content,b),e=c(h.iframe)?h.iframe:b.iframe,f=b.url,f?(c(e)||(e=!Y(f)),e?(d=i.find("."+B)[0],d?d.src=f||d.src:i.html(j.contentFrame(q({},h,{content:b}))),i.find("."+B).unbind("load"+u).on("load"+u,function(){g.trigger(M)})):g._ajaxRequest(b)):(b.template&&g.content(s(b.template)({})),g.trigger(M)),g},_ajaxRequest:function(b){var c=this,d=b.template,e=c.wrapper.find(".k-window-titlebar .k-i-refresh"),f=setTimeout(function(){e.addClass(C)},100);a.ajax(q({type:"GET",dataType:"html",cache:!1,error:p(function(a,b){c.trigger(Q,{status:b,xhr:a})},c),complete:function(){clearTimeout(f),e.removeClass(C)},success:p(function(a){d&&(a=s(d)(a||{})),c.content(a),c.element.prop("scrollTop",0),c.trigger(M)},c)},b))},destroy:function(){var b,c,d=this;l.fn.destroy.call(d),k.destroy(d.wrapper),d.resizing&&d.resizing.destroy(),d.dragging&&d.dragging.destroy(),d.element.children("iframe").remove(),d.wrapper.remove().add(d.wrapper.find(".k-resize-handle,.k-window-titlebar")).off(u),a(window).off("resize",d._resizeHandler),b=f(),c=d.options.modal&&!b.length,c?d._overlay(!1).remove():b.length>0&&e(b.eq(b.length-1),d.options.name)._overlay(!0)},_createWindow:function(){var b,c,d=this,e=d.element,f=d.options,g=k.support.isRtl(e);f.scrollable===!1&&e.attr("style","overflow:hidden;"),c=a(j.wrapper(f)),f.title!==!1&&c.append(j.titlebar(q(j,f))),b=e.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");return this.src="",a}),c.toggleClass("k-rtl",g).appendTo(d.appendTo).append(e).find("iframe:not(.k-content)").each(function(a){this.src=b[a]}),c.find(".k-window-title").css(g?"left":"right",c.find(".k-window-actions").outerWidth()+10),e.show(),e.find("[data-role=editor]").each(function(){var b=a(this).data("kendoEditor");b&&b.refresh()})}});j={wrapper:s("<div class='k-widget k-window' />"),action:s("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:s("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:s("<iframe frameborder='0' title='#= title #' class='"+B+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:s("<div class='k-resize-handle k-resize-#= data #'></div>")},h.prototype={dragstart:function(b){var c=this,d=c.owner,e=d.wrapper;c.elementPadding=parseInt(d.wrapper.css("padding-top"),10),c.initialCursorPosition=k.getOffset(e,"position"),c.resizeDirection=b.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),c.initialSize={width:e.width(),height:e.height()},c.containerOffset=k.getOffset(d.appendTo),e.append(j.overlay).find(z).not(b.currentTarget).hide(),a(t).css(H,b.currentTarget.css(H))},drag:function(a){var b,c,e,f,g=this,h=g.owner,i=h.wrapper,j=h.options,k=g.resizeDirection,l=g.containerOffset,m=g.initialCursorPosition,n=g.initialSize,o=Math.max(a.x.location,l.left),p=Math.max(a.y.location,l.top);k.indexOf("e")>=0?(b=o-m.left,i.width(d(b,j.minWidth,j.maxWidth))):k.indexOf("w")>=0&&(f=m.left+n.width,b=d(f-o,j.minWidth,j.maxWidth),i.css({left:f-b-l.left,width:b})),k.indexOf("s")>=0?(c=p-m.top-g.elementPadding,i.height(d(c,j.minHeight,j.maxHeight))):k.indexOf("n")>=0&&(e=m.top+n.height,c=d(e-p,j.minHeight,j.maxHeight),i.css({top:e-c-l.top,height:c})),h.trigger(N)},dragend:function(b){var c=this,d=c.owner,e=d.wrapper;return e.find(A).remove().end().find(z).not(b.currentTarget).show(),a(t).css(H,""),d.touchScroller&&d.touchScroller.reset(),27==b.keyCode&&e.css(c.initialCursorPosition).css(c.initialSize),!1},destroy:function(){this._draggable.destroy()}},i.prototype={dragstart:function(b){var c=this.owner,d=c.element,e=d.find(".k-window-actions"),f=k.getOffset(c.appendTo);c.trigger(O),c.initialWindowPosition=k.getOffset(c.wrapper,"position"),c.startPosition={left:b.x.client-c.initialWindowPosition.left,top:b.y.client-c.initialWindowPosition.top},c.minLeftPosition=e.length>0?e.outerWidth()+parseInt(e.css("right"),10)-d.outerWidth():20-d.outerWidth(),c.minLeftPosition-=f.left,c.minTopPosition=-f.top,c.wrapper.append(j.overlay).find(z).hide(),a(t).css(H,b.currentTarget.css(H))},drag:function(b){var c=this.owner,d={left:Math.max(b.x.client-c.startPosition.left,c.minLeftPosition),top:Math.max(b.y.client-c.startPosition.top,c.minTopPosition)};a(c.wrapper).css(d)},_finishDrag:function(){var b=this.owner;b.wrapper.find(z).toggle(!b.options.isMinimized).end().find(A).remove(),a(t).css(H,"")},dragcancel:function(a){this._finishDrag(),a.currentTarget.closest(v).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(P),!1},destroy:function(){this._draggable.destroy()}},k.ui.plugin(Z)}(window.kendo.jQuery);